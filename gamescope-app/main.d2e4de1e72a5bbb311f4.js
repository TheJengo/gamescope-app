(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},c=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function l(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:i,_unsubscribe:o,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(a){e=a instanceof u?d(a.errors):[a]}}if(c(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(l(n))try{n.unsubscribe()}catch(a){e=e||[],a instanceof u?e=e.concat(d(a.errors)):e.push(a)}}}if(e)throw new u(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[p](){return this}static create(t,e,n){const r=new f(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends f{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(t){return t}let y=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?v:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const w=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class _ extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class C extends f{constructor(t){super(t),this.destination=t}}let x=(()=>{class t extends y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new C(this)}lift(t){const e=new S(this,this);return e.operator=t,e}next(t){if(this.closed)throw new w;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new w;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new w;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new w;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new w;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new _(this,t))}asObservable(){const t=new y;return t.source=this,t}}return t.create=(t,e)=>new S(t,e),t})();class S extends x{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function k(t){return t&&"function"==typeof t.schedule}function E(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new O(t,e))}}class O{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new T(t,this.project,this.thisArg))}}class T extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const A=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const N=M(),D=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function I(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const R=t=>{if(t&&"function"==typeof t[g])return r=t,t=>{const e=r[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(D(t))return A(t);if(I(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[N])return e=t,t=>{const n=e[N]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=l(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,r};function P(t,e){return new y(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function V(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new y(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[g]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(I(t))return function(t,e){return new y(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(D(t))return P(t,e);if(function(t){return t&&"function"==typeof t[N]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new y(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[N](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof y?t:new y(R(t))}class F extends f{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class j extends f{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function L(t,e){if(!e.closed)return t instanceof y?t.subscribe(e):R(t)(e)}function z(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(z((n,r)=>V(t(n,r)).pipe(E((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new U(t,n)))}class U{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new H(t,this.project,this.concurrent))}}class H extends j{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new F(this),n=this.destination;n.add(e);const r=L(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function B(t=Number.POSITIVE_INFINITY){return z(v,t)}function $(t,e){return e?P(t,e):new y(A(t))}function q(){return function(t){return t.lift(new W(t))}}class W{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new G(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class G extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class J extends y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Z(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return q()(this)}}const K=(()=>{const t=J.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Z extends C{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Q(){return new x}function Y(t){return{toString:t}.toString()}const X="__parameters__";function tt(t,e,n){return Y(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(X)?t[X]:Object.defineProperty(t,X,{value:[]})[X];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const et=tt("Inject",t=>({token:t})),nt=tt("Optional"),rt=tt("Self"),it=tt("SkipSelf");var ot=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function st(t){for(let e in t)if(t[e]===st)return e;throw Error("Could not find renamed property on target object.")}function at(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ct(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function lt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function ut(t){return ht(t,t[pt])||ht(t,t[gt])}function ht(t,e){return e&&e.token===t?e:null}function dt(t){return t&&(t.hasOwnProperty(ft)||t.hasOwnProperty(vt))?t[ft]:null}const pt=st({"\u0275prov":st}),ft=st({"\u0275inj":st}),mt=st({"\u0275provFallback":st}),gt=st({ngInjectableDef:st}),vt=st({ngInjectorDef:st});function yt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function bt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const wt=st({__forward_ref__:st});function _t(t){return t.__forward_ref__=_t,t.toString=function(){return yt(this())},t}function Ct(t){return xt(t)?t():t}function xt(t){return"function"==typeof t&&t.hasOwnProperty(wt)&&t.__forward_ref__===_t}const St="undefined"!=typeof globalThis&&globalThis,kt="undefined"!=typeof window&&window,Et="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ot="undefined"!=typeof global&&global,Tt=St||Ot||kt||Et,At=st({"\u0275cmp":st}),Mt=st({"\u0275dir":st}),Nt=st({"\u0275pipe":st}),Dt=st({"\u0275mod":st}),It=st({"\u0275loc":st}),Rt=st({"\u0275fac":st}),Pt=st({__NG_ELEMENT_ID__:st});class Vt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ct({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Ft=new Vt("INJECTOR",-1),jt={},Lt=/\n/gm,zt="__source",Ut=st({provide:String,useValue:st});let Ht,Bt=void 0;function $t(t){const e=Bt;return Bt=t,e}function qt(t){const e=Ht;return Ht=t,e}function Wt(t,e=ot.Default){if(void 0===Bt)throw new Error("inject() must be called from an injection context");return null===Bt?Jt(t,void 0,e):Bt.get(t,e&ot.Optional?null:void 0,e)}function Gt(t,e=ot.Default){return(Ht||Wt)(Ct(t),e)}function Jt(t,e,n){const r=ut(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ot.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${yt(t)}]`)}function Kt(t){const e=[];for(let n=0;n<t.length;n++){const r=Ct(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=ot.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof nt||"Optional"===i.ngMetadataName||i===nt?n|=ot.Optional:i instanceof it||"SkipSelf"===i.ngMetadataName||i===it?n|=ot.SkipSelf:i instanceof rt||"Self"===i.ngMetadataName||i===rt?n|=ot.Self:t=i instanceof et||i===et?i.token:i}e.push(Gt(t,n))}else e.push(Gt(r))}return e}class Zt{get(t,e=jt){if(e===jt){const e=new Error(`NullInjectorError: No provider for ${yt(t)}!`);throw e.name="NullInjectorError",e}return e}}class Qt{}class Yt{}function Xt(t,e){t.forEach(t=>Array.isArray(t)?Xt(t,e):e(t))}function te(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ee(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ne(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function re(t,e,n){let r=oe(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ie(t,e){const n=oe(t,e);if(n>=0)return t[1|n]}function oe(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var se=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),ae=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const ce={},le=[];let ue=0;function he(t){return Y(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===se.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||le,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ae.Emulated,id:"c",styles:t.styles||le,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=ue++,n.inputs=ge(t.inputs,e),n.outputs=ge(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(de):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(pe):null,n})}function de(t){return be(t)||function(t){return t[Mt]||null}(t)}function pe(t){return function(t){return t[Nt]||null}(t)}const fe={};function me(t){const e={type:t.type,bootstrap:t.bootstrap||le,declarations:t.declarations||le,imports:t.imports||le,exports:t.exports||le,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&Y(()=>{fe[t.id]=t.type}),e}function ge(t,e){if(null==t)return ce;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ve=he;function ye(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function be(t){return t[At]||null}function we(t,e){return t.hasOwnProperty(Rt)?t[Rt]:null}function _e(t,e){const n=t[Dt]||null;if(!n&&!0===e)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return n}const Ce=20,xe=10;function Se(t){return Array.isArray(t)&&"object"==typeof t[1]}function ke(t){return Array.isArray(t)&&!0===t[1]}function Ee(t){return 0!=(8&t.flags)}function Oe(t){return 2==(2&t.flags)}function Te(t){return 1==(1&t.flags)}function Ae(t){return null!==t.template}function Me(t){return 0!=(512&t[2])}class Ne{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function De(){return Ie}function Ie(t){return t.type.prototype.ngOnChanges&&(t.setInput=Pe),Re}function Re(){const t=Ve(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===ce)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Pe(t,e,n,r){const i=Ve(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:ce,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new Ne(c&&c.currentValue,e,s===ce),t[r]=e}function Ve(t){return t.__ngSimpleChanges__||null}De.ngInherit=!0;let Fe=void 0;function je(){return void 0!==Fe?Fe:"undefined"!=typeof document?document:void 0}function Le(t){return!!t.listen}const ze={createRenderer:(t,e)=>je()};function Ue(t){for(;Array.isArray(t);)t=t[0];return t}function He(t,e){return Ue(e[t+Ce])}function Be(t,e){return Ue(e[t.index])}function $e(t,e){return t.data[e+Ce]}function qe(t,e){return t[e+Ce]}function We(t,e){const n=e[t];return Se(n)?n:n[0]}function Ge(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Je(t){return 4==(4&t[2])}function Ke(t){return 128==(128&t[2])}function Ze(t,e){return null===t||null==e?null:t[e]}function Qe(t){t[18]=0}function Ye(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Xe={lFrame:_n(null),bindingsEnabled:!0,checkNoChangesMode:!1};function tn(){return Xe.bindingsEnabled}function en(){return Xe.lFrame.lView}function nn(){return Xe.lFrame.tView}function rn(t){Xe.lFrame.contextLView=t}function on(){return Xe.lFrame.currentTNode}function sn(t,e){Xe.lFrame.currentTNode=t,Xe.lFrame.isParent=e}function an(){return Xe.lFrame.isParent}function cn(){Xe.lFrame.isParent=!1}function ln(){return Xe.checkNoChangesMode}function un(t){Xe.checkNoChangesMode=t}function hn(){const t=Xe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function dn(){return Xe.lFrame.bindingIndex++}function pn(t){const e=Xe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function fn(t,e){const n=Xe.lFrame;n.bindingIndex=n.bindingRootIndex=t,mn(e)}function mn(t){Xe.lFrame.currentDirectiveIndex=t}function gn(){return Xe.lFrame.currentQueryIndex}function vn(t){Xe.lFrame.currentQueryIndex=t}function yn(t,e){const n=wn();Xe.lFrame=n,n.currentTNode=e,n.lView=t}function bn(t){const e=wn(),n=t[1];Xe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function wn(){const t=Xe.lFrame,e=null===t?null:t.child;return null===e?_n(t):e}function _n(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Cn(){const t=Xe.lFrame;return Xe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const xn=Cn;function Sn(){const t=Cn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function kn(){return Xe.lFrame.selectedIndex}function En(t){Xe.lFrame.selectedIndex=t}function On(){const t=Xe.lFrame;return $e(t.tView,t.selectedIndex)}function Tn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function An(t,e,n){Dn(t,e,3,n)}function Mn(t,e,n,r){(3&t[2])===n&&Dn(t,e,n,r)}function Nn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Dn(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(In(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function In(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Rn=-1;class Pn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Vn(t,e,n){const r=Le(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];jn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Fn(t){return 3===t||4===t||6===t}function jn(t){return 64===t.charCodeAt(0)}function Ln(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||zn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function zn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Un(t){return t!==Rn}function Hn(t){return 32767&t}function Bn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}function $n(t){return"string"==typeof t?t:null==t?"":""+t}function qn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$n(t)}const Wn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tt))();function Gn(t){return t instanceof Function?t():t}let Jn=!0;function Kn(t){const e=Jn;return Jn=t,e}let Zn=0;function Qn(t,e){const n=Xn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Yn(r.data,t),Yn(e,null),Yn(r.blueprint,null));const i=tr(t,e),o=t.injectorIndex;if(Un(i)){const t=Hn(i),n=Bn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Yn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Xn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function tr(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Rn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Rn}function er(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pt)&&(r=n[Pt]),null==r&&(r=n[Pt]=Zn++);const i=255&r,o=1<<i,s=64&i,a=32&i,c=e.data;128&i?s?a?c[t+7]|=o:c[t+6]|=o:a?c[t+5]|=o:c[t+4]|=o:s?a?c[t+3]|=o:c[t+2]|=o:a?c[t+1]|=o:c[t]|=o}(t,e,n)}function nr(t,e,n,r=ot.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Pt)?t[Pt]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){yn(e,t);try{const t=i();if(null!=t||r&ot.Optional)return t;throw new Error(`No provider for ${qn(n)}!`)}finally{xn()}}else if("number"==typeof i){if(-1===i)return new lr(t,e);let o=null,s=Xn(t,e),a=Rn,c=r&ot.Host?e[16][6]:null;for((-1===s||r&ot.SkipSelf)&&(a=-1===s?tr(t,e):e[s+8],a!==Rn&&cr(r,!1)?(o=e[1],s=Hn(a),e=Bn(a,e)):s=-1);-1!==s;){const t=e[1];if(ar(i,s,t.data)){const t=ir(s,e,n,o,r,c);if(t!==rr)return t}a=e[s+8],a!==Rn&&cr(r,e[1].data[s+8]===c)&&ar(i,s,e)?(o=t,s=Hn(a),e=Bn(a,e)):s=-1}}}if(r&ot.Optional&&void 0===i&&(i=null),0==(r&(ot.Self|ot.Host))){const t=e[9],o=qt(void 0);try{return t?t.get(n,i,r&ot.Optional):Jt(n,i,r&ot.Optional)}finally{qt(o)}}if(r&ot.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${qn(n)}]`)}const rr={};function ir(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],c=or(a,s,n,null==r?Oe(a)&&Jn:r!=s&&2===a.type,i&ot.Host&&o===a);return null!==c?sr(e,s,c,a):rr}function or(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,l=o>>20,u=i?a+l:t.directiveEnd;for(let h=r?a:a+l;h<u;h++){const t=s[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=s[c];if(t&&Ae(t)&&t.type===n)return c}return null}function sr(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Pn){const s=i;if(s.resolving)throw new Error("Circular dep for "+qn(o[n]));const a=Kn(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?qt(s.injectImpl):null;yn(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Ie(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==c&&qt(c),Kn(a),s.resolving=!1,xn()}}return i}function ar(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function cr(t,e){return!(t&ot.Self||t&ot.Host&&e)}class lr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return nr(this._tNode,this._lView,t,void 0,e)}}function ur(t){const e=t;if(xt(t))return()=>{const t=ur(Ct(e));return t?t():null};let n=we(e);if(null===n){const t=dt(e);n=t&&t.factory}return n||null}function hr(t){return Y(()=>{const e=t.prototype.constructor,n=e[Rt]||ur(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Rt]||ur(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function dr(t){return t.ngDebugContext}function pr(t){return t.ngOriginalError}function fr(t,...e){t.error(...e)}class mr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||fr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?dr(t)?dr(t):this._findContext(pr(t)):null}_findOriginalError(t){let e=pr(t);for(;e&&pr(e);)e=pr(e);return e}}class gr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class vr extends gr{getTypeName(){return"HTML"}}class yr extends gr{getTypeName(){return"Style"}}class br extends gr{getTypeName(){return"Script"}}class wr extends gr{getTypeName(){return"URL"}}class _r extends gr{getTypeName(){return"ResourceURL"}}function Cr(t){return t instanceof gr?t.changingThisBreaksApplicationSecurity:t}function xr(t,e){const n=Sr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Sr(t){return t instanceof gr&&t.getTypeName()||null}let kr=!0,Er=!1;function Or(){return Er=!0,kr}class Tr{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Ar{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Mr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Nr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Dr(t){return(t=String(t)).match(Mr)||t.match(Nr)?t:(Or()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Ir(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Rr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Pr=Ir("area,br,col,hr,img,wbr"),Vr=Ir("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fr=Ir("rp,rt"),jr=Rr(Fr,Vr),Lr=Rr(Pr,Rr(Vr,Ir("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Rr(Fr,Ir("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jr),zr=Ir("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ur=Ir("srcset"),Hr=Rr(zr,Ur,Ir("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ir("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Br=Ir("script,style,template");class $r{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Lr.hasOwnProperty(e))return this.sanitizedSomething=!0,!Br.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Hr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;zr[o]&&(s=Dr(s)),Ur[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Dr(t.trim())).join(", ")),this.buf.push(" ",e,'="',Gr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Lr.hasOwnProperty(e)&&!Pr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Gr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const qr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wr=/([^\#-~ |!])/g;function Gr(t){return t.replace(/&/g,"&amp;").replace(qr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Wr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jr;function Kr(t,e){let n=null;try{Jr=Jr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Tr:new Ar(t)}(t);let r=e?String(e):"";n=Jr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Jr.getInertBodyElement(r)}while(r!==o);const s=new $r,a=s.sanitizeChildren(Zr(n)||n);return Or()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Zr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Zr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Qr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Yr(t){const e=ti();return e?e.sanitize(Qr.HTML,t)||"":xr(t,"HTML")?Cr(t):Kr(je(),$n(t))}function Xr(t){const e=ti();return e?e.sanitize(Qr.URL,t)||"":xr(t,"URL")?Cr(t):Dr($n(t))}function ti(){const t=en();return t&&t[12]}function ei(t,e){t.__ngContext__=e}function ni(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ri="ng-template";function ii(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ni(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function oi(t){return 0===t.type&&t.tagName!==ri}function si(t,e,n){return e===(0!==t.type||n?t.tagName:ri)}function ai(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Fn(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!si(t,c,n)||""===c&&1===e.length){if(ci(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!ii(t.attrs,l,n)){if(ci(r))return!1;s=!0}continue}const u=li(8&r?"class":c,i,oi(t),n);if(-1===u){if(ci(r))return!1;s=!0;continue}if(""!==l){let t;t=u>o?"":i[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ni(e,l,0)||2&r&&l!==t){if(ci(r))return!1;s=!0}}}}else{if(!s&&!ci(r)&&!ci(c))return!1;if(s&&ci(c))continue;s=!1,r=c|1&r}}return ci(r)||s}function ci(t){return 0==(1&t)}function li(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ui(t,e,n=!1){for(let r=0;r<e.length;r++)if(ai(t,e[r],n))return!0;return!1}function hi(t,e){return t?":not("+e.trim()+")":e}function di(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ci(s)||(e+=hi(o,i),i=""),r=s,o=o||!ci(r);n++}return""!==i&&(e+=hi(o,i)),e}const pi={};function fi(t){const e=t[3];return ke(e)?e[3]:e}function mi(t){return vi(t[13])}function gi(t){return vi(t[4])}function vi(t){for(;null!==t&&!ke(t);)t=t[4];return t}function yi(t){bi(nn(),en(),kn()+t,ln())}function bi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&An(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Mn(e,r,0,n)}En(n)}function wi(t,e){return t<<17|e<<2}function _i(t){return t>>17&32767}function Ci(t){return 2|t}function xi(t){return(131068&t)>>2}function Si(t,e){return-131069&t|e<<2}function ki(t){return 1|t}function Ei(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];vn(i),n.contentQueries(2,e[o],o)}}}function Oi(t,e,n){return Le(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ti(t,e,n,r,i,o,s,a,c,l){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,Qe(u),u[3]=u[15]=t,u[8]=n,u[10]=s||t&&t[10],u[11]=a||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=o,u[16]=2==e.type?t[16]:u,u}function Ai(t,e,n,r,i){const o=e+Ce,s=t.data[o]||function(t,e,n,r,i){const o=on(),s=an(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s&&null==o.child&&null!==a.parent?o.child=a:s||(o.next=a)),a}(t,o,n,r,i);return sn(s,!0),s}function Mi(t,e,n){bn(e);try{const r=t.viewQuery;null!==r&&so(1,r,n);const i=t.template;null!==i&&Ii(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ei(t,e),t.staticViewQueries&&so(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)eo(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Sn()}}function Ni(t,e,n,r){const i=e[2];if(256==(256&i))return;bn(e);const o=ln();try{Qe(e),Xe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ii(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&An(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Mn(e,n,0,null),Nn(e,0)}if(function(t){for(let e=mi(t);null!==e;e=gi(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ye(r,1),n[2]|=1024}}}(e),function(t){for(let e=mi(t);null!==e;e=gi(e))for(let t=xe;t<e.length;t++){const n=e[t],r=n[1];Ke(n)&&Ni(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ei(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&An(e,n)}else{const n=t.contentHooks;null!==n&&Mn(e,n,1),Nn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,En(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(fn(r,i),s(2,e[i])),i++)}}}finally{En(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)to(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&so(2,c,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&An(e,n)}else{const n=t.viewHooks;null!==n&&Mn(e,n,2),Nn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ye(e[3],-1))}finally{Sn()}}function Di(t,e,n,r){const i=e[10],o=!ln(),s=Je(e);try{o&&!s&&i.begin&&i.begin(),s&&Mi(t,e,r),Ni(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ii(t,e,n,r,i){const o=kn();try{En(-1),2&r&&e.length>Ce&&bi(t,e,0,ln()),n(r,i)}finally{En(o)}}function Ri(t,e,n){tn()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Qn(n,e),ei(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Ae(r);o&&Zi(e,n,r);const c=sr(e,t,a,n);ei(c,e),null!==s&&Qi(0,a-i,c,r,0,s),o&&(We(n.index,e)[8]=c)}}(t,e,n,Be(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-Ce,c=Xe.lFrame.currentDirectiveIndex;try{En(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];mn(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?$i(r,i):s&&o.push(null)}}finally{En(-1),mn(c)}}(t,e,n))}function Pi(t,e,n=Be){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Vi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Fi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Fi(t,e,n,r,i,o,s,a,c,l){const u=Ce+r,h=u+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:pi);return n}(u,h),p="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1}}function ji(t,e,n,r){const i=co(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Li(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function zi(t,e,n,r,i,o,s,a){const c=Be(e,n);let l,u=e.inputs;var h;!a&&null!=u&&(l=u[r])?(uo(t,n,l,r,i),Oe(e)&&function(t,e){const n=We(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.tagName||"",r):i,Le(o)?o.setProperty(c,r,i):jn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Ui(t,e,n,r){let i=!1;if(tn()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ui(n,s.selectors,!1)&&(i||(i=[]),er(Qn(n,e),t,s.type),Ae(s)?(Wi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,Ji(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}qi(t,n,o.length);let a=!1,c=!1;for(let i=0;i<o.length;i++){const l=o[i];n.mergedAttrs=Ln(n.mergedAttrs,l.hostAttrs),Ki(t,e,l),Gi(t.data.length-1,l,s),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!a&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Ce),a=!0),c||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Ce),c=!0),Hi(t,l),r+=l.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,l=null===i||oi(e)?null:Yi(n,i);o.push(l),s=Li(n,c,s),a=Li(t.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),Bi(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ln(n.mergedAttrs,n.attrs),i}function Hi(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Bi(t,e,n){for(let r=0;r<n;r++)e.push(pi),t.blueprint.push(pi),t.data.push(null)}function $i(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function qi(t,e,n){const r=Ce-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Wi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Gi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ae(e)&&(n[""]=t)}}function Ji(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ki(t,e,n){t.data.push(n);const r=n.factory||(n.factory=we(n.type)),i=new Pn(r,Ae(n),null);t.blueprint.push(i),e.push(i)}function Zi(t,e,n){const r=Be(e,t),i=Vi(n),o=t[10],s=no(t,Ti(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Qi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Yi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Xi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function to(t,e){const n=We(e,t);if(Ke(n)){const t=n[1];80&n[2]?Ni(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=mi(e);null!==r;r=gi(r))for(let e=xe;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Ni(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=We(n[r],e);Ke(i)&&i[5]>0&&t(i)}}(n)}}function eo(t,e){const n=We(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Mi(r,n,n[8])}function no(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ro(t){for(;t;){t[2]|=64;const e=fi(t);if(Me(t)&&!e)return t;t=e}return null}function io(t,e,n){const r=e[10];r.begin&&r.begin();try{Ni(t,e,t.template,n)}catch(i){throw lo(e,i),i}finally{r.end&&r.end()}}function oo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ge(n),i=r[1];Di(i,r,i.template,n)}}(t[8])}function so(t,e,n){vn(0),e(t,n)}const ao=(()=>Promise.resolve(null))();function co(t){return t[7]||(t[7]=[])}function lo(t,e){const n=t[9],r=n?n.get(mr,null):null;r&&r.handleError(e)}function uo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],l=t.data[s];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function ho(t,e,n,r,i){if(null!=r){let o,s=!1;ke(r)?o=r:Se(r)&&(s=!0,r=r[0]);const a=Ue(r);0===t&&null!==n?null==i?bo(e,n,a):yo(e,n,a,i||null):1===t&&null!==n?yo(e,n,a,i||null):2===t?function(t,e,n){const r=_o(t,e);r&&function(t,e,n,r){Le(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Ue(n)&&ho(e,t,r,o,i);for(let s=xe;s<n.length;s++){const i=n[s];ko(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function po(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ye(i,-1)),n.splice(r,1)}function fo(t,e){if(t.length<=xe)return;const n=xe+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&po(o,r),e>0&&(t[n-1][4]=r[4]);const s=ee(t,xe+e);ko(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function mo(t,e){if(!(256&e[2])){const n=e[11];Le(n)&&n.destroyNode&&ko(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return go(t[1],t);for(;e;){let n=null;if(Se(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Se(e)&&go(e[1],e),e=e[3];null===e&&(e=t),Se(e)&&go(e[1],e),n=e&&e[4]}e=n}}(e)}}function go(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Pn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Ue(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Le(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ke(e[3])){n!==e[3]&&po(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function vo(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return Be(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==ae.ShadowDom&&n!==ae.Native)return null}return Be(r,n)}function yo(t,e,n,r){Le(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function bo(t,e,n){Le(t)?t.appendChild(e,n):e.appendChild(n)}function wo(t,e,n,r){null!==r?yo(t,e,n,r):bo(t,e,n)}function _o(t,e){return Le(t)?t.parentNode(e):e.parentNode}function Co(t,e){return 3===t.type||4===t.type?Be(t,e):null}function xo(t,e,n,r){const i=vo(t,r,e);if(null!=i){const t=e[11],o=Co(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)wo(t,i,n[e],o);else wo(t,i,n,o)}}function So(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;s&&0===e&&(a&&ei(Ue(a),r),n.flags|=4),64!=(64&n.flags)&&(3===c||4===c?(So(t,e,n.child,r,i,o,!1),ho(e,t,i,a,o)):1===c?Eo(t,e,r,n,i,o):ho(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function ko(t,e,n,r,i,o){So(n,r,t.firstChild,e,i,o,!1)}function Eo(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)ho(e,t,i,a[c],o);else So(t,e,a,s[3],i,o,!0)}function Oo(t,e,n){Le(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function To(t,e,n){Le(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Ao{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Ue(s)),ke(s))for(let e=xe;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=fi(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}mo(this._lView[1],this._lView)}onDestroy(t){ji(this._lView[1],this._lView,null,t)}markForCheck(){ro(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){io(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){un(!0);try{io(t,e,n)}finally{un(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,ko(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Mo extends Ao{constructor(t){super(t),this._view=t}detectChanges(){oo(this._view)}checkNoChanges(){!function(t){un(!0);try{oo(t)}finally{un(!1)}}(this._view)}get context(){return null}}let No,Do,Io;function Ro(t,e,n){return No||(No=class extends t{}),new No(Be(e,n))}function Po(t,e,n,r){return Do||(Do=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ti(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Mi(e,n,t),new Ao(n)}}),0===n.type?new Do(r,n,Ro(e,n,r)):null}function Vo(t,e,n,r){let i;Io||(Io=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Ro(e,this._hostTNode,this._hostView)}get injector(){return new lr(this._hostTNode,this._hostView)}get parentInjector(){const t=tr(this._hostTNode,this._hostView);if(Un(t)){const e=Bn(t,this._hostView),n=Hn(t);return new lr(e[1].data[n+8],e)}return new lr(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-xe}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Qt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),ke(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Io(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=xe+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-xe?(e[4]=n[i],te(n,xe+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=function t(e,n){const r=xe+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return Be(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return ke(e)?t(-1,e):Ue(e)}}{const t=n[16],i=t[6],o=fi(t),s=i.projection[r.projection];return null!=s?e(o,s):e(n,r.next)}}return null}(e,i)}return n[7]}(i,o),a=n[11],c=_o(a,o[7]);return null!==c&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,ko(t,r,n,1,i,o)}(r,o[6],a,n,c,s),t.attachToViewContainerRef(this),te(o[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=fo(this._lContainer,e);n&&(ee(this._lContainer[8],e),mo(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=fo(this._lContainer,e);return n&&null!=ee(this._lContainer[8],e)?new Ao(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(ke(o))i=o;else{let t;if(3===n.type)t=Ue(o);else if(t=r[11].createComment(""),Me(r)){const e=r[11],i=Be(n,r);yo(e,_o(e,i),t,function(t,e){return Le(t)?t.nextSibling(e):e.nextSibling}(e,i))}else xo(r[1],r,t,n);r[n.index]=i=Xi(o,r,t,n),no(r,i)}return new Io(i,n,r)}function Fo(t=!1){return function(t,e,n){if(!n&&Oe(t)){const n=We(t.index,e);return new Ao(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new Ao(e[16],e):null}(on(),en(),t)}let jo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Lo(),t})();const Lo=Fo,zo=Function,Uo=new Vt("Set Injector scope."),Ho={},Bo={},$o=[];let qo=void 0;function Wo(){return void 0===qo&&(qo=new Zt),qo}function Go(t,e=null,n=null,r){return new Jo(t,n,e||Wo(),r)}class Jo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Xt(e,n=>this.processProvider(n,t,e)),Xt([t],t=>this.processInjectorType(t,[],i)),this.records.set(Ft,Qo(void 0,this));const o=this.records.get(Uo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:yt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=jt,n=ot.Default){this.assertNotDestroyed();const r=$t(this);try{if(!(n&ot.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Vt)&&ut(t);e=n&&this.injectableDefInScope(n)?Qo(Ko(t),Ho):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&ot.Self?Wo():this.parent).get(t,e=n&ot.Optional&&e===jt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(yt(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[zt]&&i.unshift(e[zt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=yt(e);if(Array.isArray(e))i=e.map(yt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):yt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Lt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{$t(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(yt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=Ct(t)))return!1;let r=dt(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=dt(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Xt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Xt(r,t=>this.processProvider(t,n,r||$o))}}this.injectorDefTypes.add(o),this.records.set(o,Qo(r.factory,Ho));const a=r.providers;if(null!=a&&!s){const e=t;Xt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Xo(t=Ct(t))?t:Ct(t&&t.provide);const i=function(t,e,n){return Yo(t)?Qo(void 0,t.useValue):Qo(Zo(t),Ho)}(t);if(Xo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Qo(void 0,Ho,!0),e.factory=()=>Kt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Ho&&(e.value=Bo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Ko(t){const e=ut(t),n=null!==e?e.factory:we(t);if(null!==n)return n;const r=dt(t);if(null!==r)return r.factory;if(t instanceof Vt)throw new Error(`Token ${yt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ne(e,"?");throw new Error(`Can't resolve all parameters for ${yt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[pt]||t[gt]||t[mt]&&t[mt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Zo(t,e,n){let r=void 0;if(Xo(t)){const e=Ct(t);return we(e)||Ko(e)}if(Yo(t))r=()=>Ct(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Kt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Gt(Ct(t.useExisting));else{const e=Ct(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return we(e)||Ko(e);r=()=>new e(...Kt(t.deps))}var i;return r}function Qo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Yo(t){return null!==t&&"object"==typeof t&&Ut in t}function Xo(t){return"function"==typeof t}const ts=function(t,e,n){return function(t,e=null,n=null,r){const i=Go(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let es=(()=>{class t{static create(t,e){return Array.isArray(t)?ts(t,e,""):ts(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=jt,t.NULL=new Zt,t.\u0275prov=ct({token:t,providedIn:"any",factory:()=>Gt(Ft)}),t.__NG_ELEMENT_ID__=-1,t})();const ns=new Vt("AnalyzeForEntryComponents");function rs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=bt(i,t):2==o&&(r=bt(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function is(t,e){const n=Ge(t)[1],r=n.data.length-1;Tn(n,{directiveStart:r,directiveEnd:r+1})}function ss(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Ae(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=as(t.inputs),e.declaredInputs=as(t.declaredInputs),e.outputs=as(t.outputs);const n=i.hostBindings;n&&us(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&cs(t,o),s&&ls(t,s),at(t.inputs,i.inputs),at(t.declaredInputs,i.declaredInputs),at(t.outputs,i.outputs),Ae(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===ss&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ln(i.hostAttrs,n=Ln(n,i.hostAttrs))}}(r)}function as(t){return t===ce?{}:t===le?[]:t}function cs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function ls(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function us(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let hs=null;function ds(){if(!hs){const t=Tt.Symbol;if(t&&t.iterator)hs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(hs=n)}}}return hs}class ps{constructor(t){this.wrapped=t}static wrap(t){return new ps(t)}static unwrap(t){return ps.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ps}}function fs(t){return!!ms(t)&&(Array.isArray(t)||!(t instanceof Map)&&ds()in t)}function ms(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function gs(t,e,n){return t[e]=n}function vs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ys(t,e,n,r){const i=en();return vs(i,dn(),e)&&(nn(),function(t,e,n,r,i,o){const s=Be(t,e),a=e[11];if(null==r)Le(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?$n(r):i(r,t.tagName||"",n);Le(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(On(),i,t,e,n,r)),ys}function bs(t,e,n,r,i,o,s,a){const c=en(),l=nn(),u=t+Ce,h=l.firstCreatePass?function(t,e,n,r,i,o,s,a,c){const l=e.consts,u=Ai(e,t,0,s||null,Ze(l,a));Ui(e,n,u,Ze(l,c)),Tn(e,u);const h=u.tViews=Fi(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(t,l,c,e,n,r,i,o,s):l.data[u];sn(h,!1);const d=c[11].createComment("");xo(l,c,d,h),ei(d,c),no(c,c[u]=Xi(d,c,d,h)),Te(h)&&Ri(l,c,h),null!=s&&Pi(c,h,a)}function ws(t){return qe(Xe.lFrame.contextLView,t)}function _s(t,e=ot.Default){const n=en();return null===n?Gt(t,e):nr(on(),n,Ct(t),e)}function Cs(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Fn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(on(),t)}function xs(t,e,n){const r=en();return vs(r,dn(),e)&&zi(nn(),On(),r,t,e,r[11],n,!1),xs}function Ss(t,e,n,r,i){const o=i?"class":"style";uo(t,n,e.inputs[o],o,r)}function ks(t,e,n,r){const i=en(),o=nn(),s=Ce+t,a=i[11],c=i[s]=Oi(e,a,Xe.lFrame.currentNamespace),l=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,c=Ai(e,t,2,i,Ze(a,o));return Ui(e,n,c,Ze(a,s)),null!==c.attrs&&rs(c,c.attrs,!1),null!==c.mergedAttrs&&rs(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];sn(l,!0);const u=l.mergedAttrs;null!==u&&Vn(a,c,u);const h=l.classes;null!==h&&To(a,c,h);const d=l.styles;null!==d&&Oo(a,c,d),xo(o,i,c,l),0===Xe.lFrame.elementDepthCount&&ei(c,i),Xe.lFrame.elementDepthCount++,Te(l)&&(Ri(o,i,l),function(t,e,n){if(Ee(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,l,i)),null!==r&&Pi(i,l)}function Es(){let t=on();an()?cn():(t=t.parent,sn(t,!1));const e=t;Xe.lFrame.elementDepthCount--;const n=nn();n.firstCreatePass&&(Tn(n,t),Ee(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ss(n,e,en(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ss(n,e,en(),e.stylesWithoutHost,!1)}function Os(t,e,n,r){ks(t,e,n,r),Es()}function Ts(){return en()}function As(t){return!!t&&"function"==typeof t.then}function Ms(t){return!!t&&"function"==typeof t.subscribe}function Ns(t,e,n=!1,r){const i=en(),o=nn(),s=on();return function(t,e,n,r,i,o,s=!1,a){const c=Te(r),l=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),u=co(e);let h=!0;if(2===r.type){const d=Be(r,e),p=a?a(d):ce,f=p.target||d,m=u.length,g=a?t=>a(Ue(t[r.index])).target:r.index;if(Le(n)){let s=null;if(!a&&c&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Is(r,e,o,!1);const t=n.listen(p.name||f,i,o);u.push(o,t),l&&l.push(i,g,m,m+1)}}else o=Is(r,e,o,!0),f.addEventListener(i,o,s),u.push(o),l&&l.push(i,g,m,s)}const d=r.outputs;let p;if(h&&null!==d&&(p=d[i])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(o),s=u.length;u.push(o,t),l&&l.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Ns}function Ds(t,e,n){try{return!1!==e(n)}catch(r){return lo(t,r),!1}}function Is(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?We(t.index,e):e;0==(32&e[2])&&ro(s);let a=Ds(e,n,o),c=i.__ngNextListenerFn__;for(;c;)a=Ds(e,c,o)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Rs(t=1){return function(t){return(Xe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Xe.lFrame.contextLView))[8]}(t)}const Ps=[];function Vs(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?_i(o):xi(o),c=!1;for(;0!==a&&(!1===c||s);){const n=t[a+1];Fs(t[a],e)&&(c=!0,t[a+1]=r?ki(n):Ci(n)),a=r?_i(n):xi(n)}c&&(t[n+1]=r?Ci(o):ki(o))}function Fs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&oe(t,e)>=0}const js={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ls(t){return t.substring(js.key,js.keyEnd)}function zs(t,e){const n=js.textEnd;return n===e?-1:(e=js.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,js.key=e,n),Us(t,e,n))}function Us(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Hs(t,e,n){return Ws(t,e,n,!1),Hs}function Bs(t,e){return Ws(t,e,null,!0),Bs}function $s(t){!function(t,e,n,r){const i=nn(),o=pn(2);i.firstUpdatePass&&Js(i,null,o,r);const s=en();if(n!==pi&&vs(s,o,n)){const a=i.data[kn()+Ce];if(ta(a,r)&&!Gs(i,o)){let t=a.classesWithoutHost;null!==t&&(n=bt(t,n||"")),Ss(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===pi&&(i=Ps);let c=0,l=0,u=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==u||null!==h;){const s=c<i.length?i[c+1]:void 0,d=l<o.length?o[l+1]:void 0;let p=null,f=void 0;u===h?(c+=2,l+=2,s!==d&&(p=h,f=d)):null===h||null!==u&&u<h?(c+=2,p=u):(l+=2,p=h,f=d),null!==p&&Qs(t,e,n,r,p,f,true,a),u=c<i.length?i[c]:null,h=l<o.length?o[l]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Ps;const r=[],i=Cr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(re,qs,t,!0)}function qs(t,e){for(let n=function(t){return function(t){js.key=0,js.keyEnd=0,js.value=0,js.valueEnd=0,js.textEnd=t.length}(t),zs(t,Us(t,0,js.textEnd))}(e);n>=0;n=zs(e,n))re(t,Ls(e),!0)}function Ws(t,e,n,r){const i=en(),o=nn(),s=pn(2);o.firstUpdatePass&&Js(o,t,s,r),e!==pi&&vs(i,s,e)&&Qs(o,o.data[kn()+Ce],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=yt(Cr(t)))),t}(e,n),r,s)}function Gs(t,e){return e>=t.expandoStartIndex}function Js(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[kn()+Ce],s=Gs(t,n);ta(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Xe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Zs(n=Ks(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Ks(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==xi(r))return t[_i(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Ks(null,t,e,n[1],r),n=Zs(n,e.attrs,r),function(t,e,n,r){t[_i(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Zs(r,t[o].hostAttrs,n);return Zs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=_i(s),c=xi(s);t[r]=n;let l,u=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||oe(t,l)>0)&&(u=!0)}else l=n;if(i)if(0!==c){const e=_i(t[a+1]);t[r+1]=wi(e,a),0!==e&&(t[e+1]=Si(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=wi(a,0),0!==a&&(t[a+1]=Si(t[a+1],r)),a=r;else t[r+1]=wi(c,0),0===a?a=r:t[c+1]=Si(t[c+1],r),c=r;u&&(t[r+1]=Ci(t[r+1])),Vs(t,l,r,!0),Vs(t,l,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&oe(o,e)>=0&&(n[r+1]=ki(n[r+1]))}(e,l,t,r,o),s=wi(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Ks(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Zs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Zs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),re(t,s,!!n||e[++o]))}return void 0===t?null:t}function Qs(t,e,n,r,i,o,s,a){if(2!==e.type)return;const c=t.data,l=c[a+1];Xs(1==(1&l)?Ys(c,e,n,i,xi(l),s):void 0)||(Xs(o)||2==(2&l)&&(o=Ys(c,null,n,i,a,s)),function(t,e,n,r,i){const o=Le(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,He(kn(),n),i,o))}function Ys(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),c=o?e[1]:e,l=null===c;let u=n[i+1];u===pi&&(u=l?Ps:void 0);let h=l?ie(u,r):c===r?u:void 0;if(o&&!Xs(h)&&(h=ie(e,r)),Xs(h)&&(a=h,s))return a;const d=t[i+1];i=s?_i(d):xi(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=ie(t,r))}return a}function Xs(t){return void 0!==t}function ta(t,e){return 0!=(t.flags&(e?16:32))}function ea(t,e=""){const n=en(),r=nn(),i=t+Ce,o=r.firstCreatePass?Ai(r,t,2,null,null):r.data[i],s=n[i]=function(t,e){return Le(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);xo(r,n,s,o),sn(o,!1)}function na(t){return ra("",t,""),na}function ra(t,e,n){const r=en(),i=function(t,e,n,r){return vs(t,dn(),n)?e+$n(n)+r:pi}(r,t,e,n);return i!==pi&&function(t,e,n){const r=He(e,t),i=t[11];Le(i)?i.setValue(r,n):r.textContent=n}(r,kn(),i),ra}function ia(t,e,n){const r=en();return vs(r,dn(),e)&&zi(nn(),On(),r,t,e,r[11],n,!0),ia}function oa(t,e,n,r,i){if(t=Ct(t),Array.isArray(t))for(let o=0;o<t.length;o++)oa(t[o],e,n,r,i);else{const o=nn(),s=en();let a=Xo(t)?t:Ct(t.provide),c=Zo(t);const l=on(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(Xo(t)||!t.multi){const r=new Pn(c,i,_s),p=ca(a,e,i?u:u+d,h);-1===p?(er(Qn(l,s),o,a),sa(o,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(r),s.push(r)):(n[p]=r,s[p]=r)}else{const p=ca(a,e,u+d,h),f=ca(a,e,u,u+d),m=p>=0&&n[p],g=f>=0&&n[f];if(i&&!g||!i&&!m){er(Qn(l,s),o,a);const u=function(t,e,n,r,i){const o=new Pn(t,n,_s);return o.multi=[],o.index=e,o.componentProviders=0,aa(o,i,r&&!n),o}(i?ua:la,n.length,i,r,c);!i&&g&&(n[f].providerFactory=u),sa(o,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(u),s.push(u)}else sa(o,t,p>-1?p:f,aa(n[i?f:p],c,!i&&r));!i&&r&&g&&n[f].componentProviders++}}}function sa(t,e,n,r){const i=Xo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function aa(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ca(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function la(t,e,n,r){return ha(this.multi,[])}function ua(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=sr(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ha(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ha(i,o);return o}function ha(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function da(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=nn();if(r.firstCreatePass){const i=Ae(t);oa(n,r.data,r.blueprint,i,!0),oa(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class pa{}class fa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${yt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ma=(()=>{class t{}return t.NULL=new fa,t})(),ga=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>va(t),t})();const va=function(t){return Ro(t,on(),en())};class ya{}var ba=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let wa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>_a(),t})();const _a=function(){const t=en(),e=We(on().index,t);return function(t){const e=t[11];if(Le(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Se(e)?e:t)};let Ca=(()=>{class t{}return t.\u0275prov=ct({token:t,providedIn:"root",factory:()=>null}),t})();class xa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Sa=new xa("10.1.4");class ka{constructor(){}supports(t){return fs(t)}create(t){return new Oa(t)}}const Ea=(t,e)=>e;class Oa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ea}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Na(n,r,i)?e:n,s=Na(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!fs(t))throw new Error(`Error trying to diff '${yt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ds()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ta(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ma),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ma),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ta{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Aa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ma{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Aa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Na(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Da{constructor(){}supports(t){return t instanceof Map||ms(t)}create(){return new Ia}}class Ia{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ms(t)))throw new Error(`Error trying to diff '${yt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ra(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ra{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Pa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new it,new nt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ct({token:t,providedIn:"root",factory:()=>new t([new ka])}),t})(),Va=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new it,new nt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ct({token:t,providedIn:"root",factory:()=>new t([new Da])}),t})();const Fa=[new Da],ja=new Pa([new ka]),La=new Va(Fa);let za=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ua(t,ga),t})();const Ua=function(t,e){return Po(t,e,on(),en())};let Ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ba(t,ga),t})();const Ba=function(t,e){return Vo(t,e,on(),en())},$a={};class qa extends ma{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=be(t);return new Ja(e,this.ngModule)}}function Wa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ga=new Vt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Wn});class Ja extends pa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(di).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Wa(this.componentDef.inputs)}get outputs(){return Wa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,$a,i);return o!==$a||r===$a?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(ya,ze),s=i.get(Ca,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(Le(t))return t.selectRootElement(e,n===ae.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Oi(c,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Wn,clean:ao,playerHandler:null,flags:0},d=Fi(0,null,null,1,0,null,null,null,null,null),p=Ti(null,d,h,u,null,null,o,a,s,i);let f,m;bn(p);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Ai(s,0,2,null,null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(rs(a,c,!0),null!==t&&(Vn(i,t,c),null!==a.classes&&To(i,t,a.classes),null!==a.styles&&Oo(i,t,a.styles)));const l=r.createRenderer(t,e),u=Ti(n,Vi(e),null,e.onPush?64:16,n[20],a,r,l,null,null);return s.firstCreatePass&&(er(Qn(a,n),s,e.type),Wi(s,a),Ji(a,n.length,1)),no(n,u),n[20]=u}(l,this.componentDef,p,o,a);if(l)if(n)Vn(a,l,["ng-version",Sa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ci(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Vn(a,l,t),e&&e.length>0&&To(a,l,e.join(" "))}if(m=$e(d,0),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}f=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=on();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),qi(t,r,1),Ki(t,e,n));const i=sr(e,t,e.length-1,r);ei(i,e);const o=Be(r,e);return o&&ei(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=on();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){En(a.index-Ce);const t=n[1];Hi(t,e),Bi(t,n,e.hostVars),$i(e,s)}return s}(t,this.componentDef,p,h,[is]),Mi(d,p,null)}finally{Sn()}return new Ka(this.componentType,f,Ro(ga,m,p),p,m)}}class Ka extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Mo(r),this.componentType=t}get injector(){return new lr(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Za=void 0;var Qa=["en",[["a","p"],["AM","PM"],Za],[["AM","PM"],Za,Za],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Za,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Za,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Za,"{1} 'at' {0}",Za],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ya={};function Xa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=tc(e);if(n)return n;const r=e.split("-")[0];if(n=tc(r),n)return n;if("en"===r)return Qa;throw new Error(`Missing locale data for the locale "${t}".`)}function tc(t){return t in Ya||(Ya[t]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[t]),Ya[t]}var ec=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const nc="en-US";let rc=nc;function ic(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(rc=t.toLowerCase().replace(/_/g,"-"))}const oc=new Map;class sc extends Qt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qa(this);const n=_e(t),r=t[It]||null;r&&ic(r),this._bootstrapComponents=Gn(n.bootstrap),this._r3Injector=Go(t,e,[{provide:Qt,useValue:this},{provide:ma,useValue:this.componentFactoryResolver}],yt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=es.THROW_IF_NOT_FOUND,n=ot.Default){return t===es||t===Qt||t===Ft?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ac extends Yt{constructor(t){super(),this.moduleType=t,null!==_e(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${yt(e)} vs ${yt(e.name)}`)})(t,oc.get(t),e),oc.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new sc(this.moduleType,t)}}function cc(t,e){const n=t[e];return n===pi?void 0:n}function lc(t,e,n,r,i,o){const s=e+n;return vs(t,s,i)?gs(t,s+1,o?r.call(o,i):r(i)):cc(t,s+1)}function uc(t,e){const n=nn();let r;const i=t+Ce;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=we(r.type)),s=qt(_s);try{const e=Kn(!1),r=o();return Kn(e),function(t,e,n,r){const i=n+Ce;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,en(),t,r),r}finally{qt(s)}}function hc(t,e,n){const r=en(),i=qe(r,t);return pc(r,dc(r,t)?lc(r,hn(),e,i.transform,n,i):i.transform(n))}function dc(t,e){return t[1].data[e+Ce].pure}function pc(t,e){return ps.isWrapped(e)&&(e=ps.unwrap(e),t[Xe.lFrame.bindingIndex]=pi),e}const fc=class extends x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof h&&t.add(s),s}};function mc(){return this._results[ds()]()}class gc{constructor(){this.dirty=!0,this._results=[],this.changes=new fc,this.length=0;const t=ds(),e=gc.prototype;e[t]||(e[t]=mc)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class vc{constructor(t){this.queryList=t,this.matches=null}clone(){return new vc(this.queryList)}setDirty(){this.queryList.setDirty()}}class yc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new yc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Mc(t,e).matches&&this.queries[e].setDirty()}}class bc{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class wc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new wc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class _c{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new _c(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Cc(e,i)),this.matchTNodeWithReadOption(t,e,or(e,t,i,!1,!1))}else n===za?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,or(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ga||r===Ha||r===za&&0===e.type)this.addMatch(e.index,-2);else{const n=or(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Cc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function xc(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?Ro(ga,t,e):0===t.type?Po(za,ga,t,e):null}(e,t):-2===n?function(t,e,n){return n===ga?Ro(ga,e,t):n===za?Po(za,ga,e,t):n===Ha?Vo(Ha,ga,e,t):void 0}(t,e,r):sr(t,t[1],n,e)}function Sc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:xc(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function kc(t){const e=en(),n=nn(),r=gn();vn(r+1);const i=Mc(n,r);if(t.dirty&&Je(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=Sc(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=xe;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):Sc(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Ec(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(Ac(t,new bc(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),Tc(t,e)}(nn(),en(),e,n,r,0,on(),t)}function Oc(){return t=en(),e=gn(),t[19].queries[e].queryList;var t,e}function Tc(t,e){const n=new gc;ji(t,e,n,n.destroy),null===e[19]&&(e[19]=new yc),e[19].queries.push(new vc(n))}function Ac(t,e,n){null===t.queries&&(t.queries=new wc),t.queries.track(new _c(e,n))}function Mc(t,e){return t.queries.getByIndex(e)}function Nc(t,e){return Po(za,ga,t,e)}const Dc=new Vt("Application Initializer");let Ic=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();As(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Gt(Dc,8))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const Rc=new Vt("AppId"),Pc={provide:Rc,useFactory:function(){return`${Vc()}${Vc()}${Vc()}`},deps:[]};function Vc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Fc=new Vt("Platform Initializer"),jc=new Vt("Platform ID"),Lc=new Vt("appBootstrapListener");let zc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const Uc=new Vt("LocaleId"),Hc=new Vt("DefaultCurrencyCode");class Bc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const $c=function(t){return new ac(t)},qc=$c,Wc=function(t){return Promise.resolve($c(t))},Gc=function(t){const e=$c(t),n=Gn(_e(t).declarations).reduce((t,e)=>{const n=be(e);return n&&t.push(new Ja(n)),t},[]);return new Bc(e,n)},Jc=Gc,Kc=function(t){return Promise.resolve(Gc(t))};let Zc=(()=>{class t{constructor(){this.compileModuleSync=qc,this.compileModuleAsync=Wc,this.compileModuleAndAllComponentsSync=Jc,this.compileModuleAndAllComponentsAsync=Kc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const Qc=(()=>Promise.resolve(0))();function Yc(t){"undefined"==typeof Zone?Qc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Xc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fc(!1),this.onMicrotaskEmpty=new fc(!1),this.onStable=new fc(!1),this.onError=new fc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=Tt.requestAnimationFrame,e=Tt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Tt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,rl(t),nl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),rl(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return il(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),ol(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return il(t),e.invoke(r,i,o,s,a)}finally{ol(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,rl(t),nl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Xc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,el,tl,tl);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function tl(){}const el={};function nl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function il(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ol(t){t._nesting--,nl(t)}class sl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fc,this.onMicrotaskEmpty=new fc,this.onStable=new fc,this.onError=new fc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let al=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xc.assertNotInAngularZone(),Yc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Gt(Xc))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),cl=(()=>{class t{constructor(){this._applications=new Map,hl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return hl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class ll{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let ul,hl=new ll;const dl=new Vt("AllowMultipleToken");class pl{constructor(t,e){this.name=t,this.token=e}}function fl(t,e,n=[]){const r="Platform: "+e,i=new Vt(r);return(e=[])=>{let o=ml();if(!o||o.injector.get(dl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Uo,useValue:"platform"});!function(t){if(ul&&!ul.destroyed&&!ul.injector.get(dl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ul=t.get(gl);const e=t.get(Fc,null);e&&e.forEach(t=>t())}(es.create({providers:t,name:r}))}return function(t){const e=ml();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ml(){return ul&&!ul.destroyed?ul:null}let gl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new sl:("zone.js"===t?void 0:t)||new Xc({enableLongStackTrace:Or(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Xc,useValue:n}];return n.run(()=>{const e=es.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(mr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>bl(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return As(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Ic);return t.runInitializers(),t.donePromise.then(()=>(ic(i.injector.get(Uc,nc)||nc),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=vl({},e);return function(t,e,n){const r=new ac(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(yl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${yt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Gt(es))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function vl(t,e){return Array.isArray(e)?e.reduce(vl,t):Object.assign(Object.assign({},t),e)}let yl=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Or(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Xc.assertNotInAngularZone(),Yc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Xc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return k(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof y?t[0]:B(e)($(t,n))}(s,a.pipe(t=>{return q()((e=Q,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,K);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof pa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Qt),i=n.create(es.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(al,null);return o&&i.injector.get(cl).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Or()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;bl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Lc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),bl(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Gt(Xc),Gt(zc),Gt(es),Gt(mr),Gt(ma),Gt(Ic))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function bl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class wl{}class _l{}const Cl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let xl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Cl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Sl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Sl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Gt(Zc),Gt(_l,8))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function Sl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const kl=fl(null,"core",[{provide:jc,useValue:"unknown"},{provide:gl,deps:[es]},{provide:cl,deps:[]},{provide:zc,deps:[]}]),El=[{provide:yl,useClass:yl,deps:[Xc,zc,es,mr,ma,Ic]},{provide:Ga,deps:[Xc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ic,useClass:Ic,deps:[[new nt,Dc]]},{provide:Zc,useClass:Zc,deps:[]},Pc,{provide:Pa,useFactory:function(){return ja},deps:[]},{provide:Va,useFactory:function(){return La},deps:[]},{provide:Uc,useFactory:function(t){return ic(t=t||"undefined"!=typeof $localize&&$localize.locale||nc),t},deps:[[new et(Uc),new nt,new it]]},{provide:Hc,useValue:"USD"}];let Ol=(()=>{class t{constructor(t){}}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(Gt(yl))},providers:El}),t})(),Tl=null;function Al(){return Tl}const Ml=new Vt("DocumentToken");let Nl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:Dl,token:t,providedIn:"platform"}),t})();function Dl(){return Gt(Rl)}const Il=new Vt("Location Initialized");let Rl=(()=>{class t extends Nl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Al().getLocation(),this._history=Al().getHistory()}getBaseHrefFromDOM(){return Al().getBaseHref(this._doc)}onPopState(t){Al().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Al().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Pl()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Pl()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ml))},t.\u0275prov=ct({factory:Vl,token:t,providedIn:"platform"}),t})();function Pl(){return!!window.history.pushState}function Vl(){return new Rl(Gt(Ml))}function Fl(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function jl(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ll(t){return t&&"?"!==t[0]?"?"+t:t}let zl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:Ul,token:t,providedIn:"root"}),t})();function Ul(t){const e=Gt(Ml).location;return new Bl(Gt(Nl),e&&e.origin||"")}const Hl=new Vt("appBaseHref");let Bl=(()=>{class t extends zl{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Fl(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Ll(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+Ll(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+Ll(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Gt(Nl),Gt(Hl,8))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),$l=(()=>{class t extends zl{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Fl(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+Ll(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+Ll(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Gt(Nl),Gt(Hl,8))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),ql=(()=>{class t{constructor(t,e){this._subject=new fc,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=jl(Gl(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Ll(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Gl(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ll(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ll(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Gt(zl),Gt(Nl))},t.normalizeQueryParams=Ll,t.joinWithSlash=Fl,t.stripTrailingSlash=jl,t.\u0275prov=ct({factory:Wl,token:t,providedIn:"root"}),t})();function Wl(){return new ql(Gt(zl),Gt(Nl))}function Gl(t){return t.replace(/\/index.html$/,"")}var Jl=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Kl=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),Zl=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),Ql=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),Yl=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function Xl(t,e){return iu(Xa(t)[ec.DateFormat],e)}function tu(t,e){return iu(Xa(t)[ec.TimeFormat],e)}function eu(t,e){return iu(Xa(t)[ec.DateTimeFormat],e)}function nu(t,e){const n=Xa(t),r=n[ec.NumberSymbols][e];if(void 0===r){if(e===Yl.CurrencyDecimal)return n[ec.NumberSymbols][Yl.Decimal];if(e===Yl.CurrencyGroup)return n[ec.NumberSymbols][Yl.Group]}return r}function ru(t){if(!t[ec.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ec.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function iu(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function ou(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const su=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,au={},cu=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var lu=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),uu=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),hu=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function du(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function pu(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function fu(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case uu.FullYear:return e.getFullYear();case uu.Month:return e.getMonth();case uu.Date:return e.getDate();case uu.Hours:return e.getHours();case uu.Minutes:return e.getMinutes();case uu.Seconds:return e.getSeconds();case uu.FractionalSeconds:return e.getMilliseconds();case uu.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===uu.Hours)0===a&&-12===n&&(a=12);else if(t===uu.FractionalSeconds)return c=e,pu(a,3).substr(0,c);var c;const l=nu(s,Yl.MinusSign);return pu(a,e,l,r,i)}}function mu(t,e,n=Kl.Format,r=!1){return function(i,o){return function(t,e,n,r,i,o){switch(n){case hu.Months:return function(t,e,n){const r=Xa(t),i=iu([r[ec.MonthsFormat],r[ec.MonthsStandalone]],e);return iu(i,n)}(e,i,r)[t.getMonth()];case hu.Days:return function(t,e,n){const r=Xa(t),i=iu([r[ec.DaysFormat],r[ec.DaysStandalone]],e);return iu(i,n)}(e,i,r)[t.getDay()];case hu.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const t=function(t){const e=Xa(t);return ru(e),(e[ec.ExtraData][2]||[]).map(t=>"string"==typeof t?ou(t):[ou(t[0]),ou(t[1])])}(e),n=function(t,e,n){const r=Xa(t);ru(r);const i=iu([r[ec.ExtraData][0],r[ec.ExtraData][1]],e)||[];return iu(i,n)||[]}(e,i,r),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=s>=e.hours&&a>=e.minutes,i=s<n.hours||s===n.hours&&a<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===s&&t.minutes===a)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const r=Xa(t),i=iu([r[ec.DayPeriodsFormat],r[ec.DayPeriodsStandalone]],e);return iu(i,n)}(e,i,r)[s<12?0:1];case hu.Eras:return function(t,e){return iu(Xa(t)[ec.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,t,e,n,r)}}function gu(t){return function(e,n,r){const i=-1*r,o=nu(n,Yl.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case lu.Short:return(i>=0?"+":"")+pu(s,2,o)+pu(Math.abs(i%60),2,o);case lu.ShortGMT:return"GMT"+(i>=0?"+":"")+pu(s,1,o);case lu.Long:return"GMT"+(i>=0?"+":"")+pu(s,2,o)+":"+pu(Math.abs(i%60),2,o);case lu.Extended:return 0===r?"Z":(i>=0?"+":"")+pu(s,2,o)+":"+pu(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function vu(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}var o;return pu(i,t,nu(r,Yl.MinusSign))}}const yu={};function bu(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function wu(t){return t instanceof Date&&!isNaN(t.valueOf())}class _u{}let Cu=(()=>{class t extends _u{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return Xa(t)[ec.PluralCase]}(e||this.locale)(t)){case Jl.Zero:return"zero";case Jl.One:return"one";case Jl.Two:return"two";case Jl.Few:return"few";case Jl.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Gt(Uc))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function xu(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class Su{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ku=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Or()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Su(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Eu(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Eu(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(_s(Ha),_s(za),_s(Pa))},t.\u0275dir=ve({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Eu{constructor(t,e){this.record=t,this.view=e}}let Ou=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Tu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Au("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Au("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(_s(Ha),_s(za))},t.\u0275dir=ve({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Tu{constructor(){this.$implicit=null,this.ngIf=null}}function Au(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}let Mu=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(_s(Ha))},t.\u0275dir=ve({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[De]}),t})(),Nu=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,r){let i=function(t){if(wu(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(su))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,c,l),e}(n)}const e=new Date(t);if(!wu(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=function(t){return Xa(t)[ec.LocaleId]}(e);if(au[r]=au[r]||{},au[r][n])return au[r][n];let i="";switch(n){case"shortDate":i=Xl(e,Ql.Short);break;case"mediumDate":i=Xl(e,Ql.Medium);break;case"longDate":i=Xl(e,Ql.Long);break;case"fullDate":i=Xl(e,Ql.Full);break;case"shortTime":i=tu(e,Ql.Short);break;case"mediumTime":i=tu(e,Ql.Medium);break;case"longTime":i=tu(e,Ql.Long);break;case"fullTime":i=tu(e,Ql.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");i=du(eu(e,Ql.Short),[n,r]);break;case"medium":const o=t(e,"mediumTime"),s=t(e,"mediumDate");i=du(eu(e,Ql.Medium),[o,s]);break;case"long":const a=t(e,"longTime"),c=t(e,"longDate");i=du(eu(e,Ql.Long),[a,c]);break;case"full":const l=t(e,"fullTime"),u=t(e,"fullDate");i=du(eu(e,Ql.Full),[l,u])}return i&&(au[r][n]=i),i}(n,e)||e;let o,s=[];for(;e;){if(o=cu.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=bu(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(bu(e,r)-r))}(i,r));let c="";return s.forEach(t=>{const e=function(t){if(yu[t])return yu[t];let e;switch(t){case"G":case"GG":case"GGG":e=mu(hu.Eras,Zl.Abbreviated);break;case"GGGG":e=mu(hu.Eras,Zl.Wide);break;case"GGGGG":e=mu(hu.Eras,Zl.Narrow);break;case"y":e=fu(uu.FullYear,1,0,!1,!0);break;case"yy":e=fu(uu.FullYear,2,0,!0,!0);break;case"yyy":e=fu(uu.FullYear,3,0,!1,!0);break;case"yyyy":e=fu(uu.FullYear,4,0,!1,!0);break;case"M":case"L":e=fu(uu.Month,1,1);break;case"MM":case"LL":e=fu(uu.Month,2,1);break;case"MMM":e=mu(hu.Months,Zl.Abbreviated);break;case"MMMM":e=mu(hu.Months,Zl.Wide);break;case"MMMMM":e=mu(hu.Months,Zl.Narrow);break;case"LLL":e=mu(hu.Months,Zl.Abbreviated,Kl.Standalone);break;case"LLLL":e=mu(hu.Months,Zl.Wide,Kl.Standalone);break;case"LLLLL":e=mu(hu.Months,Zl.Narrow,Kl.Standalone);break;case"w":e=vu(1);break;case"ww":e=vu(2);break;case"W":e=vu(1,!0);break;case"d":e=fu(uu.Date,1);break;case"dd":e=fu(uu.Date,2);break;case"E":case"EE":case"EEE":e=mu(hu.Days,Zl.Abbreviated);break;case"EEEE":e=mu(hu.Days,Zl.Wide);break;case"EEEEE":e=mu(hu.Days,Zl.Narrow);break;case"EEEEEE":e=mu(hu.Days,Zl.Short);break;case"a":case"aa":case"aaa":e=mu(hu.DayPeriods,Zl.Abbreviated);break;case"aaaa":e=mu(hu.DayPeriods,Zl.Wide);break;case"aaaaa":e=mu(hu.DayPeriods,Zl.Narrow);break;case"b":case"bb":case"bbb":e=mu(hu.DayPeriods,Zl.Abbreviated,Kl.Standalone,!0);break;case"bbbb":e=mu(hu.DayPeriods,Zl.Wide,Kl.Standalone,!0);break;case"bbbbb":e=mu(hu.DayPeriods,Zl.Narrow,Kl.Standalone,!0);break;case"B":case"BB":case"BBB":e=mu(hu.DayPeriods,Zl.Abbreviated,Kl.Format,!0);break;case"BBBB":e=mu(hu.DayPeriods,Zl.Wide,Kl.Format,!0);break;case"BBBBB":e=mu(hu.DayPeriods,Zl.Narrow,Kl.Format,!0);break;case"h":e=fu(uu.Hours,1,-12);break;case"hh":e=fu(uu.Hours,2,-12);break;case"H":e=fu(uu.Hours,1);break;case"HH":e=fu(uu.Hours,2);break;case"m":e=fu(uu.Minutes,1);break;case"mm":e=fu(uu.Minutes,2);break;case"s":e=fu(uu.Seconds,1);break;case"ss":e=fu(uu.Seconds,2);break;case"S":e=fu(uu.FractionalSeconds,1);break;case"SS":e=fu(uu.FractionalSeconds,2);break;case"SSS":e=fu(uu.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=gu(lu.Short);break;case"ZZZZZ":e=gu(lu.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=gu(lu.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=gu(lu.Long);break;default:return null}return yu[t]=e,e}(t);c+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}(e,n,i||this.locale,r)}catch(o){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${yt(t)}'`)}(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(_s(Uc))},t.\u0275pipe=ye({name:"date",type:t,pure:!0}),t})(),Du=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[{provide:_u,useClass:Cu}]}),t})(),Iu=(()=>{class t{}return t.\u0275prov=ct({token:t,providedIn:"root",factory:()=>new Ru(Gt(Ml),window,Gt(mr))}),t})();class Ru{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=Pu(this.window.history)||Pu(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function Pu(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Vu extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Vu,Tl||(Tl=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=ju||(ju=document.querySelector("base"),ju)?ju.getAttribute("href"):null;return null==e?null:(n=e,Fu||(Fu=document.createElement("a")),Fu.setAttribute("href",n),"/"===Fu.pathname.charAt(0)?Fu.pathname:"/"+Fu.pathname);var n}resetBaseElement(){ju=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return xu(document.cookie,t)}}let Fu,ju=null;const Lu=new Vt("TRANSITION_ID"),zu=[{provide:Dc,useFactory:function(t,e,n){return()=>{n.get(Ic).donePromise.then(()=>{const n=Al();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Lu,Ml,es],multi:!0}];class Uu{static init(){var t;t=new Uu,hl=t}addToWindow(t){Tt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Tt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Tt.getAllAngularRootElements=()=>t.getAllRootElements(),Tt.frameworkStabilizers||(Tt.frameworkStabilizers=[]),Tt.frameworkStabilizers.push(t=>{const e=Tt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Al().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Hu=new Vt("EventManagerPlugins");let Bu=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Hu),Gt(Xc))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class $u{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Al().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let qu=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Wu=(()=>{class t extends qu{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Al().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ml))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const Gu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ju=/%COMP%/g;function Ku(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ku(t,i,n):(i=i.replace(Ju,t),n.push(i))}return n}function Zu(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Qu=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Yu(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ae.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Xu(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ae.Native:case ae.ShadowDom:return new th(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Ku(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Gt(Bu),Gt(Wu),Gt(Rc))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class Yu{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Gu[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Gu[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Gu[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&ba.DashCase?t.style.setProperty(e,n,r&ba.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&ba.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Zu(n)):this.eventManager.addEventListener(t,e,Zu(n))}}class Xu extends Yu{constructor(t,e,n,r){super(t),this.component=n;const i=Ku(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Ju,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Ju,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class th extends Yu{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===ae.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=Ku(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let eh=(()=>{class t extends $u{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ml))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const nh=["alt","control","meta","shift"],rh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ih={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},oh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let sh=(()=>{class t extends $u{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Al().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(nh.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ih.hasOwnProperty(e)&&(e=ih[e]))}return rh[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),nh.forEach(r=>{r!=n&&(0,oh[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ml))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),ah=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:function(){return Gt(ch)},token:t,providedIn:"root"}),t})(),ch=(()=>{class t extends ah{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Qr.NONE:return e;case Qr.HTML:return xr(e,"HTML")?Cr(e):Kr(this._doc,String(e));case Qr.STYLE:return xr(e,"Style")?Cr(e):e;case Qr.SCRIPT:if(xr(e,"Script"))return Cr(e);throw new Error("unsafe value used in a script context");case Qr.URL:return Sr(e),xr(e,"URL")?Cr(e):Dr(String(e));case Qr.RESOURCE_URL:if(xr(e,"ResourceURL"))return Cr(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new vr(t)}bypassSecurityTrustStyle(t){return new yr(t)}bypassSecurityTrustScript(t){return new br(t)}bypassSecurityTrustUrl(t){return new wr(t)}bypassSecurityTrustResourceUrl(t){return new _r(t)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ml))},t.\u0275prov=ct({factory:function(){return t=Gt(Ft),new ch(t.get(Ml));var t},token:t,providedIn:"root"}),t})();const lh=fl(kl,"browser",[{provide:jc,useValue:"browser"},{provide:Fc,useValue:function(){Vu.makeCurrent(),Uu.init()},multi:!0},{provide:Ml,useFactory:function(){return function(t){Fe=t}(document),document},deps:[]}]),uh=[[],{provide:Uo,useValue:"root"},{provide:mr,useFactory:function(){return new mr},deps:[]},{provide:Hu,useClass:eh,multi:!0,deps:[Ml,Xc,jc]},{provide:Hu,useClass:sh,multi:!0,deps:[Ml]},[],{provide:Qu,useClass:Qu,deps:[Bu,Wu,Rc]},{provide:ya,useExisting:Qu},{provide:qu,useExisting:Wu},{provide:Wu,useClass:Wu,deps:[Ml]},{provide:al,useClass:al,deps:[Xc]},{provide:Bu,useClass:Bu,deps:[Hu,Xc]},[]];let hh=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Rc,useValue:e.appId},{provide:Lu,useExisting:Rc},zu]}}}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(Gt(t,12))},providers:uh,imports:[Du,Ol]}),t})();function dh(t,e){return new y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const c=V(t[a]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&l||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}"undefined"!=typeof window&&window;const ph=new Vt("NgValueAccessor"),fh={provide:ph,useExisting:_t(()=>mh),multi:!0};let mh=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(_s(wa),_s(ga))},t.\u0275dir=ve({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Ns("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[da([fh])]}),t})();const gh={provide:ph,useExisting:_t(()=>yh),multi:!0},vh=new Vt("CompositionEventMode");let yh=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Al()?Al().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(_s(wa),_s(ga),_s(vh,8))},t.\u0275dir=ve({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Ns("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[da([gh])]}),t})(),bh=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ve({type:t}),t})(),wh=(()=>{class t extends bh{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return _h(e||t)},t.\u0275dir=ve({type:t,features:[ss]}),t})();const _h=hr(wh);class Ch extends bh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class xh{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Sh=(()=>{class t extends xh{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(_s(Ch,2))},t.\u0275dir=ve({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Bs("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[ss]}),t})(),kh=(()=>{class t extends xh{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(_s(wh,2))},t.\u0275dir=ve({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&Bs("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[ss]}),t})();function Eh(t){return null==t||0===t.length}function Oh(t){return null!=t&&"number"==typeof t.length}const Th=new Vt("NgValidators"),Ah=new Vt("NgAsyncValidators"),Mh=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nh{static min(t){return e=>{if(Eh(e.value)||Eh(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Eh(e.value)||Eh(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Eh(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Eh(t.value)||Mh.test(t.value)?null:{email:!0}}static minLength(t){return e=>Eh(e.value)||!Oh(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Oh(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Nh.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Eh(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Dh);return 0==e.length?null:function(t){return Rh(Ph(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Dh);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(c(e))return dh(e,null);if(l(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return dh(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return dh(t=1===t.length&&c(t[0])?t[0]:t,null).pipe(E(t=>e(...t)))}return dh(t,null)}(Ph(t,e).map(Ih)).pipe(E(Rh))}}}function Dh(t){return null!=t}function Ih(t){const e=As(t)?V(t):t;return Ms(e),e}function Rh(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ph(t,e){return e.map(e=>e(t))}function Vh(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const Fh={provide:ph,useExisting:_t(()=>jh),multi:!0};let jh=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(_s(wa),_s(ga))},t.\u0275dir=ve({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Ns("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[da([Fh])]}),t})();const Lh={provide:ph,useExisting:_t(()=>Uh),multi:!0};let zh=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Uh=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Ch),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(_s(wa),_s(ga),_s(zh),_s(es))},t.\u0275dir=ve({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Ns("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[da([Lh])]}),t})();const Hh={provide:ph,useExisting:_t(()=>Bh),multi:!0};let Bh=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(_s(wa),_s(ga))},t.\u0275dir=ve({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Ns("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[da([Hh])]}),t})();const $h={provide:ph,useExisting:_t(()=>qh),multi:!0};let qh=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(_s(wa),_s(ga))},t.\u0275dir=ve({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Ns("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[da([$h])]}),t})();const Wh={provide:ph,useExisting:_t(()=>Gh),multi:!0};let Gh=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(_s(wa),_s(ga))},t.\u0275dir=ve({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Ns("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[da([Wh])]}),t})();function Jh(t,e){return[...e.path,t]}function Kh(t,e){t.validator=Nh.compose([t.validator,e.validator]),t.asyncValidator=Nh.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Zh(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Zh(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Zh(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Qh(t,e){t.validator=Nh.compose([t.validator,e.validator]),t.asyncValidator=Nh.composeAsync([t.asyncValidator,e.asyncValidator])}function Yh(t){return null!=t?Nh.compose(Vh(t)):null}function Xh(t){return null!=t?Nh.composeAsync(Vh(t)):null}function td(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const ed=[mh,Bh,jh,qh,Gh,Uh];function nd(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function rd(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===yh?n=t:(e=t,ed.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}function id(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const od="VALID",sd="INVALID",ad="PENDING",cd="DISABLED";function ld(t){return(pd(t)?t.validators:t)||null}function ud(t){return Array.isArray(t)?Yh(t):t||null}function hd(t,e){return(pd(e)?e.asyncValidators:t)||null}function dd(t){return Array.isArray(t)?Xh(t):t||null}function pd(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class fd{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ud(this._rawValidators),this._composedAsyncValidatorFn=dd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===od}get invalid(){return this.status===sd}get pending(){return this.status==ad}get disabled(){return this.status===cd}get enabled(){return this.status!==cd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ud(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=dd(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ad,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=cd,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=od,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==od&&this.status!==ad||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cd:od}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ad,this._hasOwnPendingAsyncValidator=!0;const e=Ih(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof gd?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof vd&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new fc,this.statusChanges=new fc}_calculateStatus(){return this._allControlsDisabled()?cd:this.errors?sd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ad)?ad:this._anyControlsHaveStatus(sd)?sd:od}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){pd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class md extends fd{constructor(t=null,e,n){super(ld(e),hd(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class gd extends fd{constructor(t,e,n){super(ld(e),hd(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof md?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class vd extends fd{constructor(t,e,n){super(ld(e),hd(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof md?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const yd={provide:wh,useExisting:_t(()=>wd)},bd=(()=>Promise.resolve(null))();let wd=(()=>{class t extends wh{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new fc,this.form=new gd({},Yh(t),Xh(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){bd.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Kh(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){bd.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),id(this._directives,t)})}addFormGroup(t){bd.then(()=>{const e=this._findContainer(t.path),n=new gd({});Qh(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){bd.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){bd.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,nd(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(_s(Th,10),_s(Ah,10))},t.\u0275dir=ve({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Ns("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[da([yd]),ss]}),t})();const _d={provide:Ch,useExisting:_t(()=>xd)},Cd=(()=>Promise.resolve(null))();let xd=(()=>{class t extends Ch{constructor(t,e,n,r){super(),this.control=new md,this._registered=!1,this.update=new fc,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=rd(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),td(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Jh(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Yh(this._rawValidators)}get asyncValidator(){return Xh(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Kh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Cd.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Cd.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(_s(wh,9),_s(Th,10),_s(Ah,10),_s(ph,10))},t.\u0275dir=ve({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[da([_d]),ss,De]}),t})(),Sd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ve({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const kd=new Vt("NgModelWithFormControlWarning"),Ed={provide:wh,useExisting:_t(()=>Od)};let Od=(()=>{class t extends wh{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new fc}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Kh(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){id(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Qh(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Qh(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,nd(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Kh(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Yh(this._validators);this.form.validator=Nh.compose([this.form.validator,t]);const e=Xh(this._asyncValidators);this.form.asyncValidator=Nh.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(_s(Th,10),_s(Ah,10))},t.\u0275dir=ve({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Ns("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[da([Ed]),ss,De]}),t})();const Td={provide:Ch,useExisting:_t(()=>Ad)};let Ad=(()=>{class t extends Ch{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new fc,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=rd(0,r)}set isDisabled(t){}ngOnChanges(e){var n,r;this._added||this._setUpControl(),td(e,this.viewModel)&&(n=t,this,r=this._ngModelWarningConfig,Or()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Jh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Yh(this._rawValidators)}get asyncValidator(){return Xh(this._rawAsyncValidators)}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(_s(wh,13),_s(Th,10),_s(Ah,10),_s(ph,10),_s(kd,8))},t.\u0275dir=ve({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[da([Td]),ss,De]}),t._ngModelWarningSentOnce=!1,t})();const Md={provide:Th,useExisting:_t(()=>Nd),multi:!0};let Nd=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?Nh.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ve({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&ys("required",e.required?"":null)},inputs:{required:"required"},features:[da([Md])]}),t})();const Dd={provide:Th,useExisting:_t(()=>Id),multi:!0};let Id=(()=>{class t{constructor(){this._enabled=!1}set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?Nh.email(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ve({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[da([Dd])]}),t})(),Rd=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})(),Pd=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new gd(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new md(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new vd(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof md||t instanceof gd||t instanceof vd?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Vd=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[zh],imports:[Rd]}),t})(),Fd=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:kd,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[Pd,zh],imports:[Rd]}),t})();class jd extends x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w;return this._value}next(t){super.next(this._value=t)}}class Ld extends f{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class zd extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function Ud(t,e,n,r,i=new zd(t,n,r)){if(!i.closed)return e instanceof y?e.subscribe(i):R(e)(i)}const Hd={};class Bd{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new $d(t,this.resultSelector))}}class $d extends Ld{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Hd),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Ud(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Hd?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class qd extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Wd extends qd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Gd=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Jd extends Gd{constructor(t,e=Gd.now){super(t,()=>Jd.delegate&&Jd.delegate!==this?Jd.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Jd.delegate&&Jd.delegate!==this?Jd.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Kd=new Jd(Wd);function Zd(t){return!c(t)&&t-parseFloat(t)+1>=0}function Qd(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Yd(){}function Xd(t,e,n,i){return r(n)&&(i=n,n=void 0),i?Xd(t,e,n).pipe(E(t=>c(t)?i(...t):i(t))):new y(r=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}function tp(...t){let e=t[t.length-1];return k(e)?(t.pop(),P(t,e)):$(t)}function ep(){return B(1)}function np(...t){return ep()(tp(...t))}function rp(t,e){return"function"==typeof e?n=>n.pipe(rp((n,r)=>V(t(n,r)).pipe(E((t,i)=>e(n,t,r,i))))):e=>e.lift(new ip(t))}class ip{constructor(t){this.project=t}call(t,e){return e.subscribe(new op(t,this.project))}}class op extends j{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new F(this),r=this.destination;r.add(n),this.innerSubscription=L(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function sp(t){return e=>e.lift(new ap(t))}class ap{constructor(t){this.notifier=t}call(t,e){const n=new cp(t),r=L(this.notifier,new F(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class cp extends j{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function lp(t,e){return function(n){return n.lift(new up(t,e))}}class up{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new hp(t,this.predicate,this.thisArg))}}class hp extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const dp=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})(),pp=new y(t=>t.complete());function fp(t){return t?function(t){return new y(e=>t.schedule(()=>e.complete()))}(t):pp}function mp(t){return e=>0===t?fp():e.lift(new gp(t))}class gp{constructor(t){if(this.total=t,this.total<0)throw new dp}call(t,e){return e.subscribe(new vp(t,this.total))}}class vp extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function yp(t,e,n){return function(r){return r.lift(new bp(t,e,n))}}class bp{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new wp(t,this.nextOrObserver,this.error,this.complete))}}class wp extends f{constructor(t,e,n,i){super(t),this._tapNext=Yd,this._tapError=Yd,this._tapComplete=Yd,this._tapError=n||Yd,this._tapComplete=i||Yd,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Yd,this._tapError=e.error||Yd,this._tapComplete=e.complete||Yd)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function _p(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Cp(t,n))}}class Cp{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new xp(t,this.observables,this.project))}}class xp extends Ld{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(Ud(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Sp=["*"],kp=["dialog"];function Ep(t,e){1&t&&ea(0),2&t&&na(100===e.fill?"\u2605":"\u2606")}function Op(t,e){}function Tp(t,e){if(1&t){const t=Ts();ks(0,"span",2),ea(1),Es(),ks(2,"span",3),Ns("mouseenter",(function(){rn(t);const n=e.index;return Rs().enter(n+1)}))("click",(function(){rn(t);const n=e.index;return Rs().handleClick(n+1)})),bs(3,Op,0,0,"ng-template",4),Es()}if(2&t){const t=e.index,n=Rs(),r=ws(1);yi(1),ra("(",t<n.nextRate?"*":" ",")"),yi(1),Hs("cursor",n.readonly||n.disabled?"default":"pointer"),yi(1),xs("ngTemplateOutlet",n.starTemplate||n.starTemplateFromContent||r)("ngTemplateOutletContext",n.contexts[t])}}function Ap(t){return null!=t}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});let Mp=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Du]]}),t})(),Np=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Du]]}),t})(),Dp=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})(),Ip=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Du]]}),t})(),Rp=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})();var Pp=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});const Vp=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Fp(t){const e=Array.from(t.querySelectorAll(Vp)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}let jp=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Du,Vd]]}),t})(),Lp=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ve({type:t,selectors:[["",8,"navbar"]]}),t})(),zp=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})(),Up=(()=>{let t=class{constructor(){this.backdrop=!0,this.keyboard=!0}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:function(){return new t},token:t,providedIn:"root"}),t})();class Hp{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const Bp=()=>{};let $p=(()=>{let t=class{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Bp}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=r+t+"px",()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}};return t.\u0275fac=function(e){return new(e||t)(Gt(Ml))},t.\u0275prov=ct({factory:function(){return new t(Gt(Ml))},token:t,providedIn:"root"}),t})(),qp=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:2,hostBindings:function(t,e){2&t&&$s("modal-backdrop fade show"+(e.backdropClass?" "+e.backdropClass:""))},inputs:{backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class Wp{close(t){}dismiss(t){}}class Gp{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())}_dismiss(t){this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){const t=this._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}var Jp=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let Kp=(()=>{let t=class{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new fc}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){const{nativeElement:t}=this._elRef;if(this._zone.runOutsideAngular(()=>{Xd(t,"keydown").pipe(sp(this._closed$),lp(t=>t.which===Pp.Escape&&this.keyboard)).subscribe(t=>requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(Jp.ESC))}));let e=!1;Xd(this._dialogEl.nativeElement,"mousedown").pipe(sp(this._closed$),yp(()=>e=!1),rp(()=>Xd(t,"mouseup").pipe(sp(this._closed$),mp(1))),lp(({target:e})=>t===e)).subscribe(()=>{e=!0}),Xd(t,"click").pipe(sp(this._closed$)).subscribe(({target:n})=>{!0!==this.backdrop||t!==n||e||this._zone.run(()=>this.dismiss(Jp.BACKDROP_CLICK)),e=!1})}),!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=Fp(t)[0];(e||n||t).focus()}}ngOnDestroy(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null}),this._closed$.next()}};return t.\u0275fac=function(e){return new(e||t)(_s(Ml),_s(ga),_s(Xc))},t.\u0275cmp=he({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n,r,i,o;1&t&&(r=kp,i=!0,function(t,e,n,r,i,o){t.firstCreatePass&&(Ac(t,new bc(n,r,!0,i),-1),t.staticViewQueries=!0),Tc(t,e)}(nn(),en(),r,i,o)),2&t&&kc(n=Oc())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:5,hostBindings:function(t,e){2&t&&(ys("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),$s("modal fade show d-block"+(e.windowClass?" "+e.windowClass:"")))},inputs:{backdrop:"backdrop",keyboard:"keyboard",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Sp,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(function(t){const e=en()[16][6];if(!e.projection){const t=e.projection=ne(1,null),n=t.slice();let r=e.child;for(;null!==r;){const e=0;null!==e&&(n[e]?n[e].projectionNext=r:t[e]=r,n[e]=r),r=r.next}}}(),ks(0,"div",0,1),ks(2,"div",2),function(t,e=0,n){const r=en(),i=nn(),o=Ai(i,t,1,null,n||null);null===o.projection&&(o.projection=e),cn(),function(t,e,n){Eo(e[11],0,e,n,vo(t,n,e),Co(n.parent||e[6],e))}(i,r,o)}(3),Es(),Es()),2&t&&$s("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),Zp=(()=>{let t=class{constructor(t,e,n,r,i,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=r,this._rendererFactory=i,this._ngZone=o,this._activeWindowCmptHasChanged=new x,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new fc,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=Xd(e,"focusin").pipe(sp(n),E(t=>t.target));Xd(e,"keydown").pipe(sp(n),lp(t=>t.which===Pp.Tab),_p(t)).subscribe(([t,n])=>{const[r,i]=Fp(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&Xd(e,"click").pipe(sp(n),_p(t),E(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:Ap(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const c=new Wp,l=this._getContentRef(t,r.injector||e,n,c,r);let u=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,l),d=new Gp(h,l,u,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(s,s),d.result.then(a,a),c.close=t=>{d.close(t)},c.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),u&&u.instance&&this._applyBackdropOptions(u.instance,r),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(qp).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(Kp).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{Ap(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{Ap(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,r,i){return n?n instanceof za?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,i):new Hp([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Hp([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(""+t);return new Hp([[e]])}_createFromComponent(t,e,n,r,i){const o=t.resolveComponentFactory(n),s=es.create({providers:[{provide:Wp,useValue:r}],parent:e}),a=o.create(s),c=a.location.nativeElement;return i.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new Hp([[c]],a.hostView,a)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}};return t.\u0275fac=function(e){return new(e||t)(Gt(yl),Gt(es),Gt(Ml),Gt($p),Gt(ya),Gt(Xc))},t.\u0275prov=ct({factory:function(){return new t(Gt(yl),Gt(Ft),Gt(Ml),Gt($p),Gt(ya),Gt(Xc))},token:t,providedIn:"root"}),t})(),Qp=(()=>{let t=class{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}};return t.\u0275fac=function(e){return new(e||t)(Gt(ma),Gt(es),Gt(Zp),Gt(Up))},t.\u0275prov=ct({factory:function(){return new t(Gt(ma),Gt(Ft),Gt(Zp),Gt(Up))},token:t,providedIn:"root"}),t})(),Yp=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[Qp]}),t})(),Xp=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Du]]}),t})(),tf=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Du]]}),t})(),ef=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Du]]}),t})(),nf=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Du]]}),t})(),rf=(()=>{let t=class{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:function(){return new t},token:t,providedIn:"root"}),t})();const of={provide:ph,useExisting:_t(()=>sf),multi:!0};let sf=(()=>{let t=class{constructor(t,e){this._changeDetectorRef=e,this.contexts=[],this.disabled=!1,this.hover=new fc,this.leave=new fc,this.rateChange=new fc(!0),this.onChange=t=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}enter(t){this.readonly||this.disabled||this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.readonly||this.disabled||this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case Pp.ArrowDown:case Pp.ArrowLeft:this.update(this.rate-1);break;case Pp.ArrowUp:case Pp.ArrowRight:this.update(this.rate+1);break;case Pp.Home:this.update(0);break;case Pp.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate)}ngOnInit(){this.contexts=Array.from({length:this.max},(t,e)=>({fill:0,index:e})),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,e=!0){const n=function(t,e,n=0){return Math.max(Math.min(t,e),n)}(t,this.max,0);this.readonly||this.disabled||this.rate===n||(this.rate=n,this.rateChange.emit(this.rate)),e&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_getFillValue(t){const e=this.nextRate-t;return e>=1?100:e<1&&e>0?parseInt((100*e).toFixed(2),10):0}_updateState(t){this.nextRate=t,this.contexts.forEach((t,e)=>t.fill=this._getFillValue(e))}};return t.\u0275fac=function(e){return new(e||t)(_s(rf),_s(jo))},t.\u0275cmp=he({type:t,selectors:[["ngb-rating"]],contentQueries:function(t,e,n){var r;1&t&&Ec(n,za,!0),2&t&&kc(r=Oc())&&(e.starTemplateFromContent=r.first)},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,e){1&t&&Ns("blur",(function(){return e.handleBlur()}))("keydown",(function(t){return e.handleKeyDown(t)}))("mouseleave",(function(){return e.reset()})),2&t&&(ia("tabindex",e.disabled?-1:0),ys("aria-valuemax",e.max)("aria-valuenow",e.nextRate)("aria-valuetext",e.ariaValueText())("aria-disabled",!!e.readonly||null))},inputs:{max:"max",readonly:"readonly",rate:"rate",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[da([of]),De],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(bs(0,Ep,1,1,"ng-template",null,0,Nc),bs(2,Tp,4,5,"ng-template",1)),2&t&&(yi(2),xs("ngForOf",e.contexts))},directives:[ku,Mu],encapsulation:2,changeDetection:0}),t})(),af=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Du]]}),t})(),cf=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Du]]}),t})(),lf=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Du]]}),t})(),uf=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Du]]}),t})(),hf=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})(),df=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Du]]}),t})();const pf=[Mp,Np,Dp,Ip,Rp,jp,zp,Yp,Xp,tf,ef,nf,af,lf,uf,hf,df,cf];let ff=(()=>{let t=class{};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[pf,Mp,Np,Dp,Ip,Rp,jp,zp,Yp,Xp,tf,ef,nf,af,lf,uf,hf,df,cf]}),t})();class mf{constructor(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}call(t,e){return e.subscribe(new gf(t,this.project,this.concurrent,this.scheduler))}}class gf extends j{constructor(t,e,n,r){super(t),this.project=e,this.concurrent=n,this.scheduler=r,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(t){const{subscriber:e,result:n,value:r,index:i}=t;e.subscribeToProjection(n,r,i)}_next(t){const e=this.destination;if(e.closed)return void this._complete();const n=this.index++;if(this.active<this.concurrent){e.next(t);try{const{project:e}=this,r=e(t,n);this.scheduler?this.destination.add(this.scheduler.schedule(gf.dispatch,0,{subscriber:this,result:r,value:t,index:n})):this.subscribeToProjection(r,t,n)}catch(r){e.error(r)}}else this.buffer.push(t)}subscribeToProjection(t,e,n){this.active++,this.destination.add(L(t,new F(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this._next(t)}notifyComplete(){const t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}class vf{constructor(t){this.total=t}call(t,e){return e.subscribe(new yf(t,this.total))}}class yf extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const bf=3600,wf=86400,_f=7*wf,Cf=30*wf,xf=365*wf;class Sf{}let kf=(()=>{class t extends Sf{tick(t){return tp(0).pipe(function(t,e=Number.POSITIVE_INFINITY,n){return e=(e||0)<1?Number.POSITIVE_INFINITY:e,r=>r.lift(new mf(t,e,n))}(()=>{const e=Date.now(),n=Math.round(Math.abs(e-t)/1e3),r=n<60?1e3:n<bf?6e4:n<wf?36e5:0;return r?function(t=0,e,n){let r=-1;return Zd(e)?r=Number(e)<1?1:Number(e):k(e)&&(n=e),k(n)||(n=Kd),new y(e=>{const i=Zd(t)?t:+t-n.now();return n.schedule(Qd,i,{index:0,period:r,subscriber:e})})}(r):fp()}),t=>t.lift(new vf(1)))}}return t.\u0275fac=function(e){return Ef(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const Ef=hr(kf);let Of=(()=>{class t{constructor(){this.changes=new x}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class Tf{}let Af=(()=>{class t extends Tf{format(t){const{suffix:e,value:n,unit:r}=function(t){const e=Date.now(),n=Math.round(Math.abs(e-t)/1e3),r=t<e?"ago":"from now",[i,o]=n<60?[Math.round(n),"second"]:n<bf?[Math.round(n/60),"minute"]:n<wf?[Math.round(n/bf),"hour"]:n<_f?[Math.round(n/wf),"day"]:n<Cf?[Math.round(n/_f),"week"]:n<xf?[Math.round(n/Cf),"month"]:[Math.round(n/xf),"year"];return{value:i,unit:o,suffix:r}}(t);return this.parse(n,r,e)}parse(t,e,n){return 1!==t&&(e+="s"),t+" "+e+" "+n}}return t.\u0275fac=function(e){return Mf(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const Mf=hr(Af);let Nf=(()=>{class t{constructor(t,e,n,r){this.clock=r,this.live=!0,this.stateChanges=new x,t&&(this.intlSubscription=t.changes.subscribe(()=>this.stateChanges.next())),this.stateChanges.subscribe(()=>{this.value=n.format(this.date),e.markForCheck()})}transform(t,...e){const n=function(t){const e=new Date(t);if(!Number.isNaN(e.valueOf()))return e;const n=String(t).match(/\d+/g);if(null===n||n.length<=2)return e;{const[t,e,...r]=n.map(t=>parseInt(t,10));return new Date(Date.UTC(t,e-1,...r))}}(t).valueOf();let r;if(r=null!=e[0]?null!=(i=e[0])&&""+i!="false":this.live,this.date===n&&this.live===r)return this.value;var i;if(this.date=n,this.live=r,!this.date)throw new SyntaxError("Wrong parameter in TimeagoPipe. Expected a valid date, received: "+t);return this.clockSubscription&&(this.clockSubscription.unsubscribe(),this.clockSubscription=void 0),this.clockSubscription=this.clock.tick(this.date).pipe(lp(()=>this.live,this)).subscribe(()=>this.stateChanges.next()),this.stateChanges.next(),this.value}ngOnDestroy(){this.intlSubscription&&(this.intlSubscription.unsubscribe(),this.intlSubscription=void 0),this.clockSubscription&&(this.clockSubscription.unsubscribe(),this.clockSubscription=void 0),this.stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(_s(Of,8),function(t=ot.Default){const e=Fo(!0);if(null!=e||t&ot.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}(),_s(Tf),_s(Sf))},t.\u0275pipe=ye({name:"timeago",type:t,pure:!1}),t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Df=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.clock||{provide:Sf,useClass:kf},e.intl||[],e.formatter||{provide:Tf,useClass:Af}]}}static forChild(e={}){return{ngModule:t,providers:[e.clock||{provide:Sf,useClass:kf},e.intl||[],e.formatter||{provide:Tf,useClass:Af}]}}}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})();const If=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Rf(t){return new y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?V(n):fp()).subscribe(e)})}function Pf(t){return function(e){return 0===t?fp():e.lift(new Vf(t))}}class Vf{constructor(t){if(this.total=t,this.total<0)throw new dp}call(t,e){return e.subscribe(new Ff(t,this.total))}}class Ff extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function jf(t=Uf){return e=>e.lift(new Lf(t))}class Lf{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new zf(t,this.errorFactory))}}class zf extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Uf(){return new If}function Hf(t=null){return e=>e.lift(new Bf(t))}class Bf{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new $f(t,this.defaultValue))}}class $f extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}class qf{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Wf(t,this.accumulator,this.seed,this.hasSeed))}}class Wf extends f{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Gf(t){return function(e){const n=new Jf(t),r=e.lift(n);return n.caught=r}}class Jf{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Kf(t,this.selector,this.caught))}}class Kf extends j{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new F(this);this.add(r);const i=L(n,r);i!==r&&this.add(i)}}}function Zf(t,e){return z(t,e,1)}function Qf(t,e){const n=arguments.length>=2;return r=>r.pipe(t?lp((e,n)=>t(e,n,r)):v,mp(1),n?Hf(e):jf(()=>new If))}class Yf{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Xf(t,this.callback))}}class Xf extends f{constructor(t,e){super(t),this.add(new h(e))}}class tm{constructor(t,e){this.id=t,this.url=e}}class em extends tm{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nm extends tm{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rm extends tm{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class im extends tm{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class om extends tm{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sm extends tm{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class am extends tm{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cm extends tm{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lm extends tm{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class um{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hm{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dm{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pm{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fm{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mm{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gm{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vm="primary";class ym{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function bm(t){return new ym(t)}function wm(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function _m(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Cm(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!xm(t[i],e[i]))return!1;return!0}function xm(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Sm(t){return Array.prototype.concat.apply([],t)}function km(t){return t.length>0?t[t.length-1]:null}function Em(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Om(t){return Ms(t)?t:As(t)?V(Promise.resolve(t)):tp(t)}function Tm(t,e,n){return n?function(t,e){return Cm(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Dm(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xm(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Dm(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Dm(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Dm(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class Am{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bm(this.queryParams)),this._queryParamMap}toString(){return Vm.serialize(this)}}class Mm{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Em(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fm(this)}}class Nm{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=bm(this.parameters)),this._parameterMap}toString(){return Bm(this)}}function Dm(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Im(t,e){let n=[];return Em(t.children,(t,r)=>{r===vm&&(n=n.concat(e(t,r)))}),Em(t.children,(t,r)=>{r!==vm&&(n=n.concat(e(t,r)))}),n}class Rm{}class Pm{parse(t){const e=new Jm(t);return new Am(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Fm(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Em(e.children,(e,n)=>{n!==vm&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Im(e,(n,r)=>r===vm?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Fm(e)}/${n[0]}`:`${Fm(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Lm(e)}=${Lm(t)}`).join("&"):`${Lm(e)}=${Lm(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Vm=new Pm;function Fm(t){return t.segments.map(t=>Bm(t)).join("/")}function jm(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lm(t){return jm(t).replace(/%3B/gi,";")}function zm(t){return jm(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Um(t){return decodeURIComponent(t)}function Hm(t){return Um(t.replace(/\+/g,"%20"))}function Bm(t){return`${zm(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${zm(t)}=${zm(e[t])}`).join("")}`;var e}const $m=/^[^\/()?;=#]+/;function qm(t){const e=t.match($m);return e?e[0]:""}const Wm=/^[^=?&#]+/,Gm=/^[^?&#]+/;class Jm{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mm([],{}):new Mm([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Mm(t,e)),n}parseSegment(){const t=qm(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Nm(Um(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=qm(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=qm(this.remaining);t&&(n=t,this.capture(n))}t[Um(e)]=Um(n)}parseQueryParam(t){const e=function(t){const e=t.match(Wm);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Gm);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Hm(e),i=Hm(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=qm(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=vm);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Mm([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Km{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Zm(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Zm(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Qm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Qm(t,this._root).map(t=>t.value)}}function Zm(t,e){if(t===e.value)return e;for(const n of e.children){const e=Zm(t,n);if(e)return e}return null}function Qm(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Qm(t,n);if(r.length)return r.unshift(e),r}return[]}class Ym{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Xm(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class tg extends Km{constructor(t,e){super(t),this.snapshot=e,sg(this,t)}toString(){return this.snapshot.toString()}}function eg(t,e){const n=function(t,e){const n=new ig([],{},{},"",{},vm,e,null,t.root,-1,{});return new og("",new Ym(n,[]))}(t,e),r=new jd([new Nm("",{})]),i=new jd({}),o=new jd({}),s=new jd({}),a=new jd(""),c=new ng(r,i,s,a,o,vm,e,n.root);return c.snapshot=n.root,new tg(new Ym(c,[]),n)}class ng{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(E(t=>bm(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(E(t=>bm(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rg(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ig{constructor(t,e,n,r,i,o,s,a,c,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class og extends Km{constructor(t,e){super(e),this.url=t,sg(this,e)}toString(){return ag(this._root)}}function sg(t,e){e.value._routerState=t,e.children.forEach(e=>sg(t,e))}function ag(t){const e=t.children.length>0?` { ${t.children.map(ag).join(", ")} } `:"";return`${t.value}${e}`}function cg(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Cm(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Cm(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Cm(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Cm(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function lg(t,e){var n,r;return Cm(t.params,e.params)&&Dm(n=t.url,r=e.url)&&n.every((t,e)=>Cm(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||lg(t.parent,e.parent))}function ug(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function hg(t,e,n,r,i){let o={};return r&&Em(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Am(n.root===t?e:function t(e,n,r){const i={};return Em(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Mm(e.segments,i)}(n.root,t,e),o,i)}class dg{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ug(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==km(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pg{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function fg(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function mg(t,e,n){if(t||(t=new Mm([],{})),0===t.segments.length&&t.hasChildren())return gg(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=fg(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!wg(s,a,e))return o;r+=2}else{if(!wg(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Mm(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Mm(t.segments.slice(r.pathIndex),t.children),gg(e,0,i)}return r.match&&0===i.length?new Mm(t.segments,{}):r.match&&!t.hasChildren()?vg(t,e,n):r.match?gg(t,0,i):vg(t,e,n)}function gg(t,e,n){if(0===n.length)return new Mm(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{[vm]:t}}(n),i={};return Em(r,(n,r)=>{null!==n&&(i[r]=mg(t.children[r],e,n))}),Em(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Mm(t.segments,i)}}function vg(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=yg(n[i].outlets);return new Mm(r,t)}if(0===i&&ug(n[0])){r.push(new Nm(t.segments[e].path,n[0])),i++;continue}const o=fg(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&ug(s)?(r.push(new Nm(o,bg(s))),i+=2):(r.push(new Nm(o,{})),i++)}return new Mm(r,{})}function yg(t){const e={};return Em(t,(t,n)=>{null!==t&&(e[n]=vg(new Mm([],{}),0,t))}),e}function bg(t){const e={};return Em(t,(t,n)=>e[n]=""+t),e}function wg(t,e,n){return t==n.path&&Cm(e,n.parameters)}class _g{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),cg(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Xm(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Em(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Xm(t),i=t.value.component?n.children:e;Em(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Xm(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new mm(t.value.snapshot))}),t.children.length&&this.forwardEvent(new pm(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(cg(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Cg(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Cg(t){cg(t.value),t.children.forEach(Cg)}class xg{constructor(t,e){this.routes=t,this.module=e}}function Sg(t){return"function"==typeof t}function kg(t){return t instanceof Am}const Eg=Symbol("INITIAL_VALUE");function Og(){return rp(t=>function(...t){let e=void 0,n=void 0;return k(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&c(t[0])&&(t=t[0]),$(t,n).lift(new Bd(e))}(...t.map(t=>t.pipe(mp(1),function(...t){const e=t[t.length-1];return k(e)?(t.pop(),n=>np(t,n,e)):e=>np(t,e)}(Eg)))).pipe(function(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new qf(t,e,n))}}((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Eg)return t;if(r===Eg&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||kg(r))return r}return t},t)},Eg),lp(t=>t!==Eg),E(t=>kg(t)?t:!0===t),mp(1)))}class Tg{constructor(t){this.segmentGroup=t||null}}class Ag{constructor(t){this.urlTree=t}}function Mg(t){return new y(e=>e.error(new Tg(t)))}function Ng(t){return new y(e=>e.error(new Ag(t)))}function Dg(t){return new y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ig{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Qt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,vm).pipe(E(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gf(t=>{if(t instanceof Ag)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Tg)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,vm).pipe(E(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Gf(t=>{if(t instanceof Tg)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Mm([],{[vm]:t}):t;return new Am(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(E(t=>new Mm([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return tp({});const n=[],r=[],i={};return Em(t,(t,o)=>{const s=e(o,t).pipe(E(t=>i[o]=t));o===vm?n.push(s):r.push(s)}),tp.apply(null,n.concat(r)).pipe(ep(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?lp((e,n)=>t(e,n,r)):v,Pf(1),n?Hf(e):jf(()=>new If))}(),E(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return tp(...n).pipe(Zf(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Gf(t=>{if(t instanceof Tg)return tp(null);throw t}))),Qf(t=>!!t),Gf((t,n)=>{if(t instanceof If||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return tp(new Mm([],{}));throw new Tg(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Fg(r)!==o?Mg(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Mg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ng(i):this.lineralizeSegments(n,i).pipe(z(n=>{const i=new Mm(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:l}=Rg(e,r,i);if(!s)return Mg(e);const u=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?Ng(u):this.lineralizeSegments(r,u).pipe(z(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(E(t=>(n._loadedConfig=t,new Mm(r,{})))):tp(new Mm(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Rg(e,n,r);if(!i)return Mg(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(z(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Vg(t,e,n)&&Fg(n)!==vm)}(t,n,r)?{segmentGroup:Pg(new Mm(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&Fg(r)!==vm&&(n[Fg(r)]=new Mm([],{}));return n}(r,new Mm(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Vg(t,e,n))}(t,n,r)?{segmentGroup:Pg(new Mm(t.segments,function(t,e,n,r){const i={};for(const o of n)Vg(t,e,o)&&!r[Fg(o)]&&(i[Fg(o)]=new Mm([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(E(t=>new Mm(o,t))):0===r.length&&0===s.length?tp(new Mm(o,{})):this.expandSegment(n,i,r,s,vm,!0).pipe(E(t=>new Mm(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?tp(new xg(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?tp(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(z(n=>n?this.configLoader.load(t.injector,e).pipe(E(t=>(e._loadedConfig=t,t))):function(t){return new y(e=>e.error(wm(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):tp(new xg([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?tp(r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Sg(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Sg(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Om(o)})).pipe(Og(),yp(t=>{if(!kg(t))return;const e=wm(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),E(t=>!0===t)):tp(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return tp(n);if(r.numberOfChildren>1||!r.children.primary)return Dg(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Am(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Em(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Em(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Mm(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Rg(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||_m)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Pg(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Mm(t.segments.concat(e.segments),e.children)}return t}function Vg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Fg(t){return t.outlet||vm}class jg{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Lg{constructor(t,e){this.component=t,this.route=e}}function zg(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Xm(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,c=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Dm(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Dm(t.url,e.url)||!Cm(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lg(t,e)||!Cm(t.queryParams,e.queryParams);case"paramsChange":default:return!lg(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new jg(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?c?c.children:null:r,i,o),l&&o.canDeactivateChecks.push(new Lg(c&&c.outlet&&c.outlet.component||null,a))}else a&&Hg(n,c,o),o.canActivateChecks.push(new jg(i)),t(e,null,s.component?c?c.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Em(s,(t,e)=>Hg(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function Ug(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Hg(t,e,n){const r=Xm(t),i=t.value;Em(r,(t,r)=>{Hg(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Lg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Bg(t,e){return null!==t&&e&&e(new fm(t)),tp(!0)}function $g(t,e){return null!==t&&e&&e(new dm(t)),tp(!0)}function qg(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?tp(r.map(r=>Rf(()=>{const i=Ug(r,e,n);let o;if(function(t){return t&&Sg(t.canActivate)}(i))o=Om(i.canActivate(e,t));else{if(!Sg(i))throw new Error("Invalid CanActivate guard");o=Om(i(e,t))}return o.pipe(Qf())}))).pipe(Og()):tp(!0)}function Wg(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Rf(()=>tp(e.guards.map(i=>{const o=Ug(i,e.node,n);let s;if(function(t){return t&&Sg(t.canActivateChild)}(o))s=Om(o.canActivateChild(r,t));else{if(!Sg(o))throw new Error("Invalid CanActivateChild guard");s=Om(o(r,t))}return s.pipe(Qf())})).pipe(Og())));return tp(i).pipe(Og())}class Gg{}class Jg{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Qg(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,vm),n=new ig([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vm,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ym(n,e),i=new og(this.url,r);return this.inheritParamsAndData(i._root),tp(i)}catch(t){return new y(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=rg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Im(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),function(t){t.sort((t,e)=>t.value.outlet===vm?-1:e.value.outlet===vm?1:t.value.outlet.localeCompare(e.value.outlet))}(n),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof Gg))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Gg}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Gg;if((t.outlet||vm)!==r)throw new Gg;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?km(n).parameters:{};i=new ig(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tv(t),r,t.component,t,Kg(e),Zg(e)+n.length,ev(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Gg;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||_m)(n,t,e);if(!r)throw new Gg;const i={};Em(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new ig(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tv(t),r,t.component,t,Kg(e),Zg(e)+o.length,ev(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=Qg(e,o,s,a,this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new Ym(i,t)]}if(0===a.length&&0===l.length)return[new Ym(i,[])];const u=this.processSegment(a,c,l,vm);return[new Ym(i,u)]}}function Kg(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Zg(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Qg(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Yg(t,e,n)&&Xg(n)!==vm)}(t,n,r)){const i=new Mm(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Xg(o)!==vm){const n=new Mm([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Xg(o)]=n}return i}(t,e,r,new Mm(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Yg(t,e,n))}(t,n,r)){const o=new Mm(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Yg(t,n,a)&&!i[Xg(a)]){const n=new Mm([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Xg(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Mm(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Yg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Xg(t){return t.outlet||vm}function tv(t){return t.data||{}}function ev(t){return t.resolve||{}}function nv(t){return function(e){return e.pipe(rp(e=>{const n=t(e);return n?V(n).pipe(E(()=>e)):V([e])}))}}class rv extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let iv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Os(0,"router-outlet")},directives:function(){return[Cv]},encapsulation:2}),t})();function ov(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];sv(r,av(e,r))}}function sv(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==vm)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&ov(t.children,e)}function av(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function cv(t){const e=t.children&&t.children.map(cv),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==vm&&(n.component=iv),n}const lv=new Vt("ROUTES");class uv{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(E(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new xg(Sm(r.injector.get(lv)).map(cv),r)}))}loadModuleFactory(t){return"string"==typeof t?V(this.loader.load(t)):Om(t()).pipe(z(t=>t instanceof Yt?tp(t):V(this.compiler.compileModuleAsync(t))))}}class hv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new dv,this.attachRef=null}}class dv{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new hv,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class pv{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function fv(t){throw t}function mv(t,e,n){return e.parse("/")}function gv(t,e){return tp(null)}let vv=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new x,this.errorHandler=fv,this.malformedUriErrorHandler=mv,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:gv,afterPreactivation:gv},this.urlHandlingStrategy=new pv,this.routeReuseStrategy=new rv,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Qt),this.console=i.get(zc);const c=i.get(Xc);this.isNgZoneEnabled=c instanceof Xc,this.resetConfig(a),this.currentUrlTree=new Am(new Mm([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new uv(o,s,t=>this.triggerEvent(new um(t)),t=>this.triggerEvent(new hm(t))),this.routerState=eg(this.currentUrlTree,this.rootComponentType),this.transitions=new jd({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(lp(t=>0!==t.id),E(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),rp(t=>{let n=!1,r=!1;return tp(t).pipe(yp(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),rp(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return tp(t).pipe(rp(t=>{const n=this.transitions.getValue();return e.next(new em(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?pp:[t]}),rp(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(rp(t=>function(t,e,n,r,i){return new Ig(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(E(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),yp(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(z(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Jg(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(E(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),yp(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),yp(t=>{const n=new om(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new em(n,this.serializeUrl(r),i,o);e.next(a);const c=eg(r,this.rootComponentType).snapshot;return tp(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),pp}),nv(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),yp(t=>{const e=new sm(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),E(t=>Object.assign(Object.assign({},t),{guards:zg(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(z(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?tp(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return V(t).pipe(z(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?tp(o.map(o=>{const s=Ug(o,e,i);let a;if(function(t){return t&&Sg(t.canDeactivate)}(s))a=Om(s.canDeactivate(t,e,n,r));else{if(!Sg(s))throw new Error("Invalid CanDeactivate guard");a=Om(s(t,e,n,r))}return a.pipe(Qf())})).pipe(Og()):tp(!0)}(t.component,t.route,n,e,r)),Qf(t=>!0!==t,!0))}(s,r,i,t).pipe(z(n=>n&&"boolean"==typeof n?function(t,e,n,r){return V(e).pipe(Zf(e=>V([$g(e.route.parent,r),Bg(e.route,r),Wg(t,e.path,n),qg(t,e.route,n)]).pipe(ep(),Qf(t=>!0!==t,!0))),Qf(t=>!0!==t,!0))}(r,o,t,e):tp(n)),E(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),yp(t=>{if(kg(t.guardsResult)){const e=wm(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),yp(t=>{const e=new am(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),lp(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new rm(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),nv(t=>{if(t.guards.canActivateChecks.length)return tp(t).pipe(yp(t=>{const e=new cm(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),rp(t=>{let n=!1;return tp(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(z(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return tp(t);let o=0;return V(n).pipe(Zf(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return tp({});const o={};return V(i).pipe(z(i=>function(t,e,n,r){const i=Ug(t,e,r);return Om(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(yp(t=>{o[i]=t}))),Pf(1),z(()=>Object.keys(o).length===i.length?tp(o):pp))}(t._resolve,t,e,r).pipe(E(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),rg(t,n).resolve),null)))}(t.route,e,r,i)),yp(()=>o++),Pf(1),z(e=>o===n.length?tp(t):pp))}))}),yp({next:()=>n=!0,complete:()=>{if(!n){const n=new rm(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),yp(t=>{const e=new lm(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),nv(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),E(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Ym(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new ng(new jd((i=n.value).url),new jd(i.params),new jd(i.queryParams),new jd(i.fragment),new jd(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Ym(r,o)}}var i}(t,e._root,n?n._root:void 0);return new tg(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),yp(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),E(t=>(new _g(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),yp({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new rm(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Yf(i))),Gf(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=kg(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new rm(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new im(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return pp}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ov(t),this.config=t.map(cv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=e;Or()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=a?this.currentUrlTree.fragment:i;let u=null;if(s)switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}else u=o?this.currentUrlTree.queryParams:r||null;return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return hg(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new dg(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Em(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new dg(n,e,r)}(n);if(o.toRoot())return hg(e.root,new Mm([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new pg(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new pg(t,t===e.root,0)}const r=ug(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new pg(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?gg(s.segmentGroup,s.index,o.commands):mg(s.segmentGroup,s.index,o.commands);return hg(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,u,l)}navigateByUrl(t,e={skipLocationChange:!1}){Or()&&this.isNgZoneEnabled&&!Xc.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=kg(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(kg(t))return Tm(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Tm(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new nm(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let c,l,u;i?(c=i.resolve,l=i.reject,u=i.promise):u=new Promise((t,e)=>{c=t,l=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(Gt(zo),Gt(Rm),Gt(dv),Gt(ql),Gt(es),Gt(wl),Gt(Zc),Gt(void 0))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),yv=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new x,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Or()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:wv(this.skipLocationChange),replaceUrl:wv(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:wv(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:wv(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(_s(vv),_s(ng),Cs("tabindex"),_s(wa),_s(ga))},t.\u0275dir=ve({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Ns("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[De]}),t})(),bv=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new x,this.subscription=t.events.subscribe(t=>{t instanceof nm&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Or()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:wv(this.skipLocationChange),replaceUrl:wv(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:wv(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:wv(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(_s(vv),_s(ng),_s(zl))},t.\u0275dir=ve({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Ns("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(ia("href",e.href,Xr),ys("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[De]}),t})();function wv(t){return""===t||!!t}let _v=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof nm&&this.update()})}ngAfterContentInit(){V([this.links.changes,this.linksWithHrefs.changes,tp(null)]).pipe(B()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=V(e).pipe(B()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(_s(vv),_s(ga),_s(wa),_s(jo),_s(yv,8),_s(bv,8))},t.\u0275dir=ve({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(Ec(n,yv,!0),Ec(n,bv,!0)),2&t&&(kc(r=Oc())&&(e.links=r),kc(r=Oc())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[De]}),t})(),Cv=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new fc,this.deactivateEvents=new fc,this.name=r||vm,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new xv(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(_s(dv),_s(Ha),_s(ma),Cs("name"),_s(jo))},t.\u0275dir=ve({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class xv{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ng?this.route:t===dv?this.childContexts:this.parent.get(t,e)}}class Sv{}class kv{preload(t,e){return tp(null)}}let Ev=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new uv(e,n,e=>t.triggerEvent(new um(e)),e=>t.triggerEvent(new hm(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(lp(t=>t instanceof nm),Zf(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Qt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return V(n).pipe(B(),E(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(z(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Gt(vv),Gt(wl),Gt(Zc),Gt(es),Gt(Sv))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Ov=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof em?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof nm&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new gm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Gt(vv),Gt(Iu),Gt(void 0))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const Tv=new Vt("ROUTER_CONFIGURATION"),Av=new Vt("ROUTER_FORROOT_GUARD"),Mv=[ql,{provide:Rm,useClass:Pm},{provide:vv,useFactory:function(t,e,n,r,i,o,s,a={},c,l){const u=new vv(null,t,e,n,r,i,o,Sm(s));if(c&&(u.urlHandlingStrategy=c),l&&(u.routeReuseStrategy=l),a.errorHandler&&(u.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(u.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=Al();u.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(u.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(u.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(u.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(u.relativeLinkResolution=a.relativeLinkResolution),u},deps:[Rm,dv,ql,es,wl,Zc,lv,Tv,[class{},new nt],[class{},new nt]]},dv,{provide:ng,useFactory:function(t){return t.routerState.root},deps:[vv]},{provide:wl,useClass:xl},Ev,kv,class{preload(t,e){return e().pipe(Gf(()=>tp(null)))}},{provide:Tv,useValue:{enableTracing:!1}}];function Nv(){return new pl("Router",vv)}let Dv=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Mv,Vv(e),{provide:Av,useFactory:Pv,deps:[[vv,new nt,new it]]},{provide:Tv,useValue:n||{}},{provide:zl,useFactory:Rv,deps:[Nl,[new et(Hl),new nt],Tv]},{provide:Ov,useFactory:Iv,deps:[vv,Iu,Tv]},{provide:Sv,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:kv},{provide:pl,multi:!0,useFactory:Nv},[Fv,{provide:Dc,multi:!0,useFactory:jv,deps:[Fv]},{provide:zv,useFactory:Lv,deps:[Fv]},{provide:Lc,multi:!0,useExisting:zv}]]}}static forChild(e){return{ngModule:t,providers:[Vv(e)]}}}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(Gt(Av,8),Gt(vv,8))}}),t})();function Iv(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ov(t,e,n)}function Rv(t,e,n={}){return n.useHash?new $l(t,e):new Bl(t,e)}function Pv(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Vv(t){return[{provide:ns,multi:!0,useValue:t},{provide:lv,multi:!0,useValue:t}]}let Fv=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new x}appInitializer(){return this.injector.get(Il,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(vv),r=this.injector.get(Tv);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?tp(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Tv),n=this.injector.get(Ev),r=this.injector.get(Ov),i=this.injector.get(vv),o=this.injector.get(yl);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(Gt(es))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function jv(t){return t.appInitializer.bind(t)}function Lv(t){return t.bootstrapListener.bind(t)}const zv=new Vt("Router Initializer"),Uv=[];let Hv=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Dv.forRoot(Uv)],Dv]}),t})();class Bv{}class $v{}class qv{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof qv?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new qv;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof qv?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Wv{encodeKey(t){return Gv(t)}encodeValue(t){return Gv(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Gv(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Jv{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Wv,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Jv({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Kv(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Zv(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Qv(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Yv{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new qv),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Jv,this.urlWithParams=e}serializeBody(){return null===this.body?null:Kv(this.body)||Zv(this.body)||Qv(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jv?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Qv(this.body)?null:Zv(this.body)?this.body.type||null:Kv(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jv?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new Yv(e,n,i,{params:c,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var Xv=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class ty{constructor(t,e=200,n="OK"){this.headers=t.headers||new qv,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ey extends ty{constructor(t={}){super(t),this.type=Xv.ResponseHeader}clone(t={}){return new ey({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ny extends ty{constructor(t={}){super(t),this.type=Xv.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ny({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ry extends ty{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function iy(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let oy=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Yv)r=t;else{let i=void 0;i=n.headers instanceof qv?n.headers:new qv(n.headers);let o=void 0;n.params&&(o=n.params instanceof Jv?n.params:new Jv({fromObject:n.params})),r=new Yv(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=tp(r).pipe(Zf(t=>this.handler.handle(t)));if(t instanceof Yv||"events"===n.observe)return i;const o=i.pipe(lp(t=>t instanceof ny));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(E(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(E(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(E(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(E(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Jv).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,iy(n,e))}post(t,e,n={}){return this.request("POST",t,iy(n,e))}put(t,e,n={}){return this.request("PUT",t,iy(n,e))}}return t.\u0275fac=function(e){return new(e||t)(Gt(Bv))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class sy{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const ay=new Vt("HTTP_INTERCEPTORS");let cy=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const ly=/^\)\]\}',?\n/;class uy{}let hy=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),dy=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new qv(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new ey({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let l=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(ly,"");try{c=""!==c?JSON.parse(c):null}catch(u){c=t,l&&(l=!1,c={error:u,text:c})}}l?(e.next(new ny({body:c,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new ry({error:c,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new ry({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let c=!1;const l=r=>{c||(e.next(o()),c=!0);let i={type:Xv.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},u=t=>{let n={type:Xv.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",l),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),e.next({type:Xv.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",l),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Gt(uy))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const py=new Vt("XSRF_COOKIE_NAME"),fy=new Vt("XSRF_HEADER_NAME");class my{}let gy=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=xu(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ml),Gt(jc),Gt(py))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),vy=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Gt(my),Gt(fy))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),yy=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(ay,[]);this.chain=t.reduceRight((t,e)=>new sy(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Gt($v),Gt(es))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),by=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:vy,useClass:cy}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:py,useValue:e.cookieName}:[],e.headerName?{provide:fy,useValue:e.headerName}:[]]}}}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[vy,{provide:ay,useExisting:vy,multi:!0},{provide:my,useClass:gy},{provide:py,useValue:"XSRF-TOKEN"},{provide:fy,useValue:"X-XSRF-TOKEN"}]}),t})(),wy=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[oy,{provide:Bv,useClass:yy},dy,{provide:$v,useExisting:dy},hy,{provide:uy,useExisting:hy}],imports:[[by.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const _y=new Vt("JWT_OPTIONS");let Cy=(()=>{class t{constructor(t=null){this.tokenGetter=t&&t.tokenGetter||function(){}}urlBase64Decode(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(e)}b64decode(t){let e="";if((t=String(t).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let n,r,i=0,o=0;r=t.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?e+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return e}b64DecodeUnicode(t){return decodeURIComponent(Array.prototype.map.call(this.b64decode(t),t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(t=this.tokenGetter()){if(!t||""===t)return null;const e=t.split(".");if(3!==e.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");const n=this.urlBase64Decode(e[1]);if(!n)throw new Error("Cannot decode the token.");return JSON.parse(n)}getTokenExpirationDate(t=this.tokenGetter()){let e;if(e=this.decodeToken(t),!e||!e.hasOwnProperty("exp"))return null;const n=new Date(0);return n.setUTCSeconds(e.exp),n}isTokenExpired(t=this.tokenGetter(),e){if(!t||""===t)return!0;const n=this.getTokenExpirationDate(t);return e=e||0,null!==n&&!(n.valueOf()>(new Date).valueOf()+1e3*e)}getAuthScheme(t,e){return"function"==typeof t?t(e):t}}return t.\u0275fac=function(e){return new(e||t)(Gt(_y))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),xy=(()=>{class t{constructor(t,e,n){this.jwtHelper=e,this.document=n,this.standardPorts=["80","443"],this.tokenGetter=t.tokenGetter,this.headerName=t.headerName||"Authorization",this.authScheme=t.authScheme||""===t.authScheme?t.authScheme:"Bearer ",this.allowedDomains=t.allowedDomains||[],this.disallowedRoutes=t.disallowedRoutes||[],this.throwNoTokenError=t.throwNoTokenError||!1,this.skipWhenExpired=t.skipWhenExpired}isAllowedDomain(t){const e=new URL(t.url,this.document.location.origin);if(e.host===this.document.location.host)return!0;const n=`${e.hostname}${e.port&&!this.standardPorts.includes(e.port)?":"+e.port:""}`;return this.allowedDomains.findIndex(t=>"string"==typeof t?t===n:t instanceof RegExp&&t.test(n))>-1}isDisallowedRoute(t){const e=new URL(t.url,this.document.location.origin);return this.disallowedRoutes.findIndex(n=>{if("string"==typeof n){const t=new URL(n,this.document.location.origin);return t.hostname===e.hostname&&t.pathname===e.pathname}return n instanceof RegExp&&n.test(t.url)})>-1}handleInterception(t,e,n){const r=this.jwtHelper.getAuthScheme(this.authScheme,e);let i=!1;if(!t&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");return this.skipWhenExpired&&(i=!t||this.jwtHelper.isTokenExpired(t)),t&&i&&this.skipWhenExpired?e=e.clone():t&&(e=e.clone({setHeaders:{[this.headerName]:`${r}${t}`}})),n.handle(e)}intercept(t,e){if(!this.isAllowedDomain(t)||this.isDisallowedRoute(t))return e.handle(t);const n=this.tokenGetter(t);return n instanceof Promise?V(n).pipe(z(n=>this.handleInterception(n,t,e))):this.handleInterception(n,t,e)}}return t.\u0275fac=function(e){return new(e||t)(Gt(_y),Gt(Cy),Gt(Ml))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Sy=(()=>{class t{constructor(t){if(t)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(e){return{ngModule:t,providers:[{provide:ay,useClass:xy,multi:!0},e.jwtOptionsProvider||{provide:_y,useValue:e.config},Cy]}}}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(Gt(t,12))}}),t})();const ky="https://gamescope-api.azurewebsites.net/api/";let Ey=(()=>{class t{constructor(){}success(t){alertify.success(t)}warning(t){alertify.warning(t)}error(t){alertify.danger(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Oy=(()=>{class t{constructor(t,e,n){this.httpClient=t,this.router=e,this.alertifyService=n,this.path=ky+"users/",this.jwtHelper=new Cy,this.TOKEN_KEY="token"}login(t){let e=new qv;e=e.append("Content-Type","application/json"),this.httpClient.post(this.path+"login",t,{headers:e}).subscribe(t=>{this.saveToken(t.token),this.userToken=t.token,this.decodedToken=this.jwtHelper.decodeToken(t.token.toString()),this.alertifyService.success("Welcome to fun."),this.getMe(),this.router.navigate(["/games"])})}register(t){let e=new qv;e=e.append("Content-Type","application/json"),this.httpClient.post(this.path+"register",t,{headers:e}).subscribe(t=>{this.alertifyService.success("Ready to go...")})}getMe(){this.httpClient.get(this.path+"me").subscribe(t=>{this.user=t,localStorage.setItem("user",JSON.stringify(this.user))})}saveToken(t){localStorage.setItem(this.TOKEN_KEY,t)}getUser(){return JSON.parse(localStorage.getItem("user"))}logOut(){localStorage.removeItem(this.TOKEN_KEY),this.alertifyService.error("See you later..."),this.router.navigate(["/auth/login"])}loggedIn(){return null!==localStorage.getItem(this.TOKEN_KEY)}get token(){return localStorage.getItem(this.TOKEN_KEY)}getCurrentUserId(){return this.jwtHelper.decodeToken(this.token).nameid}}return t.\u0275fac=function(e){return new(e||t)(Gt(oy),Gt(vv),Gt(Ey))},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ty(t,e){if(1&t){const t=Ts();ks(0,"button",12),Ns("click",(function(){return rn(t),Rs(2).logOut()})),ea(1,"Sign out"),Es()}}function Ay(t,e){if(1&t&&(ks(0,"nav",1),ks(1,"a",2),ea(2,"GameScope"),Es(),ks(3,"button",3),Os(4,"span",4),Es(),ks(5,"div",5),ks(6,"ul",6),ks(7,"li",7),ks(8,"a",8),ea(9,"Games"),ks(10,"span",9),ea(11,"(current)"),Es(),Es(),Es(),ks(12,"li",7),ks(13,"a",10),ea(14,"Ratings"),Es(),Es(),Es(),bs(15,Ty,2,0,"button",11),Es(),Es()),2&t){const t=Rs();yi(15),xs("ngIf",t.isAuthenticated)}}let My=(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}logOut(){this.authService.logOut()}get isAuthenticated(){return this.authService.loggedIn()}}return t.\u0275fac=function(e){return new(e||t)(_s(Oy))},t.\u0275cmp=he({type:t,selectors:[["app-nav"]],decls:1,vars:1,consts:[["class","navbar navbar-expand-lg navbar-dark bg-primary",4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarColor01","aria-controls","navbarColor01","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarColor01",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["router-link","games","routerLinkActive","active",1,"nav-link"],[1,"sr-only"],["router-link","ratings","routerLinkActive","active",1,"nav-link"],["class","btn btn-secondary my-2 my-sm-0","type","submit",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-secondary","my-2","my-sm-0",3,"click"]],template:function(t,e){1&t&&bs(0,Ay,16,1,"nav",0),2&t&&xs("ngIf",e.isAuthenticated)},directives:[Ou,Lp,_v],styles:[""]}),t})(),Ny=(()=>{class t{constructor(){this.title="gamescope-app"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(Os(0,"app-nav"),Os(1,"router-outlet"))},directives:[My,Cv],styles:[""]}),t})();var Dy={prefix:"fas",iconName:"clock",icon:[512,512,[],"f017","M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"]},Iy={prefix:"fas",iconName:"gamepad",icon:[640,512,[],"f11b","M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"]},Ry={prefix:"fas",iconName:"hand-spock",icon:[512,512,[],"f259","M510.9005,145.27027,442.604,432.09391A103.99507,103.99507,0,0,1,341.43745,512H214.074a135.96968,135.96968,0,0,1-93.18489-36.95291L12.59072,373.12723a39.992,39.992,0,0,1,54.8122-58.24988l60.59342,57.02528v0a283.24849,283.24849,0,0,0-11.6703-80.46734L73.63726,147.36011a40.00575,40.00575,0,1,1,76.71833-22.7187l37.15458,125.39477a8.33113,8.33113,0,0,0,16.05656-4.4414L153.26183,49.95406A39.99638,39.99638,0,1,1,230.73015,30.0166l56.09491,218.15825a10.42047,10.42047,0,0,0,20.30018-.501L344.80766,63.96966a40.052,40.052,0,0,1,51.30245-30.0893c19.86073,6.2998,30.86262,27.67378,26.67564,48.08487l-33.83869,164.966a7.55172,7.55172,0,0,0,14.74406,3.2666l29.3973-123.45874a39.99414,39.99414,0,1,1,77.81208,18.53121Z"]},Py={prefix:"fas",iconName:"pen",icon:[512,512,[],"f304","M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"]},Vy={prefix:"fas",iconName:"plus-square",icon:[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"]},Fy={prefix:"fas",iconName:"trash-alt",icon:[448,512,[],"f2ed","M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"]};function jy(t){return(jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ly(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Ly(t,e,n[e])}))}return t}function Uy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Hy={},By={};try{"undefined"!=typeof window&&(Hy=window),"undefined"!=typeof document&&(By=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(LE){}var $y=(Hy.navigator||{}).userAgent,qy=void 0===$y?"":$y,Wy=Hy,Gy=By,Jy=!!Gy.documentElement&&!!Gy.head&&"function"==typeof Gy.addEventListener&&"function"==typeof Gy.createElement,Ky=(~qy.indexOf("MSIE")||qy.indexOf("Trident/"),"svg-inline--fa"),Zy=[1,2,3,4,5,6,7,8,9,10],Qy=Zy.concat([11,12,13,14,15,16,17,18,19,20]),Yy={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Xy=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",Yy.GROUP,Yy.SWAP_OPACITY,Yy.PRIMARY,Yy.SECONDARY].concat(Zy.map((function(t){return"".concat(t,"x")}))).concat(Qy.map((function(t){return"w-".concat(t)}))),Wy.FontAwesomeConfig||{});Gy&&"function"==typeof Gy.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(t){var e=Uy(t,2),n=e[1],r=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=Gy.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=r&&(Xy[n]=r)}));var tb=zy({},{familyPrefix:"fa",replacementClass:Ky,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Xy);tb.autoReplaceSvg||(tb.observeMutations=!1);var eb=zy({},tb);Wy.FontAwesomeConfig=eb;var nb=Wy||{};nb.___FONT_AWESOME___||(nb.___FONT_AWESOME___={}),nb.___FONT_AWESOME___.styles||(nb.___FONT_AWESOME___.styles={}),nb.___FONT_AWESOME___.hooks||(nb.___FONT_AWESOME___.hooks={}),nb.___FONT_AWESOME___.shims||(nb.___FONT_AWESOME___.shims=[]);var rb=nb.___FONT_AWESOME___,ib=[];Jy&&((Gy.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Gy.readyState)||Gy.addEventListener("DOMContentLoaded",(function t(){Gy.removeEventListener("DOMContentLoaded",t),ib.map((function(t){return t()}))})));var ob,sb="pending",ab="settled",cb="fulfilled",lb="rejected",ub=function(){},hb="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,db="undefined"==typeof setImmediate?setTimeout:setImmediate,pb=[];function fb(){for(var t=0;t<pb.length;t++)pb[t][0](pb[t][1]);pb=[],ob=!1}function mb(t,e){pb.push([t,e]),ob||(ob=!0,db(fb,0))}function gb(t){var e=t.owner,n=e._state,r=e._data,i=t[n],o=t.then;if("function"==typeof i){n=cb;try{r=i(r)}catch(LE){wb(o,LE)}}vb(o,r)||(n===cb&&yb(o,r),n===lb&&wb(o,r))}function vb(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===jy(e))){var r=e.then;if("function"==typeof r)return r.call(e,(function(r){n||(n=!0,e===r?bb(t,r):yb(t,r))}),(function(e){n||(n=!0,wb(t,e))})),!0}}catch(LE){return n||wb(t,LE),!0}return!1}function yb(t,e){t!==e&&vb(t,e)||bb(t,e)}function bb(t,e){t._state===sb&&(t._state=ab,t._data=e,mb(Cb,t))}function wb(t,e){t._state===sb&&(t._state=ab,t._data=e,mb(xb,t))}function _b(t){t._then=t._then.forEach(gb)}function Cb(t){t._state=cb,_b(t)}function xb(t){t._state=lb,_b(t),!t._handled&&hb&&global.process.emit("unhandledRejection",t._data,t)}function Sb(t){global.process.emit("rejectionHandled",t)}function kb(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof kb==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){wb(e,t)}try{t((function(t){yb(e,t)}),n)}catch(LE){n(LE)}}(t,this)}kb.prototype={constructor:kb,_state:sb,_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(ub),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,this._state===lb&&hb&&mb(Sb,this)),this._state===cb||this._state===lb?mb(gb,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},kb.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new kb((function(e,n){var r=[],i=0;function o(t){return i++,function(n){r[t]=n,--i||e(r)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),n):r[a]=s;i||e(r)}))},kb.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new kb((function(e,n){for(var r,i=0;i<t.length;i++)(r=t[i])&&"function"==typeof r.then?r.then(e,n):e(r)}))},kb.resolve=function(t){return t&&"object"===jy(t)&&t.constructor===kb?t:new kb((function(e){e(t)}))},kb.reject=function(t){return new kb((function(e,n){n(t)}))};var Eb={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Ob(){for(var t=12,e="";t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function Tb(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ab(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,": ").concat(t[n],";")}),"")}function Mb(t){return t.size!==Eb.size||t.x!==Eb.x||t.y!==Eb.y||t.rotate!==Eb.rotate||t.flipX||t.flipY}function Nb(t){var e=t.transform,n=t.iconWidth,r={transform:"translate(".concat(t.containerWidth/2," 256)")},i="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(i," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}var Db={x:0,y:0,width:"100%",height:"100%"};function Ib(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Rb(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,s=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,h=t.extra,d=t.watchable,p=void 0!==d&&d,f=r.found?r:n,m=f.width,g=f.height,v="fak"===i,y=v?"":"fa-w-".concat(Math.ceil(m/g*16)),b=[eb.replacementClass,o?"".concat(eb.familyPrefix,"-").concat(o):"",y].filter((function(t){return-1===h.classes.indexOf(t)})).filter((function(t){return""!==t||!!t})).concat(h.classes).join(" "),w={children:[],attributes:zy({},h.attributes,{"data-prefix":i,"data-icon":o,class:b,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},_=v&&!~h.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};p&&(w.attributes["data-fa-i2svg"]=""),c&&w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(u||Ob())},children:[c]});var C=zy({},w,{prefix:i,iconName:o,main:n,mask:r,maskId:l,transform:s,symbol:a,styles:zy({},_,h.styles)}),x=r.found&&n.found?function(t){var e,n=t.children,r=t.attributes,i=t.main,o=t.mask,s=t.maskId,a=i.icon,c=o.icon,l=Nb({transform:t.transform,containerWidth:o.width,iconWidth:i.width}),u={tag:"rect",attributes:zy({},Db,{fill:"white"})},h=a.children?{children:a.children.map(Ib)}:{},d={tag:"g",attributes:zy({},l.inner),children:[Ib(zy({tag:a.tag,attributes:zy({},a.attributes,l.path)},h))]},p={tag:"g",attributes:zy({},l.outer),children:[d]},f="mask-".concat(s||Ob()),m="clip-".concat(s||Ob()),g={tag:"mask",attributes:zy({},Db,{id:f,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[u,p]},v={tag:"defs",children:[{tag:"clipPath",attributes:{id:m},children:(e=c,"g"===e.tag?e.children:[e])},g]};return n.push(v,{tag:"rect",attributes:zy({fill:"currentColor","clip-path":"url(#".concat(m,")"),mask:"url(#".concat(f,")")},Db)}),{children:n,attributes:r}}(C):function(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,o=Ab(t.styles);if(o.length>0&&(n.style=o),Mb(i)){var s=Nb({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:zy({},s.outer),children:[{tag:"g",attributes:zy({},s.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:zy({},r.icon.attributes,s.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}(C),S=x.attributes;return C.children=x.children,C.attributes=S,a?function(t){var e=t.iconName,n=t.children,r=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:zy({},t.attributes,{id:!0===r?"".concat(t.prefix,"-").concat(eb.familyPrefix,"-").concat(e):r}),children:n}]}]}(C):function(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,s=t.transform;if(Mb(s)&&n.found&&!r.found){var a={x:n.width/n.height/2,y:.5};i.style=Ab(zy({},o,{"transform-origin":"".concat(a.x+s.x/16,"em ").concat(a.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(C)}var Pb=function(t,e,n,r){var i,o,s,a=Object.keys(t),c=a.length,l=void 0!==r?function(t,e){return function(n,r,i,o){return t.call(e,n,r,i,o)}}(e,r):e;for(void 0===n?(i=1,s=t[a[0]]):(i=0,s=n);i<c;i++)s=l(s,t[o=a[i]],o,t);return s};function Vb(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,o=Object.keys(e).reduce((function(t,n){var r=e[n];return r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{});"function"!=typeof rb.hooks.addPack||i?rb.styles[t]=zy({},rb.styles[t]||{},o):rb.hooks.addPack(t,o),"fas"===t&&Vb("fa",e)}var Fb=rb.styles,jb=rb.shims,Lb=function(){var t=function(t){return Pb(Fb,(function(e,n,r){return e[r]=Pb(n,t,{}),e}),{})};t((function(t,e,n){return e[3]&&(t[e[3]]=n),t})),t((function(t,e,n){var r=e[2];return t[n]=n,r.forEach((function(e){t[e]=n})),t}));var e="far"in Fb;Pb(jb,(function(t,n){var r=n[1];return"far"!==r||e||(r="fas"),t[n[0]]={prefix:r,iconName:n[2]},t}),{})};function zb(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function Ub(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"==typeof t?Tb(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,'="').concat(Tb(t[n]),'" ')}),"").trim()}(r),">").concat(o.map(Ub).join(""),"</").concat(e,">")}function Hb(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}Lb(),(Hb.prototype=Object.create(Error.prototype)).constructor=Hb;var Bb={fill:"currentColor"},$b={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},qb=(zy({},Bb,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),zy({},$b,{attributeName:"opacity"}));function Wb(t){var e=t[0],n=t[1],r=Uy(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(eb.familyPrefix,"-").concat(Yy.GROUP)},children:[{tag:"path",attributes:{class:"".concat(eb.familyPrefix,"-").concat(Yy.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(eb.familyPrefix,"-").concat(Yy.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}function Gb(){eb.autoAddCss&&!Yb&&(function(t){if(t&&Jy){var e=Gy.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Gy.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}Gy.head.insertBefore(e,r)}}(function(){var t="fa",e=Ky,n=eb.familyPrefix,r=eb.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),s=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(a,".".concat(r))}return i}()),Yb=!0)}function Jb(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map((function(t){return Ub(t)}))}}),Object.defineProperty(t,"node",{get:function(){if(Jy){var e=Gy.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function Kb(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return zb(Qb.definitions,n,r)||zb(rb.styles,n,r)}zy({},Bb,{cx:"256",cy:"364",r:"28"}),zy({},$b,{attributeName:"r",values:"28;14;28;28;14;28;"}),zy({},qb,{values:"1;0;1;1;0;1;"}),zy({},Bb,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),zy({},qb,{values:"1;0;0;0;0;1;"}),zy({},Bb,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),zy({},qb,{values:"0;0;1;1;0;0;"});var Zb,Qb=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e;return(e=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(e){t.definitions[e]=zy({},t.definitions[e]||{},i[e]),Vb(e,i[e]),Lb()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map((function(e){var r=n[e],i=r.prefix,o=r.iconName,s=r.icon;t[i]||(t[i]={}),t[i][o]=s})),t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()),Yb=!1,Xb=(Zb=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?Eb:n,i=e.symbol,o=void 0!==i&&i,s=e.mask,a=void 0===s?null:s,c=e.maskId,l=void 0===c?null:c,u=e.title,h=void 0===u?null:u,d=e.titleId,p=void 0===d?null:d,f=e.classes,m=void 0===f?[]:f,g=e.attributes,v=void 0===g?{}:g,y=e.styles,b=void 0===y?{}:y;if(t){var w=t.prefix,_=t.iconName,C=t.icon;return Jb(zy({type:"icon"},t),(function(){return Gb(),eb.autoA11y&&(h?v["aria-labelledby"]="".concat(eb.replacementClass,"-title-").concat(p||Ob()):(v["aria-hidden"]="true",v.focusable="false")),Rb({icons:{main:Wb(C),mask:a?Wb(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:_,transform:zy({},Eb,r),symbol:o,title:h,maskId:l,titleId:p,extra:{attributes:v,styles:b,classes:m}})}))}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:Kb(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:Kb(r||{})),Zb(n,zy({},e,{mask:r}))});let tw=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:function(){return new t},token:t,providedIn:"root"}),t})(),ew=(()=>{class t{constructor(){this.definitions={}}addIcons(...t){for(const e of t)e.prefix in this.definitions||(this.definitions[e.prefix]={}),this.definitions[e.prefix][e.iconName]=e}addIconPacks(...t){for(const e of t){const t=Object.keys(e).map(t=>e[t]);this.addIcons(...t)}}getIconDefinition(t,e){return t in this.definitions&&e in this.definitions[t]?this.definitions[t][e]:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:function(){return new t},token:t,providedIn:"root"}),t})();const nw=t=>{const e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,["fa-"+t.size]:null!==t.size,["fa-rotate-"+t.rotate]:null!==t.rotate,["fa-pull-"+t.pull]:null!==t.pull,["fa-stack-"+t.stackItemSize]:null!=t.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let rw=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ve({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[De]}),t})(),iw=(()=>{class t{constructor(t,e,n,r){this.sanitizer=t,this.config=e,this.iconLibrary=n,this.stackItem=r,this.classes=[]}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let e=null;if(e=null==this.icon?this.config.fallbackIcon:this.icon,t){const t=this.findIconDefinition(e);if(null!=t){const e=this.buildParams();this.renderIcon(t,e)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const e=((t,e)=>{return void 0!==(n=t).prefix&&void 0!==n.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:e,iconName:t}:void 0;var n})(t,this.config.defaultPrefix);if("icon"in e)return e;const n=this.iconLibrary.getIconDefinition(e.prefix,e.iconName);if(null!=n)return n;const r=Kb(e);if(null!=r){const t="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+t);else if(!this.config.globalLibrary)throw new Error(t);return r}return(t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(e),null}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},e="string"==typeof this.transform?function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce((function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t}),e):e}(this.transform):this.transform;return{title:this.title,transform:e,classes:[...nw(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,e){const n=Xb(t,e);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(n.html.join("\n"))}}return t.\u0275fac=function(e){return new(e||t)(_s(ah),_s(tw),_s(ew),_s(rw,8))},t.\u0275cmp=he({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,e){2&t&&(ia("innerHTML",e.renderedIconHTML,Yr),ys("title",e.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[De],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),ow=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})();const sw=function(){return["/register"]};function aw(t,e){if(1&t){const t=Ts();ks(0,"form",1,2),Ns("ngSubmit",(function(){return rn(t),Rs().login()})),ks(2,"h2",3),ea(3,"Welcome to GameScope "),Os(4,"fa-icon",4),Es(),ks(5,"div",5),ks(6,"input",6),Ns("ngModelChange",(function(e){return rn(t),Rs().loginUser.email=e})),Es(),Es(),ks(7,"div",5),ks(8,"input",7),Ns("ngModelChange",(function(e){return rn(t),Rs().loginUser.password=e})),Es(),Es(),ks(9,"div",8),ks(10,"button",9),ea(11," Sign In "),Es(),Os(12,"hr"),ks(13,"button",10),ea(14," Sign-Up "),Es(),Es(),Es()}if(2&t){const t=ws(1),e=Rs();yi(4),xs("icon",e.faHand),yi(2),xs("ngModel",e.loginUser.email),yi(2),xs("ngModel",e.loginUser.password),yi(2),xs("disabled",!t.valid),yi(3),xs("routerLink",function(t,e,n){const r=hn()+5,i=en();return i[r]===pi?gs(i,r,e()):function(t,e){return t[e]}(i,r)}(0,sw))}}let cw=(()=>{class t{constructor(t){this.authService=t,this.faHand=Ry,this.loginUser={}}ngOnInit(){}login(){this.authService.login(this.loginUser)}get isAuthenticated(){return this.authService.loggedIn()}}return t.\u0275fac=function(e){return new(e||t)(_s(Oy))},t.\u0275cmp=he({type:t,selectors:[["app-login"]],decls:1,vars:1,consts:[["class","form-login",3,"ngSubmit",4,"ngIf"],[1,"form-login",3,"ngSubmit"],["loginForm","ngForm"],[1,"mt-5"],[3,"icon"],[1,"form-group"],["name","email","required","","email","","type","text","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],["name","password","required","","type","password","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],[2,"text-align","center"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"btn","btn-primary","btn-block",3,"routerLink"]],template:function(t,e){1&t&&bs(0,aw,15,6,"form",0),2&t&&xs("ngIf",!e.isAuthenticated)},directives:[Ou,Sd,kh,wd,iw,yh,Nd,Id,Sh,xd,yv],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-login[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-login[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:auto;padding:10px;font-size:16px}.form-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.help-block[_ngcontent-%COMP%]{color:red}"]}),t})(),lw=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){return!!this.authService.loggedIn()||(this.router.navigate(["auth/login"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Oy),Gt(vv))},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function uw(t,e){1&t&&(ks(0,"span",9),ea(1,"Email required. "),Es())}function hw(t,e){1&t&&(ks(0,"span",9),ea(1," Password required. "),Es())}function dw(t,e){1&t&&(ks(0,"span",9),ea(1," Password min length must be greater than 3 characters. "),Es())}function pw(t,e){1&t&&(ks(0,"span",9),ea(1," Password max length must be lower than 100 characters. "),Es())}function fw(t,e){1&t&&(ks(0,"span",9),ea(1," Confirm Password required. "),Es())}function mw(t,e){1&t&&(ks(0,"span",9),ea(1," Confirm Password and password are not matched. "),Es())}let gw=(()=>{class t{constructor(t,e){this.authService=t,this.formBuilder=e,this.faGamepad=Iy,this.registerUser={}}ngOnInit(){this.createRegisterForm()}createRegisterForm(){this.registerForm=this.formBuilder.group({email:new md("",Nh.compose([Nh.required,Nh.email,Nh.maxLength(250)])),password:new md("",Nh.compose([Nh.required,Nh.minLength(3),Nh.maxLength(100)])),confirmPassword:new md("",Nh.required)},{validator:this.passwordMatchValidator})}passwordMatchValidator(t){return t.get("password").value===t.get("confirmPassword").value?null:{mismatch:!0}}register(){this.registerForm.valid&&(this.registerUser=Object.assign({},this.registerForm.value),this.authService.register(this.registerUser))}}return t.\u0275fac=function(e){return new(e||t)(_s(Oy),_s(Pd))},t.\u0275cmp=he({type:t,selectors:[["app-register"]],decls:18,vars:9,consts:[[1,"form-register",3,"formGroup","ngSubmit"],[1,"mt-5"],[3,"icon"],[1,"form-group"],["type","text","id","email","name","email","formControlName","email","placeholder","your@mail.com","autofocus","",1,"form-control"],["class","help-block",4,"ngIf"],["type","password","id","password","name","password","formControlName","password","placeholder","\u015eifre",1,"form-control"],["type","password","id","confirmPassword","name","confirmPassword","formControlName","confirmPassword","placeholder","\u015eifre",1,"form-control"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block",3,"disabled"],[1,"help-block"]],template:function(t,e){1&t&&(ks(0,"form",0),Ns("ngSubmit",(function(){return e.register()})),ks(1,"h2",1),ea(2,"Register to GameScope "),Os(3,"fa-icon",2),Es(),ks(4,"div",3),Os(5,"input",4),bs(6,uw,2,0,"span",5),Es(),ks(7,"div",3),Os(8,"input",6),bs(9,hw,2,0,"span",5),bs(10,dw,2,0,"span",5),bs(11,pw,2,0,"span",5),Es(),ks(12,"div",3),Os(13,"input",7),bs(14,fw,2,0,"span",5),bs(15,mw,2,0,"span",5),Es(),ks(16,"button",8),ea(17," Register "),Es(),Es()),2&t&&(xs("formGroup",e.registerForm),yi(3),xs("icon",e.faGamepad),yi(3),xs("ngIf",e.registerForm.get("email").hasError("email")&&e.registerForm.get("email").touched),yi(3),xs("ngIf",e.registerForm.get("password").hasError("required")&&e.registerForm.get("password").touched),yi(1),xs("ngIf",e.registerForm.get("password").hasError("minlength")&&e.registerForm.get("password").touched),yi(1),xs("ngIf",e.registerForm.get("password").hasError("maxlength")&&e.registerForm.get("password").touched),yi(3),xs("ngIf",e.registerForm.get("confirmPassword").hasError("required")&&e.registerForm.get("confirmPassword").touched),yi(1),xs("ngIf",e.registerForm.get("confirmPassword").touched&&e.registerForm.hasError("mismatch")),yi(1),xs("disabled",!e.registerForm.valid))},directives:[Sd,kh,Od,iw,yh,Sh,Ad,Ou],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-register[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-register[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-register[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:auto;padding:10px;font-size:16px}.form-register[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-register[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-register[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.help-block[_ngcontent-%COMP%]{color:red}"]}),t})(),vw=(()=>{class t{constructor(t,e,n,r){this.httpClient=t,this.alertifyService=e,this.router=n,this.authService=r,this.path=ky}getGames(){return this.httpClient.get(this.path+"games")}getGameDetails(t){return this.httpClient.get(this.path+"games/"+t)}addGame(t){console.log(t),this.httpClient.post(this.path+"games",t).subscribe(t=>{this.alertifyService.success("Game added successfuly."),this.authService.getMe()})}updateGame(t){this.httpClient.put(this.path+"games/"+t.id.toString(),t).subscribe(t=>{this.alertifyService.success("Game updated successfuly."),this.authService.getMe()})}deleteGame(t){this.httpClient.delete(this.path+"games/"+t.id.toString()).subscribe(t=>{this.alertifyService.success("Game deleted successfuly."),this.authService.getMe()})}}return t.\u0275fac=function(e){return new(e||t)(Gt(oy),Gt(Ey),Gt(vv),Gt(Oy))},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yw(t,e){1&t&&(ks(0,"span",12),ea(1," Name is required. "),Es())}function bw(t,e){1&t&&(ks(0,"span",12),ea(1," Name can be max 250 characters. "),Es())}function ww(t,e){1&t&&(ks(0,"span",12),ea(1," Name can be min 3 characters. "),Es())}function _w(t,e){1&t&&(ks(0,"span",12),ea(1," Description is required. "),Es())}function Cw(t,e){1&t&&(ks(0,"span",12),ea(1," Description can be max 250 characters. "),Es())}function xw(t,e){1&t&&(ks(0,"span",12),ea(1," Description can be min 3 characters. "),Es())}let Sw=(()=>{class t{constructor(t,e,n){this.gameService=t,this.formBuilder=e,this.router=n}ngOnInit(){this.createGameForm()}createGameForm(){this.gameCreateForm=this.formBuilder.group({name:new md("",Nh.compose([Nh.required,Nh.minLength(3),Nh.maxLength(250)])),description:new md("",Nh.compose([Nh.required,Nh.minLength(3),Nh.maxLength(250)])),releaseDate:new md("")})}createGame(){this.gameCreateForm.valid&&(this.game=Object.assign({},this.gameCreateForm.value),this.gameService.addGame(this.game),this.router.navigate(["/games"]))}}return t.\u0275fac=function(e){return new(e||t)(_s(vw),_s(Pd),_s(vv))},t.\u0275cmp=he({type:t,selectors:[["app-game-create"]],features:[da([vw])],decls:19,vars:8,consts:[["role","main"],[1,"container"],[1,"row"],[1,"col-12"],[1,"form-gamecreate",3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","id","name","formControlName","name","placeholder","Game name","autofocus","",1,"form-control"],["class","help-block",4,"ngIf"],[1,"formg-group"],["type","date","id","releaseDate","formControlName","releaseDate","placeholder","Release date",1,"form-control"],["type","text","id","description","formControlName","description","placeholder","Description here...",1,"form-control"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block",3,"disabled"],[1,"help-block"]],template:function(t,e){1&t&&(ks(0,"main",0),ks(1,"div",1),ks(2,"div",2),ks(3,"div",3),ks(4,"form",4),Ns("ngSubmit",(function(){return e.createGame()})),ks(5,"div",5),Os(6,"input",6),bs(7,yw,2,0,"span",7),bs(8,bw,2,0,"span",7),bs(9,ww,2,0,"span",7),Es(),ks(10,"div",8),Os(11,"input",9),Es(),ks(12,"div",5),Os(13,"textarea",10),bs(14,_w,2,0,"span",7),bs(15,Cw,2,0,"span",7),bs(16,xw,2,0,"span",7),Es(),ks(17,"button",11),ea(18," Add "),Es(),Es(),Es(),Es(),Es(),Es()),2&t&&(yi(4),xs("formGroup",e.gameCreateForm),yi(3),xs("ngIf",e.gameCreateForm.get("name").hasError("required")&&e.gameCreateForm.get("name").touched),yi(1),xs("ngIf",e.gameCreateForm.get("name").hasError("maxLength")&&e.gameCreateForm.get("name").touched),yi(1),xs("ngIf",e.gameCreateForm.get("name").hasError("minLength")&&e.gameCreateForm.get("name").touched),yi(5),xs("ngIf",e.gameCreateForm.get("description").hasError("required")&&e.gameCreateForm.get("description").touched),yi(1),xs("ngIf",e.gameCreateForm.get("description").hasError("maxLength")&&e.gameCreateForm.get("description").touched),yi(1),xs("ngIf",e.gameCreateForm.get("description").hasError("minLength")&&e.gameCreateForm.get("description").touched),yi(1),xs("disabled",!e.gameCreateForm.valid))},directives:[Sd,kh,Od,yh,Sh,Ad,Ou],styles:[""]}),t})(),kw=(()=>{class t{constructor(t,e,n,r){this.httpClient=t,this.alertifyService=e,this.router=n,this.authService=r,this.path=ky}getRates(){return this.httpClient.get(this.path+"ratings")}addRating(t){this.httpClient.post(this.path+"ratings",t).subscribe(t=>{this.alertifyService.success("Rating added successfuly."),this.authService.getMe()})}updateRating(t,e){this.httpClient.put(this.path+"ratings/"+e,t).subscribe(t=>{this.alertifyService.success("Rating updated successfuly."),this.authService.getMe()})}deleteRating(t){this.httpClient.delete(this.path+"ratings/"+t).subscribe(t=>{this.alertifyService.success("Rating deleted successfuly."),this.authService.getMe()})}}return t.\u0275fac=function(e){return new(e||t)(Gt(oy),Gt(Ey),Gt(vv),Gt(Oy))},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ew(t,e){if(1&t&&(ks(0,"span",3),ea(1,"\u2605"),Es()),2&t){const t=e.index;Bs("filled",100===e.fill)("bad",t<3)}}let Ow=(()=>{class t{constructor(t,e,n,r,i){this.authService=t,this.activatedRoute=e,this.ratingService=n,this.cd=r,this.router=i,this.stars=[1,2,3,4,5,6,7,8,9,10]}addOrUpdateRate(){this.isRated?this.ratingService.updateRating({value:this.activeStars+1,gameId:this.gameId},this.gameId):this.ratingService.addRating({value:this.activeStars,gameId:this.gameId}),this.router.navigate(["/games/",this.gameId])}onClick(){this.cd.detectChanges(),this.addOrUpdateRate()}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.gameId=t.gameId,this.authService.getUser()||this.authService.getMe(),this.rated=this.authService.getUser().ratings.filter(t=>t.gameId===Number(this.gameId)),console.log("rate",this.rated),this.rated?(this.activeStars=this.rated[0].value,this.isRated=!0):this.activeStars=0})}}return t.\u0275fac=function(e){return new(e||t)(_s(Oy),_s(ng),_s(kw),_s(jo),_s(vv))},t.\u0275cmp=he({type:t,selectors:[["app-star"]],decls:5,vars:2,consts:[[1,"col-12"],[1,"text-muted"],[3,"rate","rateChange","click"],[1,"star"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"h6",1),ea(2),Es(),ks(3,"ngb-rating",2),Ns("rateChange",(function(t){return e.activeStars=t}))("click",(function(){return e.onClick()})),bs(4,Ew,2,4,"ng-template"),Es(),Es()),2&t&&(yi(2),na(e.isRated?"Rated:":"Rate this game!"),yi(1),xs("rate",e.activeStars))},directives:[sf],styles:["",".star[_ngcontent-%COMP%] {\n        font-size: 1.5rem;\n        color: #b0c4de;\n      }\n      .filled[_ngcontent-%COMP%] {\n        color: #1e90ff;\n      }\n      .bad[_ngcontent-%COMP%] {\n        color: #deb0b0;\n      }\n      .filled.bad[_ngcontent-%COMP%] {\n        color: #ff1e1e;\n      }"]}),t})();function Tw(t,e){1&t&&(ks(0,"span",12),ea(1," Name is required. "),Es())}function Aw(t,e){1&t&&(ks(0,"span",12),ea(1," Name can be max 250 characters. "),Es())}function Mw(t,e){1&t&&(ks(0,"span",12),ea(1," Name can be min 3 characters. "),Es())}function Nw(t,e){1&t&&(ks(0,"span",12),ea(1," Description is required. "),Es())}function Dw(t,e){1&t&&(ks(0,"span",12),ea(1," Description can be max 250 characters. "),Es())}function Iw(t,e){1&t&&(ks(0,"span",12),ea(1," Description can be min 3 characters. "),Es())}let Rw=(()=>{class t{constructor(t,e,n,r,i){this.gameService=t,this.authService=e,this.formBuilder=n,this.activatedRoute=r,this.router=i}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.gameId=Number(t.gameId),this.authService.getUser()||this.authService.getMe();const e=this.authService.getUser().games.filter(e=>e.id===Number(t.gameId));this.game=e.length>0?e[0]:null}),this.updateGameForm()}updateGameForm(){this.gameUpdateForm=this.formBuilder.group({name:new md(this.game.name,Nh.compose([Nh.required,Nh.minLength(3),Nh.maxLength(250)])),description:new md(this.game.description,Nh.compose([Nh.required,Nh.minLength(3),Nh.maxLength(250)])),releaseDate:new md(this.game.releaseDate)})}updateGame(){if(this.gameUpdateForm.valid){const t=Object.assign({},this.gameUpdateForm.value);t.releaseDate&&this.gameService.updateGame(Object.assign({id:this.gameId},t)),this.gameService.updateGame({id:this.gameId,releaseDate:this.game.releaseDate,name:t.name,description:t.description}),this.router.navigate(["/games/",this.gameId])}}}return t.\u0275fac=function(e){return new(e||t)(_s(vw),_s(Oy),_s(Pd),_s(ng),_s(vv))},t.\u0275cmp=he({type:t,selectors:[["app-game-update"]],features:[da([vw])],decls:19,vars:8,consts:[["role","main"],[1,"container"],[1,"row"],[1,"col-12"],[1,"form-gameupdate",3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","id","name","formControlName","name","placeholder","Game name","autofocus","",1,"form-control"],["class","help-block",4,"ngIf"],[1,"formg-group"],["type","date","id","releaseDate","formControlName","releaseDate","placeholder","Release date",1,"form-control"],["type","text","id","description","formControlName","description","placeholder","Description here...",1,"form-control"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block",3,"disabled"],[1,"help-block"]],template:function(t,e){1&t&&(ks(0,"main",0),ks(1,"div",1),ks(2,"div",2),ks(3,"div",3),ks(4,"form",4),Ns("ngSubmit",(function(){return e.updateGame()})),ks(5,"div",5),Os(6,"input",6),bs(7,Tw,2,0,"span",7),bs(8,Aw,2,0,"span",7),bs(9,Mw,2,0,"span",7),Es(),ks(10,"div",8),Os(11,"input",9),Es(),ks(12,"div",5),Os(13,"textarea",10),bs(14,Nw,2,0,"span",7),bs(15,Dw,2,0,"span",7),bs(16,Iw,2,0,"span",7),Es(),ks(17,"button",11),ea(18," Update "),Es(),Es(),Es(),Es(),Es(),Es()),2&t&&(yi(4),xs("formGroup",e.gameUpdateForm),yi(3),xs("ngIf",e.gameUpdateForm.get("name").hasError("required")&&e.gameUpdateForm.get("name").touched),yi(1),xs("ngIf",e.gameUpdateForm.get("name").hasError("maxLength")&&e.gameUpdateForm.get("name").touched),yi(1),xs("ngIf",e.gameUpdateForm.get("name").hasError("minLength")&&e.gameUpdateForm.get("name").touched),yi(5),xs("ngIf",e.gameUpdateForm.get("description").hasError("required")&&e.gameUpdateForm.get("description").touched),yi(1),xs("ngIf",e.gameUpdateForm.get("description").hasError("maxLength")&&e.gameUpdateForm.get("description").touched),yi(1),xs("ngIf",e.gameUpdateForm.get("description").hasError("minLength")&&e.gameUpdateForm.get("description").touched),yi(1),xs("disabled",!e.gameUpdateForm.valid))},directives:[Sd,kh,Od,yh,Sh,Ad,Ou],styles:[""]}),t})();function Pw(t,e){if(1&t){const t=Ts();ks(0,"div",19),ks(1,"a",20),Ns("click",(function(){rn(t);const e=Rs(),n=ws(37);return e.open(n)})),Os(2,"fa-icon",13),ea(3," Edit"),Es(),ks(4,"a",20),Ns("click",(function(){rn(t);const e=Rs(),n=ws(39);return e.open(n)})),Os(5,"fa-icon",13),ea(6," Delete"),Es(),Es()}if(2&t){const t=Rs();yi(2),xs("icon",t.faPen),yi(3),xs("icon",t.faThrash)}}function Vw(t,e){if(1&t&&(ks(0,"li",10),ks(1,"small",21),ea(2),Es(),ea(3),ks(4,"small",22),Os(5,"fa-icon",13),ea(6),uc(7,"timeago"),Es(),Es()),2&t){const t=e.$implicit,n=Rs();yi(2),ra("",t.value," / 10"),yi(1),ra(" ",t.owner," "),yi(2),xs("icon",n.faClock),yi(1),na(hc(7,4,t.date))}}function Fw(t,e){1&t&&(ks(0,"div",23),ks(1,"h4",24),ea(2,"Update Game"),Es(),ks(3,"button",25),Ns("click",(function(){return e.$implicit.dismiss("Cross click")})),ks(4,"span",26),ea(5,"\xd7"),Es(),Es(),Es(),ks(6,"div",27),Os(7,"app-game-update"),Es(),Os(8,"div",28))}function jw(t,e){if(1&t){const t=Ts();ks(0,"div",23),ks(1,"h4",29),ea(2,"Game deletion"),Es(),ks(3,"button",30),Ns("click",(function(){return e.$implicit.dismiss("Cross click")})),ks(4,"span",26),ea(5,"\xd7"),Es(),Es(),Es(),ks(6,"div",27),ks(7,"p"),ks(8,"strong"),ea(9,"Are you sure you want to delete "),ks(10,"span",31),ea(11),Es(),ea(12," game?"),Es(),Es(),ks(13,"p"),ea(14," All information associated to this game will be permanently deleted. "),ks(15,"span",32),ea(16,"This operation can not be undone."),Es(),Es(),Es(),ks(17,"div",28),ks(18,"button",33),Ns("click",(function(){return e.$implicit.dismiss("cancel click")})),ea(19," Cancel "),Es(),ks(20,"button",34),Ns("click",(function(){rn(t);const e=Rs();return e.deleteGame(e.game.id)})),ea(21," Ok "),Es(),Es()}if(2&t){const t=Rs();yi(11),na(t.game.name)}}let Lw=(()=>{class t{constructor(t,e,n,r,i){this.activatedRoute=t,this.gameService=e,this.authService=n,this.modalService=r,this.router=i,this.closeResult="",this.faPen=Py,this.faThrash=Fy,this.faClock=Dy}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.getGameById(t.gameId),this.authService.getUser()||this.authService.getMe();const e=this.authService.getUser().games.filter(e=>e.id===Number(t.gameId));this.isOwner=e.length>0})}getGameById(t){this.gameService.getGameDetails(t).subscribe(t=>{this.game=t})}deleteGame(t){this.gameService.deleteGame({id:t}),this.router.navigateByUrl("/games")}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult="Closed with: "+t},t=>{this.closeResult="Dismissed "+this.getDismissReason(t)})}getDismissReason(t){return t===Jp.ESC?"by pressing ESC":t===Jp.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+t}}return t.\u0275fac=function(e){return new(e||t)(_s(ng),_s(vw),_s(Oy),_s(Qp),_s(vv))},t.\u0275cmp=he({type:t,selectors:[["app-game-detail"]],features:[da([vw])],decls:40,vars:15,consts:[[1,"container"],[1,"row",2,"margin-top","5px","max-height","720px"],[1,"card","mb-6"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","text-muted"],[1,"",2,"text-align","center"],[1,"card-text"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["class","card-body d-flex justify-content-center",4,"ngIf"],[1,"card-footer","text-muted"],[3,"icon"],[1,"card","mb-12"],[1,"list-group","list-group-flush",2,"min-width","720px"],["class","list-group-item",4,"ngFor","ngForOf"],["content",""],["delete",""],[1,"card-body","d-flex","justify-content-center"],[1,"card-link",3,"click"],[1,"badge","badge-primary"],[1,"mr-1"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],[1,"text-primary"],[1,"text-danger"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button","ngbAutofocus","",1,"btn","btn-danger",3,"click"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"div",1),ks(2,"div",2),ks(3,"h3",3),ea(4),Es(),ks(5,"div",4),Os(6,"h5",5),Os(7,"h6",6),Es(),ks(8,"h1",7),ea(9),ks(10,"small"),ea(11,"/ 10"),Es(),Es(),ks(12,"div",4),ks(13,"p",8),ea(14),Es(),Es(),ks(15,"ul",9),ks(16,"li",10),ea(17),uc(18,"date"),Es(),ks(19,"li",10),ea(20),Es(),ks(21,"li",10),ea(22),Es(),Es(),bs(23,Pw,7,2,"div",11),ks(24,"div",12),Os(25,"fa-icon",13),ea(26),uc(27,"timeago"),Es(),Es(),ks(28,"div",14),ks(29,"div",4),ks(30,"h4",5),ea(31,"Rating"),Es(),Os(32,"app-star"),ks(33,"div"),ks(34,"ul",15),bs(35,Vw,8,6,"li",16),Es(),Es(),Es(),Es(),bs(36,Fw,9,0,"ng-template",null,17,Nc),bs(38,jw,22,1,"ng-template",null,18,Nc),Es(),Es()),2&t&&(yi(4),na(e.game.name),yi(5),ra(" ",e.game.ratingAverage," "),yi(5),ra(" ",e.game.description," "),yi(3),ra(" Release Date:",function(t,e,n,r){const i=en(),o=qe(i,18);return pc(i,dc(i,18)?function(t,e,n,r,i,o,s){const a=e+n;return function(t,e,n,r){const i=vs(t,e,n);return vs(t,e+1,r)||i}(t,a,i,o)?gs(t,a+2,s?r.call(s,i,o):r(i,o)):cc(t,a+2)}(i,hn(),10,o.transform,n,r,o):o.transform(n,r))}(0,0,e.game.releaseDate,"fullDate")," "),yi(3),ra("Owner: ",e.game.owner,""),yi(2),ra("Total Ratings: ",e.game.totalRatings,""),yi(1),xs("ngIf",e.isOwner),yi(2),xs("icon",e.faClock),yi(1),ra(" ",hc(27,13,null==e.game.updatedDate?e.game.createdDate:e.game.updatedDate)," "),yi(9),xs("ngForOf",e.game.ratings))},directives:[Ou,iw,Ow,ku,Rw],pipes:[Nu,Nf],styles:[""]}),t})();function zw(t,e){1&t&&(ks(0,"div",9),ks(1,"h4",10),ea(2,"New Game"),Es(),ks(3,"button",11),Ns("click",(function(){return e.$implicit.dismiss("Cross click")})),ks(4,"span",12),ea(5,"\xd7"),Es(),Es(),Es(),ks(6,"div",13),Os(7,"app-game-create"),Es(),Os(8,"div",14))}const Uw=function(t){return["/games/",t]};function Hw(t,e){if(1&t&&(ks(0,"div",15),ks(1,"div",16),ks(2,"div",17),ks(3,"a",18),ea(4),Es(),ks(5,"small",19),ea(6),Es(),Es(),ks(7,"div",20),Os(8,"h4",21),ks(9,"p",22),ea(10),Es(),Es(),Es(),Es()),2&t){const t=e.$implicit;yi(3),xs("routerLink",(4,n=Uw,r=t.id,lc(en(),hn(),4,n,r,undefined))),yi(1),ra("",t.name," "),yi(2),ra("",t.ratingAverage," / 10"),yi(4),na(t.description)}var n,r}const Bw=[{path:"auth/register",component:gw},{path:"auth/login",component:cw},{path:"games",component:(()=>{class t{constructor(t,e){this.gameService=t,this.modalService=e,this.closeResult="",this.faPlus=Vy}ngOnInit(){this.gameService.getGames().subscribe(t=>{this.games=t})}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult="Closed with: "+t},t=>{this.closeResult="Dismissed "+this.getDismissReason(t)})}getDismissReason(t){return t===Jp.ESC?"by pressing ESC":t===Jp.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+t}}return t.\u0275fac=function(e){return new(e||t)(_s(vw),_s(Qp))},t.\u0275cmp=he({type:t,selectors:[["app-game-list"]],features:[da([vw])],decls:12,vars:2,consts:[[1,"container"],[1,"row",2,"margin-top","5px"],[1,"col-12","d-flex","justify-content-center"],["content",""],[1,"btn","btn-lg","btn-primary","text-success","btn-block",3,"click"],[3,"icon"],[1,"col-12"],[1,"row"],["class","col-4",4,"ngFor","ngForOf"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],[1,"col-4"],[1,"card","text-white","bg-primary","mb-3",2,"max-width","20rem"],[1,"card-header"],[3,"routerLink"],[1,"badge","badge-warning"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(t,e){if(1&t){const t=Ts();ks(0,"div",0),ks(1,"div",1),ks(2,"div",2),bs(3,zw,9,0,"ng-template",null,3,Nc),ks(5,"button",4),Ns("click",(function(){rn(t);const n=ws(4);return e.open(n)})),Os(6,"fa-icon",5),ea(7," Game "),Es(),Es(),Es(),ks(8,"div",1),ks(9,"div",6),ks(10,"div",7),bs(11,Hw,11,6,"div",8),Es(),Es(),Es(),Es()}2&t&&(yi(6),xs("icon",e.faPlus),yi(5),xs("ngForOf",e.games))},directives:[iw,ku,Sw,bv],styles:[""]}),t})(),canActivate:[lw]},{path:"games/add",component:Sw,canActivate:[lw]},{path:"games/:gameId",component:Lw,canActivate:[lw]},{path:"**",redirectTo:"games",pathMatch:"full"}];function $w(t){this.content=t}$w.prototype={constructor:$w,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return-1==i?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new $w(o)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new $w(n)},addToStart:function(t,e){return new $w([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new $w(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(-1==o?i.length:o,0,e,n),new $w(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=$w.from(t)).size?new $w(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=$w.from(t)).size?new $w(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=$w.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},$w.from=function(t){if(t instanceof $w)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new $w(e)};var qw=$w,Ww=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},Gw={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};Ww.prototype.nodesBetween=function(t,e,n,r,i){void 0===r&&(r=0);for(var o=0,s=0;s<e;o++){var a=this.content[o],c=s+a.nodeSize;if(c>t&&!1!==n(a,r+s,i,o)&&a.content.size){var l=s+1;a.nodesBetween(Math.max(0,t-l),Math.min(a.content.size,e-l),n,r+l)}s=c}},Ww.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},Ww.prototype.textBetween=function(t,e,n,r){var i="",o=!0;return this.nodesBetween(t,e,(function(s,a){s.isText?(i+=s.text.slice(Math.max(t,a)-a,e-a),o=!n):s.isLeaf&&r?(i+=r,o=!n):!o&&s.isBlock&&(i+=n,o=!0)}),0),i},Ww.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),i=1);i<t.content.length;i++)r.push(t.content[i]);return new Ww(r,this.size+t.size)},Ww.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var i=0,o=0;o<e;i++){var s=this.content[i],a=o+s.nodeSize;a>t&&((o<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-o),Math.min(s.text.length,e-o)):s.cut(Math.max(0,t-o-1),Math.min(s.content.size,e-o-1))),n.push(s),r+=s.nodeSize),o=a}return new Ww(n,r)},Ww.prototype.cutByIndex=function(t,e){return t==e?Ww.empty:0==t&&e==this.content.length?this:new Ww(this.content.slice(t,e))},Ww.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),i=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new Ww(r,i)},Ww.prototype.addToStart=function(t){return new Ww([t].concat(this.content),this.size+t.nodeSize)},Ww.prototype.addToEnd=function(t){return new Ww(this.content.concat(t),this.size+t.nodeSize)},Ww.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},Gw.firstChild.get=function(){return this.content.length?this.content[0]:null},Gw.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},Gw.childCount.get=function(){return this.content.length},Ww.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},Ww.prototype.maybeChild=function(t){return this.content[t]},Ww.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},Ww.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),function t(e,n,r){for(var i=0;;i++){if(i==e.childCount||i==n.childCount)return e.childCount==n.childCount?null:r;var o=e.child(i),s=n.child(i);if(o!=s){if(!o.sameMarkup(s))return r;if(o.isText&&o.text!=s.text){for(var a=0;o.text[a]==s.text[a];a++)r++;return r}if(o.content.size||s.content.size){var c=t(o.content,s.content,r+1);if(null!=c)return c}r+=o.nodeSize}else r+=o.nodeSize}}(this,t,e)},Ww.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),function t(e,n,r,i){for(var o=e.childCount,s=n.childCount;;){if(0==o||0==s)return o==s?null:{a:r,b:i};var a=e.child(--o),c=n.child(--s),l=a.nodeSize;if(a!=c){if(!a.sameMarkup(c))return{a:r,b:i};if(a.isText&&a.text!=c.text){for(var u=0,h=Math.min(a.text.length,c.text.length);u<h&&a.text[a.text.length-u-1]==c.text[c.text.length-u-1];)u++,r--,i--;return{a:r,b:i}}if(a.content.size||c.content.size){var d=t(a.content,c.content,r-1,i-1);if(d)return d}r-=l,i-=l}else r-=l,i-=l}}(this,t,e,n)},Ww.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return Kw(0,t);if(t==this.size)return Kw(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var i=r+this.child(n).nodeSize;if(i>=t)return i==t||e>0?Kw(n+1,i):Kw(n,r);r=i}},Ww.prototype.toString=function(){return"<"+this.toStringInner()+">"},Ww.prototype.toStringInner=function(){return this.content.join(", ")},Ww.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},Ww.fromJSON=function(t,e){if(!e)return Ww.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ww(e.map(t.nodeFromJSON))},Ww.fromArray=function(t){if(!t.length)return Ww.empty;for(var e,n=0,r=0;r<t.length;r++){var i=t[r];n+=i.nodeSize,r&&i.isText&&t[r-1].sameMarkup(i)?(e||(e=t.slice(0,r)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new Ww(e||t,n)},Ww.from=function(t){if(!t)return Ww.empty;if(t instanceof Ww)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Ww([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(Ww.prototype,Gw);var Jw={index:0,offset:0};function Kw(t,e){return Jw.index=t,Jw.offset=e,Jw}function Zw(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!Zw(t[r],e[r]))return!1}else{for(var i in t)if(!(i in e)||!Zw(t[i],e[i]))return!1;for(var o in e)if(!(o in t))return!1}return!0}Ww.empty=new Ww([],0);var Qw=function(t,e){this.type=t,this.attrs=e};function Yw(t){var e=Error.call(this,t);return e.__proto__=Yw.prototype,e}Qw.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var i=t[r];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,r));else{if(i.type.excludes(this.type))return t;!n&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(i)}}return e||(e=t.slice()),n||e.push(this),e},Qw.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},Qw.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},Qw.prototype.eq=function(t){return this==t||this.type==t.type&&Zw(this.attrs,t.attrs)},Qw.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},Qw.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},Qw.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},Qw.setFrom=function(t){if(!t||0==t.length)return Qw.none;if(t instanceof Qw)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},Qw.none=[],(Yw.prototype=Object.create(Error.prototype)).constructor=Yw,Yw.prototype.name="ReplaceError";var Xw=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},t_={size:{configurable:!0}};function e_(t,e){if(!e.type.compatibleContent(t.type))throw new Yw("Cannot join "+e.type.name+" onto "+t.type.name)}function n_(t,e,n){var r=t.node(n);return e_(r,e.node(n)),r}function r_(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function i_(t,e,n,r){var i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(r_(t.nodeAfter,r),o++));for(var a=o;a<s;a++)r_(i.child(a),r);e&&e.depth==n&&e.textOffset&&r_(e.nodeBefore,r)}function o_(t,e){if(!t.type.validContent(e))throw new Yw("Invalid content for node "+t.type.name);return t.copy(e)}function s_(t,e,n){var r=[];return i_(null,t,n,r),t.depth>n&&r_(o_(n_(t,e,n+1),s_(t,e,n+1)),r),i_(e,null,n,r),new Ww(r)}t_.size.get=function(){return this.content.size-this.openStart-this.openEnd},Xw.prototype.insertAt=function(t,e){var n=function t(e,n,r,i){var o=e.findIndex(n),s=o.index,a=o.offset,c=e.maybeChild(s);if(a==n||c.isText)return i&&!i.canReplace(s,s,r)?null:e.cut(0,n).append(r).append(e.cut(n));var l=t(c.content,n-a-1,r);return l&&e.replaceChild(s,c.copy(l))}(this.content,t+this.openStart,e,null);return n&&new Xw(n,this.openStart,this.openEnd)},Xw.prototype.removeBetween=function(t,e){return new Xw(function t(e,n,r){var i=e.findIndex(n),o=i.index,s=i.offset,a=e.maybeChild(o),c=e.findIndex(r),l=c.index;if(s==n||a.isText){if(c.offset!=r&&!e.child(l).isText)throw new RangeError("Removing non-flat range");return e.cut(0,n).append(e.cut(r))}if(o!=l)throw new RangeError("Removing non-flat range");return e.replaceChild(o,a.copy(t(a.content,n-s-1,r-s-1)))}(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},Xw.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},Xw.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},Xw.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},Xw.fromJSON=function(t,e){if(!e)return Xw.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new Xw(Ww.fromJSON(t,e.content),n,r)},Xw.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,i=t.firstChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.firstChild)n++;for(var o=t.lastChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.lastChild)r++;return new Xw(t,n,r)},Object.defineProperties(Xw.prototype,t_),Xw.empty=new Xw(Ww.empty,0,0);var a_=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},c_={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};a_.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},c_.parent.get=function(){return this.node(this.depth)},c_.doc.get=function(){return this.node(0)},a_.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},a_.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},a_.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},a_.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},a_.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},a_.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},a_.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},c_.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},c_.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},c_.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},a_.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1,i=0;i<t;i++)r+=n.child(i).nodeSize;return r},a_.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return Qw.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var i=n;n=r,r=i}for(var o=n.marks,s=0;s<o.length;s++)!1!==o[s].type.spec.inclusive||r&&o[s].isInSet(r.marks)||(o=o[s--].removeFromSet(o));return o},a_.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n},a_.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},a_.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new d_(this,t,n)},a_.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},a_.prototype.max=function(t){return t.pos>this.pos?t:this},a_.prototype.min=function(t){return t.pos<this.pos?t:this},a_.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},a_.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,i=e,o=t;;){var s=o.content.findIndex(i),a=s.index,c=s.offset,l=i-c;if(n.push(o,a,r+c),!l)break;if((o=o.child(a)).isText)break;i=l-1,r+=c+1}return new a_(e,n,i)},a_.resolveCached=function(t,e){for(var n=0;n<l_.length;n++){var r=l_[n];if(r.pos==e&&r.doc==t)return r}var i=l_[u_]=a_.resolve(t,e);return u_=(u_+1)%h_,i},Object.defineProperties(a_.prototype,c_);var l_=[],u_=0,h_=12,d_=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},p_={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};p_.start.get=function(){return this.$from.before(this.depth+1)},p_.end.get=function(){return this.$to.after(this.depth+1)},p_.parent.get=function(){return this.$from.node(this.depth)},p_.startIndex.get=function(){return this.$from.index(this.depth)},p_.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(d_.prototype,p_);var f_=Object.create(null),m_=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||Ww.empty,this.marks=r||Qw.none},g_={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};g_.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},g_.childCount.get=function(){return this.content.childCount},m_.prototype.child=function(t){return this.content.child(t)},m_.prototype.maybeChild=function(t){return this.content.maybeChild(t)},m_.prototype.forEach=function(t){this.content.forEach(t)},m_.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},m_.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},g_.textContent.get=function(){return this.textBetween(0,this.content.size,"")},m_.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},g_.firstChild.get=function(){return this.content.firstChild},g_.lastChild.get=function(){return this.content.lastChild},m_.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},m_.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},m_.prototype.hasMarkup=function(t,e,n){return this.type==t&&Zw(this.attrs,e||t.defaultAttrs||f_)&&Qw.sameSet(this.marks,n||Qw.none)},m_.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},m_.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},m_.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},m_.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return Xw.empty;var r=this.resolve(t),i=this.resolve(e),o=n?0:r.sharedDepth(e),s=r.start(o),a=r.node(o).content.cut(r.pos-s,i.pos-s);return new Xw(a,r.depth-o,i.depth-o)},m_.prototype.replace=function(t,e,n){return function(t,e,n){if(n.openStart>t.depth)throw new Yw("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Yw("Inconsistent open depths");return function t(e,n,r,i){var o=e.index(i),s=e.node(i);if(o==n.index(i)&&i<e.depth-r.openStart){var a=t(e,n,r,i+1);return s.copy(s.content.replaceChild(o,a))}if(r.content.size){if(r.openStart||r.openEnd||e.depth!=i||n.depth!=i){var c=function(t,e){for(var n=e.depth-t.openStart,r=e.node(n).copy(t.content),i=n-1;i>=0;i--)r=e.node(i).copy(Ww.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(r,e);return o_(s,function t(e,n,r,i,o){var s=e.depth>o&&n_(e,n,o+1),a=i.depth>o&&n_(r,i,o+1),c=[];return i_(null,e,o,c),s&&a&&n.index(o)==r.index(o)?(e_(s,a),r_(o_(s,t(e,n,r,i,o+1)),c)):(s&&r_(o_(s,s_(e,n,o+1)),c),i_(n,r,o,c),a&&r_(o_(a,s_(r,i,o+1)),c)),i_(i,null,o,c),new Ww(c)}(e,c.start,c.end,n,i))}var l=e.parent,u=l.content;return o_(l,u.cut(0,e.parentOffset).append(r.content).append(u.cut(n.parentOffset)))}return o_(s,s_(e,n,i))}(t,e,n,0)}(this.resolve(t),this.resolve(e),n)},m_.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.offset;if(!(e=e.maybeChild(n.index)))return null;if(r==t||e.isText)return e;t-=r+1}},m_.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},m_.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}},m_.prototype.resolve=function(t){return a_.resolveCached(this,t)},m_.prototype.resolveNoCache=function(t){return a_.resolve(this,t)},m_.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(r=!0),!r})),r},g_.isBlock.get=function(){return this.type.isBlock},g_.isTextblock.get=function(){return this.type.isTextblock},g_.inlineContent.get=function(){return this.type.inlineContent},g_.isInline.get=function(){return this.type.isInline},g_.isText.get=function(){return this.type.isText},g_.isLeaf.get=function(){return this.type.isLeaf},g_.isAtom.get=function(){return this.type.isAtom},m_.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),y_(this.marks,t)},m_.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},m_.prototype.canReplace=function(t,e,n,r,i){void 0===n&&(n=Ww.empty),void 0===r&&(r=0),void 0===i&&(i=n.childCount);var o=this.contentMatchAt(t).matchFragment(n,r,i),s=o&&o.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(var a=r;a<i;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0},m_.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var i=this.contentMatchAt(t).matchType(n),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd},m_.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},m_.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach((function(t){return t.check()}))},m_.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},m_.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=Ww.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(m_.prototype,g_);var v_=function(t){function e(e,n,r,i){if(t.call(this,e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):y_(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(m_);function y_(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var b_=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},w_={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};b_.parse=function(t,e){var n=new __(t,e);if(null==n.next)return b_.empty;var r=x_(n);n.next&&n.err("Unexpected trailing text");var i,o,s=(i=function(t){var e=[[]];return i(function t(e,o){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(t(n,o))}),[]);if("seq"==e.type)for(var s=0;;s++){var a=t(e.exprs[s],o);if(s==e.exprs.length-1)return a;i(a,o=n())}else{if("star"==e.type){var c=n();return r(o,c),i(t(e.expr,c),c),[r(c)]}if("plus"==e.type){var l=n();return i(t(e.expr,o),l),i(t(e.expr,l),l),[r(l)]}if("opt"==e.type)return[r(o)].concat(t(e.expr,o));if("range"==e.type){for(var u=o,h=0;h<e.min;h++){var d=n();i(t(e.expr,u),d),u=d}if(-1==e.max)i(t(e.expr,u),u);else for(var p=e.min;p<e.max;p++){var f=n();r(u,f),i(t(e.expr,u),f),u=f}return[r(u)]}if("name"==e.type)return[r(o,null,e.value)]}}(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var i={term:r,to:n};return e[t].push(i),i}function i(t,e){t.forEach((function(t){return t.to=e}))}}(r),o=Object.create(null),function t(e){var n=[];e.forEach((function(t){i[t].forEach((function(t){var e=t.term,r=t.to;if(e){var o=n.indexOf(e),s=o>-1&&n[o+1];A_(i,r).forEach((function(t){s||n.push(e,s=[]),-1==s.indexOf(t)&&s.push(t)}))}}))}));for(var r=o[e.join(",")]=new b_(e.indexOf(i.length-1)>-1),s=0;s<n.length;s+=2){var a=n[s+1].sort(T_);r.next.push(n[s],o[a.join(",")]||t(a))}return r}(A_(i,0)));return function(t,e){for(var n=0,r=[t];n<r.length;n++){for(var i=r[n],o=!i.validEnd,s=[],a=0;a<i.next.length;a+=2){var c=i.next[a],l=i.next[a+1];s.push(c.name),!o||c.isText||c.hasRequiredAttrs()||(o=!1),-1==r.indexOf(l)&&r.push(l)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(s,n),s},b_.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},b_.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,i=e;r&&i<n;i++)r=r.matchType(t.child(i).type);return r},w_.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},w_.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},b_.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},b_.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var r=[this];return function i(o,s){var a=o.matchFragment(t,n);if(a&&(!e||a.validEnd))return Ww.from(s.map((function(t){return t.createAndFill()})));for(var c=0;c<o.next.length;c+=2){var l=o.next[c],u=o.next[c+1];if(!l.isText&&!l.hasRequiredAttrs()&&-1==r.indexOf(u)){r.push(u);var h=i(u,s.concat(l));if(h)return h}}}(this,[])},b_.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},b_.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),i=r.match;if(i.matchType(t)){for(var o=[],s=r;s.type;s=s.via)o.push(s.type);return o.reverse()}for(var a=0;a<i.next.length;a+=2){var c=i.next[a];c.isLeaf||c.hasRequiredAttrs()||c.name in e||r.type&&!i.next[a+1].validEnd||(n.push({match:c.contentMatch,type:c,via:r}),e[c.name]=!0)}}},w_.edgeCount.get=function(){return this.next.length>>1},b_.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},b_.prototype.toString=function(){var t=[];return function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",i=0;i<e.next.length;i+=2)r+=(i?", ":"")+e.next[i].name+"->"+t.indexOf(e.next[i+1]);return r})).join("\n")},Object.defineProperties(b_.prototype,w_),b_.empty=new b_(!0);var __=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift()},C_={next:{configurable:!0}};function x_(t){var e=[];do{e.push(S_(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function S_(t){var e=[];do{e.push(k_(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function k_(t){for(var e=function(t){if(t.eat("(")){var e=x_(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=function(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var i=[];for(var o in n){var s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return 0==i.length&&t.err("No node type or group '"+e+"' found"),i}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=O_(t,e)}return e}function E_(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function O_(t,e){var n=E_(t),r=n;return t.eat(",")&&(r="}"!=t.next?E_(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function T_(t,e){return e-t}function A_(t,e){var n=[];return function e(r){var i=t[r];if(1==i.length&&!i[0].term)return e(i[0].to);n.push(r);for(var o=0;o<i.length;o++){var s=i[o],a=s.to;s.term||-1!=n.indexOf(a)||e(a)}}(e),n.sort(T_)}function M_(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function N_(t,e){var n=Object.create(null);for(var r in t){var i=e&&e[r];if(void 0===i){var o=t[r];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=o.default}n[r]=i}return n}function D_(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new P_(t[n]);return e}C_.next.get=function(){return this.tokens[this.pos]},__.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},__.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(__.prototype,C_);var I_=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=D_(n.attrs),this.defaultAttrs=M_(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},R_={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};R_.isInline.get=function(){return!this.isBlock},R_.isTextblock.get=function(){return this.isBlock&&this.inlineContent},R_.isLeaf.get=function(){return this.contentMatch==b_.empty},R_.isAtom.get=function(){return this.isLeaf||this.spec.atom},I_.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},I_.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},I_.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:N_(this.attrs,t)},I_.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new m_(this,this.computeAttrs(t),Ww.from(e),Qw.setFrom(n))},I_.prototype.createChecked=function(t,e,n){if(e=Ww.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new m_(this,this.computeAttrs(t),e,Qw.setFrom(n))},I_.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),(e=Ww.from(e)).size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var i=this.contentMatch.matchFragment(e).fillBefore(Ww.empty,!0);return i?new m_(this,t,e.append(i),Qw.setFrom(n)):null},I_.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},I_.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},I_.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},I_.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:Qw.empty:t},I_.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,r){return n[t]=new I_(t,e,r)}));var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(I_.prototype,R_);var P_=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},V_={isRequired:{configurable:!0}};V_.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(P_.prototype,V_);var F_=function(t,e,n,r){this.name=t,this.schema=n,this.spec=r,this.attrs=D_(r.attrs),this.rank=e,this.excluded=null;var i=M_(this.attrs);this.instance=i&&new Qw(this,i)};F_.prototype.create=function(t){return!t&&this.instance?this.instance:new Qw(this,N_(this.attrs,t))},F_.compile=function(t,e){var n=Object.create(null),r=0;return t.forEach((function(t,i){return n[t]=new F_(t,r++,e,i)})),n},F_.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t.slice(0,e).concat(t.slice(e+1));return t},F_.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},F_.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var j_=function(t){for(var e in this.spec={},t)this.spec[e]=t[e];this.spec.nodes=qw.from(t.nodes),this.spec.marks=qw.from(t.marks),this.nodes=I_.compile(this.spec.nodes,this),this.marks=F_.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var i=this.nodes[r],o=i.spec.content||"",s=i.spec.marks;i.contentMatch=n[o]||(n[o]=b_.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==s?null:s?L_(this,s.split(" ")):""!=s&&i.inlineContent?null:[]}for(var a in this.marks){var c=this.marks[a],l=c.spec.excludes;c.excluded=null==l?[c]:""==l?[]:L_(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function L_(t,e){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(var a in t.marks){var c=t.marks[a];("_"==i||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=c)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}j_.prototype.node=function(t,e,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof I_))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)},j_.prototype.text=function(t,e){var n=this.nodes.text;return new v_(n,n.defaultAttrs,t,Qw.setFrom(e))},j_.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},j_.prototype.nodeFromJSON=function(t){return m_.fromJSON(this,t)},j_.prototype.markFromJSON=function(t){return Qw.fromJSON(this,t)},j_.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var z_=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)})),this.normalizeLists=!this.tags.some((function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var n=t.nodes[e.node];return n.contentMatch.matchType(n)}))};z_.prototype.parse=function(t,e){void 0===e&&(e={});var n=new W_(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},z_.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new W_(this,e,!0);return n.addAll(t,null,e.from,e.to),Xw.maxOpen(n.finish())},z_.prototype.matchTag=function(t,e){for(var n=0;n<this.tags.length;n++){var r=this.tags[n];if(J_(t,r.tag)&&(void 0===r.namespace||t.namespaceURI==r.namespace)&&(!r.context||e.matchesContext(r.context))){if(r.getAttrs){var i=r.getAttrs(t);if(!1===i)continue;r.attrs=i}return r}}},z_.prototype.matchStyle=function(t,e,n){for(var r=0;r<this.styles.length;r++){var i=this.styles[r];if(!(0!=i.style.indexOf(t)||i.context&&!n.matchesContext(i.context)||i.style.length>t.length&&(61!=i.style.charCodeAt(t.length)||i.style.slice(t.length+1)!=e))){if(i.getAttrs){var o=i.getAttrs(e);if(!1===o)continue;i.attrs=o}return i}}},z_.schemaRules=function(t){var e=[];function n(t){for(var n=null==t.priority?50:t.priority,r=0;r<e.length;r++){var i=e[r];if((null==i.priority?50:i.priority)<n)break}e.splice(r,0,t)}var r,i=function(e){var r=t.marks[e].spec.parseDOM;r&&r.forEach((function(t){n(t=K_(t)),t.mark=e}))};for(var o in t.marks)i(o);for(var s in t.nodes)r=void 0,(r=t.nodes[s].spec.parseDOM)&&r.forEach((function(t){n(t=K_(t)),t.node=s}));return e},z_.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new z_(t,z_.schemaRules(t)))};var U_={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},H_={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},B_={ol:!0,ul:!0};function $_(t){return(t?1:0)|("full"===t?2:0)}var q_=function(t,e,n,r,i,o,s){this.type=t,this.attrs=e,this.solid=i,this.match=o||(4&s?null:t.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=Qw.none,this.pendingMarks=r,this.stashMarks=[]};q_.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(Ww.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},q_.prototype.finish=function(t){if(!(1&this.options)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=Ww.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(Ww.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},q_.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(this.stashMarks[e].type==t)return this.stashMarks.splice(e,1)[0]},q_.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];if((this.type?this.type.allowsMarkType(r.type):Z_(r.type,t))&&!r.isInSet(this.activeMarks)){var i=Q_(r,this.activeMarks);i&&this.stashMarks.push(i),this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks)}}};var W_=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,i=e.topNode,o=$_(e.preserveWhitespace)|(n?4:0);r=i?new q_(i.type,i.attrs,Qw.none,Qw.none,!0,e.topMatch||i.type.contentMatch,o):new q_(n?null:t.schema.topNodeType,null,Qw.none,Qw.none,!0,null,o),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},G_={top:{configurable:!0},currentPos:{configurable:!0}};function J_(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function K_(t){var e={};for(var n in t)e[n]=t[n];return e}function Z_(t,e){var n=e.schema.nodes,r=function(r){var i=n[r];if(i.allowsMarkType(t)){var o=[],s=function(t){o.push(t);for(var n=0;n<t.edgeCount;n++){var r=t.edge(n),i=r.next;if(r.type==e)return!0;if(o.indexOf(i)<0&&s(i))return!0}};return s(i.contentMatch)?{v:!0}:void 0}};for(var i in n){var o=r(i);if(o)return o.v}}function Q_(t,e){for(var n=0;n<e.length;n++)if(t.type==e[n].type)return e[n]}G_.top.get=function(){return this.nodes[this.open]},W_.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(function(t){for(var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];e=n.exec(t);)r.push(e[1],e[2].trim());return r}(e)):null,r=this.top;if(null!=n)for(var i=0;i<n.length;i++)this.addPendingMark(n[i]);if(this.addElement(t),null!=n)for(var o=0;o<n.length;o++)this.removePendingMark(n[o],r)}},W_.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)2&n.options||(e=e.replace(/\r?\n|\r/g," "));else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],i=t.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},W_.prototype.addElement=function(t){var e=t.nodeName.toLowerCase();B_.hasOwnProperty(e)&&this.parser.normalizeLists&&function(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&B_.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}(t);var n=this.options.ruleFromNode&&this.options.ruleFromNode(t)||this.parser.matchTag(t,this);if(n?n.ignore:H_.hasOwnProperty(e))this.findInside(t);else if(!n||n.skip||n.closeParent){n&&n.closeParent?this.open=Math.max(0,this.open-1):n&&n.skip.nodeType&&(t=n.skip);var r,i=this.top,o=this.needsBlock;if(U_.hasOwnProperty(e))r=!0,i.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),r&&this.sync(i),this.needsBlock=o}else this.addElementByRule(t,n)},W_.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},W_.prototype.readStyles=function(t){for(var e=Qw.none,n=0;n<t.length;n+=2){var r=this.parser.matchStyle(t[n],t[n+1],this);if(r){if(r.ignore)return null;e=this.parser.schema.marks[r.mark].create(r.attrs).addToSet(e)}}return e},W_.prototype.addElementByRule=function(t,e){var n,r,i,o=this;e.node?(r=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(r.create(e.attrs))||this.leafFallback(t):n=this.enter(r,e.attrs,e.preserveWhitespace):(i=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(i));var s=this.top;if(r&&r.isLeaf)this.findInside(t);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return o.insertNode(t)}));else{var a=e.contentElement;"string"==typeof a?a=t.querySelector(a):"function"==typeof a&&(a=a(t)),a||(a=t),this.findAround(t,a,!0),this.addAll(a,n)}n&&(this.sync(s),this.open--),i&&this.removePendingMark(i,s)},W_.prototype.addAll=function(t,e,n,r){for(var i=n||0,o=n?t.childNodes[n]:t.firstChild,s=null==r?null:t.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o),e&&U_.hasOwnProperty(o.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,i)},W_.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var i=this.nodes[r],o=i.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,n=i,!o.length))break;if(i.solid)break}if(!e)return!1;this.sync(n);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},W_.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,i=0;i<t.marks.length;i++)n.type&&!n.type.allowsMarkType(t.marks[i].type)||(r=t.marks[i].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},W_.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},W_.prototype.enterInner=function(t,e,n,r){this.closeExtra();var i=this.top;i.applyPending(t),i.match=i.match&&i.match.matchType(t,e);var o=null==r?-5&i.options:$_(r);4&i.options&&0==i.content.length&&(o|=4),this.nodes.push(new q_(t,e,i.activeMarks,i.pendingMarks,n,null,o)),this.open++},W_.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},W_.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},W_.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},G_.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},W_.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},W_.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},W_.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++)null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)&&e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)},W_.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},W_.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,i=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),o=(i?0:1)-(r?r.depth+1:0),s=function(t,a){for(;t>=0;t--){var c=n[t];if(""==c){if(t==n.length-1||0==t)continue;for(;a>=o;a--)if(s(t-1,a))return!0;return!1}var l=a>0||0==a&&i?e.nodes[a].type:r&&a>=o?r.node(a-o).type:null;if(!l||l.name!=c&&-1==l.groups.indexOf(c))return!1;a--}return!0};return s(n.length-1,this.open)},W_.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var i=this.parser.schema.nodes[r];if(i.isTextblock&&i.defaultAttrs)return i}},W_.prototype.addPendingMark=function(t){var e=Q_(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},W_.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);var i=r.popFromStashMark(t.type);i&&(r.activeMarks=i.addToSet(r.activeMarks))}if(r==e)break}},Object.defineProperties(W_.prototype,G_);var Y_=function(t,e){this.nodes=t||{},this.marks=e||{}};function X_(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function tC(t){return t.document||window.document}Y_.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=tC(e).createDocumentFragment());var i=n,o=null;return t.forEach((function(t){if(o||t.marks.length){o||(o=[]);for(var n=0,s=0;n<o.length&&s<t.marks.length;){var a=t.marks[s];if(r.marks[a.type.name]){if(!a.eq(o[n])||!1===a.type.spec.spanning)break;n+=2,s++}else s++}for(;n<o.length;)i=o.pop(),o.pop();for(;s<t.marks.length;){var c=t.marks[s++],l=r.serializeMark(c,t.isInline,e);l&&(o.push(c,i),i.appendChild(l.dom),i=l.contentDOM||l.dom)}}i.appendChild(r.serializeNode(t,e))})),n},Y_.prototype.serializeNode=function(t,e){void 0===e&&(e={});var n=Y_.renderSpec(tC(e),this.nodes[t.type.name](t)),r=n.dom,i=n.contentDOM;if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,i,e):this.serializeFragment(t.content,e,i)}return r},Y_.prototype.serializeNodeAndMarks=function(t,e){void 0===e&&(e={});for(var n=this.serializeNode(t,e),r=t.marks.length-1;r>=0;r--){var i=this.serializeMark(t.marks[r],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n},Y_.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&Y_.renderSpec(tC(n),r(t,e))},Y_.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};var r=e[0],i=r.indexOf(" ");i>0&&(n=r.slice(0,i),r=r.slice(i+1));var o=null,s=n?t.createElementNS(n,r):t.createElement(r),a=e[1],c=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a))for(var l in c=2,a)if(null!=a[l]){var u=l.indexOf(" ");u>0?s.setAttributeNS(l.slice(0,u),l.slice(u+1),a[l]):s.setAttribute(l,a[l])}for(var h=c;h<e.length;h++){var d=e[h];if(0===d){if(h<e.length-1||h>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var p=Y_.renderSpec(t,d,n),f=p.contentDOM;if(s.appendChild(p.dom),f){if(o)throw new RangeError("Multiple content holes");o=f}}return{dom:s,contentDOM:o}},Y_.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new Y_(this.nodesFromSchema(t),this.marksFromSchema(t)))},Y_.nodesFromSchema=function(t){var e=X_(t.nodes);return e.text||(e.text=function(t){return t.text}),e},Y_.marksFromSchema=function(t){return X_(t.marks)};var eC=Math.pow(2,16);function nC(t){return 65535&t}var rC=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},iC=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};iC.prototype.recover=function(t){var e=0,n=nC(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/eC}(t)},iC.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},iC.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},iC.prototype._map=function(t,e,n){for(var r=0,i=this.inverted?2:1,o=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?r:0);if(a>t)break;var c=this.ranges[s+i],l=this.ranges[s+o],u=a+c;if(t<=u){var h=a+r+((c?t==a?-1:t==u?1:e:e)<0?0:l);return n?h:new rC(h,e<0?t!=a:t!=u,t==(e<0?a:u)?null:s/3+(t-a)*eC)}r+=l-c}return n?t+r:new rC(t+r)},iC.prototype.touches=function(t,e){for(var n=0,r=nC(e),i=this.inverted?2:1,o=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?n:0);if(a>t)break;var c=this.ranges[s+i];if(t<=a+c&&s==3*r)return!0;n+=this.ranges[s+o]-c}return!1},iC.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,i=0;r<this.ranges.length;r+=3){var o=this.ranges[r],s=o-(this.inverted?i:0),a=o+(this.inverted?0:i),c=this.ranges[r+e],l=this.ranges[r+n];t(s,s+c,a,a+l),i+=l-c}},iC.prototype.invert=function(){return new iC(this.ranges,!this.inverted)},iC.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},iC.offset=function(t){return 0==t?iC.empty:new iC(t<0?[0,-t,0]:[0,0,t])},iC.empty=new iC([]);var oC=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};function sC(t){var e=Error.call(this,t);return e.__proto__=sC.prototype,e}oC.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new oC(this.maps,this.mirror,t,e)},oC.prototype.copy=function(){return new oC(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},oC.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},oC.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:null)}},oC.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},oC.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},oC.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:null)}},oC.prototype.invert=function(){var t=new oC;return t.appendMappingInverted(this),t},oC.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},oC.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},oC.prototype._map=function(t,e,n){for(var r=!1,i=this.from;i<this.to;i++){var o=this.maps[i].mapResult(t,e);if(null!=o.recover){var s=this.getMirror(i);if(null!=s&&s>i&&s<this.to){i=s,t=this.maps[s].recover(o.recover);continue}}o.deleted&&(r=!0),t=o.pos}return n?t:new rC(t,r)},(sC.prototype=Object.create(Error.prototype)).constructor=sC,sC.prototype.name="TransformError";var aC=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new oC},cC={before:{configurable:!0},docChanged:{configurable:!0}};function lC(){throw new Error("Override me")}cC.before.get=function(){return this.docs.length?this.docs[0]:this.doc},aC.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new sC(e.failed);return this},aC.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},cC.docChanged.get=function(){return this.steps.length>0},aC.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(aC.prototype,cC);var uC=Object.create(null),hC=function(){};hC.prototype.apply=function(t){return lC()},hC.prototype.getMap=function(){return iC.empty},hC.prototype.invert=function(t){return lC()},hC.prototype.map=function(t){return lC()},hC.prototype.merge=function(t){return null},hC.prototype.toJSON=function(){return lC()},hC.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=uC[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},hC.jsonID=function(t,e){if(t in uC)throw new RangeError("Duplicate use of step JSON ID "+t);return uC[t]=e,e.prototype.jsonID=t,e};var dC=function(t,e){this.doc=t,this.failed=e};dC.ok=function(t){return new dC(t,null)},dC.fail=function(t){return new dC(null,t)},dC.fromReplace=function(t,e,n,r){try{return dC.ok(t.replace(e,n,r))}catch(LE){if(LE instanceof Yw)return dC.fail(LE.message);throw LE}};var pC=function(t){function e(e,n,r,i){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!i}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.apply=function(t){return this.structure&&mC(t,this.from,this.to)?dC.fail("Structure replace would overwrite content"):dC.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new iC([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure!=this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?Xw.empty:new Xw(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var r=this.slice.size+t.slice.size==0?Xw.empty:new Xw(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),r,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,Xw.fromJSON(t,n.slice),!!n.structure)},e}(hC);hC.jsonID("replace",pC);var fC=function(t){function e(e,n,r,i,o,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.apply=function(t){if(this.structure&&(mC(t,this.from,this.gapFrom)||mC(t,this.gapTo,this.to)))return dC.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return dC.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?dC.fromReplace(t,this.from,this.to,n):dC.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new iC([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),o=t.map(this.gapTo,1);return n.deleted&&r.deleted||i<n.pos||o>r.pos?null:new e(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,Xw.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(hC);function mC(t,e,n){for(var r=t.resolve(e),i=n-e,o=r.depth;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0)for(var s=r.node(o).maybeChild(r.indexAfter(o));i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}return!1}function gC(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function vC(t){for(var e=t.parent.content.cutByIndex(t.startIndex,t.endIndex),n=t.depth;;--n){var r=t.$from.node(n),i=t.$from.index(n),o=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(i,o,e))return n;if(0==n||r.type.spec.isolating||!gC(r,i,o))break}}function yC(t,e,n,r){void 0===r&&(r=t);var i=function(t,e){var n=t.parent,r=t.startIndex,i=t.endIndex,o=n.contentMatchAt(r).findWrapping(e);return o&&n.canReplaceWith(r,i,o.length?o[0]:e)?o:null}(t,e),o=i&&function(t,e){var n=t.parent,r=t.startIndex,i=t.endIndex,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;for(var a=(s.length?s[s.length-1]:e).contentMatch,c=r;a&&c<i;c++)a=a.matchType(n.child(c).type);return a&&a.validEnd?s:null}(r,e);return o?i.map(bC).concat({type:e,attrs:n}).concat(o.map(bC)):null}function bC(t){return{type:t,attrs:null}}function wC(t,e,n,r){void 0===n&&(n=1);var i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(var a=i.depth-1,c=n-2;a>o;a--,c--){var l=i.node(a),u=i.index(a);if(l.type.spec.isolating)return!1;var h=l.content.cutByIndex(u,l.childCount),d=r&&r[c]||l;if(d!=l&&(h=h.replaceChild(0,d.type.create(d.attrs))),!l.canReplace(u+1,l.childCount)||!d.type.validContent(h))return!1}var p=i.indexAfter(o),f=r&&r[0];return i.node(o).canReplaceWith(p,p,f?f.type:i.node(o+1).type)}function _C(t,e){var n,r,i=t.resolve(e),o=i.index();return r=i.nodeAfter,(n=i.nodeBefore)&&r&&!n.isLeaf&&n.canAppend(r)&&i.parent.canReplace(o,o+1)}function CC(t,e,n){for(var r=[],i=0;i<t.childCount;i++){var o=t.child(i);o.content.size&&(o=o.copy(CC(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return Ww.fromArray(r)}hC.jsonID("replaceAround",fC),aC.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,i=t.depth,o=n.before(i+1),s=r.after(i+1),a=o,c=s,l=Ww.empty,u=0,h=i,d=!1;h>e;h--)d||n.index(h)>0?(d=!0,l=Ww.from(n.node(h).copy(l)),u++):a--;for(var p=Ww.empty,f=0,m=i,g=!1;m>e;m--)g||r.after(m+1)<r.end(m)?(g=!0,p=Ww.from(r.node(m).copy(p)),f++):c++;return this.step(new fC(a,c,o,s,new Xw(l.append(p),u,f),l.size-u,!0))},aC.prototype.wrap=function(t,e){for(var n=Ww.empty,r=e.length-1;r>=0;r--)n=Ww.from(e[r].type.create(e[r].attrs,n));var i=t.start,o=t.end;return this.step(new fC(i,o,i,o,new Xw(n,0,0),e.length,!0))},aC.prototype.setBlockType=function(t,e,n,r){var i=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var o=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,r)&&function(t,e,n){var r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}(i.doc,i.mapping.slice(o).map(e),n)){i.clearIncompatible(i.mapping.slice(o).map(e,1),n);var s=i.mapping.slice(o),a=s.map(e,1),c=s.map(e+t.nodeSize,1);return i.step(new fC(a,c,a+1,c-1,new Xw(Ww.from(n.create(r,null,t.marks)),0,0),1,!0)),!1}})),this},aC.prototype.setNodeMarkup=function(t,e,n,r){var i=this.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");e||(e=i.type);var o=e.create(n,null,r||i.marks);if(i.isLeaf)return this.replaceWith(t,t+i.nodeSize,o);if(!e.validContent(i.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new fC(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new Xw(Ww.from(o),0,0),1,!0))},aC.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var r=this.doc.resolve(t),i=Ww.empty,o=Ww.empty,s=r.depth,a=r.depth-e,c=e-1;s>a;s--,c--){i=Ww.from(r.node(s).copy(i));var l=n&&n[c];o=Ww.from(l?l.type.create(l.attrs,o):r.node(s).copy(o))}return this.step(new pC(t,t,new Xw(i.append(o),e,e),!0))},aC.prototype.join=function(t,e){void 0===e&&(e=1);var n=new pC(t-e,t+e,Xw.empty,!0);return this.step(n)};var xC=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new Xw(CC(n.content,(function(t,n){return n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),i),n.openStart,n.openEnd);return dC.fromReplace(t,this.from,this.to,o)},e.prototype.invert=function(){return new SC(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(hC);hC.jsonID("addMark",xC);var SC=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=new Xw(CC(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return dC.fromReplace(t,this.from,this.to,r)},e.prototype.invert=function(){return new xC(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(hC);function kC(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}hC.jsonID("removeMark",SC),aC.prototype.addMark=function(t,e,n){var r=this,i=[],o=[],s=null,a=null;return this.doc.nodesBetween(t,e,(function(r,c,l){if(r.isInline){var u=r.marks;if(!n.isInSet(u)&&l.type.allowsMarkType(n.type)){for(var h=Math.max(c,t),d=Math.min(c+r.nodeSize,e),p=n.addToSet(u),f=0;f<u.length;f++)u[f].isInSet(p)||(s&&s.to==h&&s.mark.eq(u[f])?s.to=d:i.push(s=new SC(h,d,u[f])));a&&a.to==h?a.to=d:o.push(a=new xC(h,d,n))}}})),i.forEach((function(t){return r.step(t)})),o.forEach((function(t){return r.step(t)})),this},aC.prototype.removeMark=function(t,e,n){var r=this;void 0===n&&(n=null);var i=[],o=0;return this.doc.nodesBetween(t,e,(function(r,s){if(r.isInline){o++;var a=null;if(n instanceof F_){var c=n.isInSet(r.marks);c&&(a=[c])}else n?n.isInSet(r.marks)&&(a=[n]):a=r.marks;if(a&&a.length)for(var l=Math.min(s+r.nodeSize,e),u=0;u<a.length;u++){for(var h=a[u],d=void 0,p=0;p<i.length;p++){var f=i[p];f.step==o-1&&h.eq(i[p].style)&&(d=f)}d?(d.to=l,d.step=o):i.push({style:h,from:Math.max(s,t),to:l,step:o})}}})),i.forEach((function(t){return r.step(new SC(t.from,t.to,t.style))})),this},aC.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),i=[],o=t+1,s=0;s<r.childCount;s++){var a=r.child(s),c=o+a.nodeSize,l=n.matchType(a.type,a.attrs);if(l){n=l;for(var u=0;u<a.marks.length;u++)e.allowsMarkType(a.marks[u].type)||this.step(new SC(o,c,a.marks[u]))}else i.push(new pC(o,c,Xw.empty));o=c}if(!n.validEnd){var h=n.fillBefore(Ww.empty,!0);this.replace(o,o,new Xw(h,0,0))}for(var d=i.length-1;d>=0;d--)this.step(i[d]);return this},aC.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=Xw.empty);var r=function(t,e,n,r){if(void 0===n&&(n=e),void 0===r&&(r=Xw.empty),e==n&&!r.size)return null;var i=t.resolve(e),o=t.resolve(n);return kC(i,o,r)?new pC(e,n,r):new EC(i,o,r).fit()}(this.doc,t,e,n);return r&&this.step(r),this},aC.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new Xw(Ww.from(n),0,0))},aC.prototype.delete=function(t,e){return this.replace(t,e,Xw.empty)},aC.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var EC=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var r=0;r<=t.depth;r++){var i=t.node(r);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(r))})}this.placed=Ww.empty;for(var o=t.depth;o>0;o--)this.placed=Ww.from(t.node(o).copy(this.placed))},OC={depth:{configurable:!0}};function TC(t,e,n){return 0==e?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(TC(t.firstChild.content,e-1,n)))}function AC(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(AC(t.lastChild.content,e-1,n)))}function MC(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function NC(t,e,n){if(e<=0)return t;var r=t.content;return e>1&&(r=r.replaceChild(0,NC(r.firstChild,e-1,1==r.childCount?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(Ww.empty,!0)))),t.copy(r)}function DC(t,e,n,r,i){var o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;var a=r.fillBefore(o.content,!0,s);return a&&!function(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}(n,o.content,s)?a:null}function IC(t,e,n,r,i){if(e<n){var o=t.firstChild;t=t.replaceChild(0,o.copy(IC(o.content,e+1,n,r,o)))}if(e>r){var s=i.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(Ww.empty,!0))}return t}function RC(t,e){for(var n=[],r=Math.min(t.depth,e.depth);r>=0;r--){var i=t.start(r);if(i<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;i==e.start(r)&&n.push(r)}return n}OC.depth.get=function(){return this.frontier.length-1},EC.prototype.fit=function(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;for(var o=this.placed,s=r.depth,a=i.depth;s&&a&&1==o.childCount;)o=o.firstChild.content,s--,a--;var c=new Xw(o,s,a);return e>-1?new fC(r.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new pC(r.pos,i.pos,c):void 0},EC.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--)for(var n=void 0,r=(e?(n=MC(this.unplaced.content,e-1).firstChild).content:this.unplaced.content).firstChild,i=this.depth;i>=0;i--){var o=this.frontier[i],s=o.type,a=o.match,c=void 0,l=void 0;if(1==t&&(r?a.matchType(r.type)||(l=a.fillBefore(Ww.from(r),!1)):s.compatibleContent(n.type)))return{sliceDepth:e,frontierDepth:i,parent:n,inject:l};if(2==t&&r&&(c=a.findWrapping(r.type)))return{sliceDepth:e,frontierDepth:i,parent:n,wrap:c};if(n&&a.matchType(n.type))break}},EC.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,i=MC(e,n);return!(!i.childCount||i.firstChild.isLeaf||(this.unplaced=new Xw(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),0))},EC.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,i=MC(e,n);if(i.childCount<=1&&n>0){var o=e.size-n<=n+i.size;this.unplaced=new Xw(TC(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new Xw(TC(e,n,1),n,r)},EC.prototype.placeNodes=function(t){for(var e=t.sliceDepth,n=t.frontierDepth,r=t.parent,i=t.inject,o=t.wrap;this.depth>n;)this.closeFrontierNode();if(o)for(var s=0;s<o.length;s++)this.openFrontierNode(o[s]);var a=this.unplaced,c=r?r.content:a.content,l=a.openStart-e,u=0,h=[],d=this.frontier[n],p=d.match,f=d.type;if(i){for(var m=0;m<i.childCount;m++)h.push(i.child(m));p=p.matchFragment(i)}for(var g=c.size+e-(a.content.size-a.openEnd);u<c.childCount;){var v=c.child(u),y=p.matchType(v.type);if(!y)break;(++u>1||0==l||v.content.size)&&(p=y,h.push(NC(v.mark(f.allowedMarks(v.marks)),1==u?l:0,u==c.childCount?g:-1)))}var b=u==c.childCount;b||(g=-1),this.placed=AC(this.placed,n,Ww.from(h)),this.frontier[n].match=p,b&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var w=0,_=c;w<g;w++){var C=_.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),_=C.content}this.unplaced=b?0==e?Xw.empty:new Xw(TC(a.content,e-1,1),e-1,g<0?a.openEnd:e-1):new Xw(TC(a.content,e,u),a.openStart,a.openEnd)},EC.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!DC(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},EC.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],r=n.match,i=n.type,o=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=DC(t,e,i,r,o);if(s){for(var a=e-1;a>=0;a--){var c=this.frontier[a],l=DC(t,a,c.type,c.match,!0);if(!l||l.childCount)continue t}return{depth:e,fit:s,move:o?t.doc.resolve(t.after(e+1)):t}}}},EC.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=AC(this.placed,e.depth,e.fit)),t=e.move;for(var n=e.depth+1;n<=t.depth;n++){var r=t.node(n),i=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,i)}return t},EC.prototype.openFrontierNode=function(t,e,n){var r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=AC(this.placed,this.depth,Ww.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})},EC.prototype.closeFrontierNode=function(){var t=this.frontier.pop().match.fillBefore(Ww.empty,!0);t.childCount&&(this.placed=AC(this.placed,this.frontier.length,t))},Object.defineProperties(EC.prototype,OC),aC.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),i=this.doc.resolve(e);if(kC(r,i,n))return this.step(new pC(t,e,n));var o=RC(r,this.doc.resolve(e));0==o[o.length-1]&&o.pop();var s=-(r.depth+1);o.unshift(s);for(var a=r.depth,c=r.pos-1;a>0;a--,c--){var l=r.node(a).type.spec;if(l.defining||l.isolating)break;o.indexOf(a)>-1?s=a:r.before(a)==c&&o.splice(1,0,-a)}for(var u=o.indexOf(s),h=[],d=n.openStart,p=n.content,f=0;;f++){var m=p.firstChild;if(h.push(m),f==n.openStart)break;p=m.content}d>0&&h[d-1].type.spec.defining&&r.node(u).type!=h[d-1].type?d-=1:d>=2&&h[d-1].isTextblock&&h[d-2].type.spec.defining&&r.node(u).type!=h[d-2].type&&(d-=2);for(var g=n.openStart;g>=0;g--){var v=(g+d+1)%(n.openStart+1),y=h[v];if(y)for(var b=0;b<o.length;b++){var w=o[(b+u)%o.length],_=!0;w<0&&(_=!1,w=-w);var C=r.node(w-1),x=r.index(w-1);if(C.canReplaceWith(x,x,y.type,y.marks))return this.replace(r.before(w),_?i.after(w):e,new Xw(IC(n.content,0,n.openStart,v),v,n.openEnd))}}for(var S=this.steps.length,k=o.length-1;k>=0&&(this.replace(t,e,n),!(this.steps.length>S));k--){var E=o[k];k<0||(t=r.before(E),e=i.after(E))}return this},aC.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=function(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var i=r.depth-1;i>=0;i--){var o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}(this.doc,t,n.type);null!=r&&(t=e=r)}return this.replaceRange(t,e,new Xw(Ww.from(n),0,0))},aC.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),i=RC(n,r),o=0;o<i.length;o++){var s=i[o],a=o==i.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var c=1;c<=n.depth&&c<=r.depth;c++)if(t-n.start(c)==n.depth-c&&e>n.end(c)&&r.end(c)-e!=r.depth-c)return this.delete(n.before(c),e);return this.delete(t,e)};var PC=Object.create(null),VC=function(t,e,n){this.ranges=n||[new jC(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},FC={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};FC.anchor.get=function(){return this.$anchor.pos},FC.head.get=function(){return this.$head.pos},FC.from.get=function(){return this.$from.pos},FC.to.get=function(){return this.$to.pos},FC.$from.get=function(){return this.ranges[0].$from},FC.$to.get=function(){return this.ranges[0].$to},FC.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},VC.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},VC.prototype.replace=function(t,e){void 0===e&&(e=Xw.empty);for(var n=e.content.lastChild,r=null,i=0;i<e.openEnd;i++)r=n,n=n.lastChild;for(var o=t.steps.length,s=this.ranges,a=0;a<s.length;a++){var c=s[a],l=c.$from,u=c.$to,h=t.mapping.slice(o);t.replaceRange(h.map(l.pos),h.map(u.pos),a?Xw.empty:e),0==a&&WC(t,o,(n?n.isInline:r&&r.isTextblock)?-1:1)}},VC.prototype.replaceWith=function(t,e){for(var n=t.steps.length,r=this.ranges,i=0;i<r.length;i++){var o=r[i],s=o.$from,a=o.$to,c=t.mapping.slice(n),l=c.map(s.pos),u=c.map(a.pos);i?t.deleteRange(l,u):(t.replaceRangeWith(l,u,e),WC(t,n,e.isInline?-1:1))}},VC.findFrom=function(t,e,n){var r=t.parent.inlineContent?new LC(t):qC(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(var i=t.depth-1;i>=0;i--){var o=e<0?qC(t.node(0),t.node(i),t.before(i+1),t.index(i),e,n):qC(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,e,n);if(o)return o}},VC.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new BC(t.node(0))},VC.atStart=function(t){return qC(t,t,0,0,1)||new BC(t)},VC.atEnd=function(t){return qC(t,t,t.content.size,t.childCount,-1)||new BC(t)},VC.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=PC[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},VC.jsonID=function(t,e){if(t in PC)throw new RangeError("Duplicate use of selection JSON ID "+t);return PC[t]=e,e.prototype.jsonID=t,e},VC.prototype.getBookmark=function(){return LC.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(VC.prototype,FC),VC.prototype.visible=!0;var jC=function(t,e){this.$from=t,this.$to=e},LC=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,r){var i=n.resolve(r.map(this.head));if(!i.parent.inlineContent)return t.near(i);var o=n.resolve(r.map(this.anchor));return new e(o.parent.inlineContent?o:i,i)},e.prototype.replace=function(e,n){if(void 0===n&&(n=Xw.empty),t.prototype.replace.call(this,e,n),n==Xw.empty){var r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new zC(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))},e.between=function(n,r,i){var o=n.pos-r.pos;if(i&&!o||(i=o>=0?1:-1),!r.parent.inlineContent){var s=t.findFrom(r,i,!0)||t.findFrom(r,-i,!0);if(!s)return t.near(r,i);r=s.$head}return n.parent.inlineContent||(0==o||(n=(t.findFrom(n,-i,!0)||t.findFrom(n,i,!0)).$anchor).pos<r.pos!=o<0)&&(n=r),new e(n,r)},Object.defineProperties(e.prototype,n),e}(VC);VC.jsonID("text",LC);var zC=function(t,e){this.anchor=t,this.head=e};zC.prototype.map=function(t){return new zC(t.map(this.anchor),t.map(this.head))},zC.prototype.resolve=function(t){return LC.between(t.resolve(this.anchor),t.resolve(this.head))};var UC=function(t){function e(e){var n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,r),this.node=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.map=function(n,r){var i=r.mapResult(this.anchor),o=i.deleted,s=n.resolve(i.pos);return o?t.near(s):new e(s)},e.prototype.content=function(){return new Xw(Ww.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new HC(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(VC);UC.prototype.visible=!1,VC.jsonID("node",UC);var HC=function(t){this.anchor=t};HC.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.pos;return e.deleted?new zC(n,n):new HC(n)},HC.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&UC.isSelectable(n)?new UC(e):VC.near(e)};var BC=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.replace=function(e,n){if(void 0===n&&(n=Xw.empty),n==Xw.empty){e.delete(0,e.doc.content.size);var r=t.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else t.prototype.replace.call(this,e,n)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return $C},e}(VC);VC.jsonID("all",BC);var $C={map:function(){return this},resolve:function(t){return new BC(t)}};function qC(t,e,n,r,i,o){if(e.inlineContent)return LC.create(t,n);for(var s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){var a=e.child(s);if(a.isAtom){if(!o&&UC.isSelectable(a))return UC.create(t,n-(i<0?a.nodeSize:0))}else{var c=qC(t,a,n+i,i<0?a.childCount:0,i,o);if(c)return c}n+=a.nodeSize*i}}function WC(t,e,n){var r=t.steps.length-1;if(!(r<e)){var i,o=t.steps[r];(o instanceof pC||o instanceof fC)&&(t.mapping.maps[r].forEach((function(t,e,n,r){null==i&&(i=r)})),t.setSelection(VC.near(t.doc.resolve(i),n)))}}var GC=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=2,this},e.prototype.ensureMarks=function(t){return Qw.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=-3&this.updated,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Qw.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var i=this.storedMarks;if(!i){var o=this.doc.resolve(e);i=n==e?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,i)),this.selection.empty||this.setSelection(VC.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(e.prototype,n),e}(aC);function JC(t,e){return e&&t?t.bind(e):t}var KC=function(t,e,n){this.name=t,this.init=JC(e.init,n),this.apply=JC(e.apply,n)},ZC=[new KC("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new KC("selection",{init:function(t,e){return t.selection||VC.atStart(e.doc)},apply:function(t){return t.selection}}),new KC("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new KC("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],QC=function(t,e){var n=this;this.schema=t,this.fields=ZC.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach((function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new KC(t.key,t.spec.state,t))}))},YC=function(t){this.config=t},XC={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};XC.schema.get=function(){return this.config.schema},XC.plugins.get=function(){return this.config.plugins},YC.prototype.apply=function(t){return this.applyTransaction(t).state},YC.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0},YC.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),r=null;;){for(var i=!1,o=0;o<this.config.plugins.length;o++){var s=this.config.plugins[o];if(s.spec.appendTransaction){var a=r?r[o].n:0,c=r?r[o].state:this,l=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,c,n);if(l&&n.filterTransaction(l,o)){if(l.setMeta("appendedTransaction",t),!r){r=[];for(var u=0;u<this.config.plugins.length;u++)r.push(u<o?{state:n,n:e.length}:{state:this,n:0})}e.push(l),n=n.applyInner(l),i=!0}r&&(r[o]={state:n,n:e.length})}}if(!i)return{state:n,transactions:e}}},YC.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new YC(this.config),n=this.config.fields,r=0;r<n.length;r++){var i=n[r];e[i.name]=i.apply(t,this[i.name],this,e)}for(var o=0;o<tx.length;o++)tx[o](this,t,e);return e},XC.tr.get=function(){return new GC(this)},YC.create=function(t){for(var e=new QC(t.schema||t.doc.type.schema,t.plugins),n=new YC(e),r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n},YC.prototype.reconfigure=function(t){for(var e=new QC(t.schema||this.schema,t.plugins),n=e.fields,r=new YC(e),i=0;i<n.length;i++){var o=n[i].name;r[o]=this.hasOwnProperty(o)?this[o]:n[i].init(t,r)}return r},YC.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=t[n],i=r.spec.state;i&&i.toJSON&&(e[n]=i.toJSON.call(r,this[r.key]))}return e},YC.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var r=new QC(t.schema,t.plugins),i=new YC(r);return r.fields.forEach((function(r){if("doc"==r.name)i.doc=m_.fromJSON(t.schema,e.doc);else if("selection"==r.name)i.selection=VC.fromJSON(i.doc,e.selection);else if("storedMarks"==r.name)e.storedMarks&&(i.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var o in n){var s=n[o],a=s.spec.state;if(s.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,o))return void(i[r.name]=a.fromJSON.call(s,t,e[o],i))}i[r.name]=r.init(t,i)}})),i},YC.addApplyListener=function(t){tx.push(t)},YC.removeApplyListener=function(t){var e=tx.indexOf(t);e>-1&&tx.splice(e,1)},Object.defineProperties(YC.prototype,XC);var tx=[],ex=function(t){this.props={},t.props&&function t(e,n,r){for(var i in e){var o=e[i];o instanceof Function?o=o.bind(n):"handleDOMEvents"==i&&(o=t(o,n,{})),r[i]=o}return r}(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:rx("plugin")};ex.prototype.getState=function(t){return t[this.key]};var nx=Object.create(null);function rx(t){return t in nx?t+"$"+ ++nx[t]:(nx[t]=0,t+"$")}var ix=function(t){void 0===t&&(t="key"),this.key=rx(t)};ix.prototype.get=function(t){return t.config.pluginsByKey[this.key]},ix.prototype.getState=function(t){return t[this.key]};var ox={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var sx=/Edge\/(\d+)/.exec(navigator.userAgent),ax=/MSIE \d/.test(navigator.userAgent),cx=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);ox.mac=/Mac/.test(navigator.platform);var lx=ox.ie=!!(ax||cx||sx);ox.ie_version=ax?document.documentMode||6:cx?+cx[1]:sx?+sx[1]:null,ox.gecko=!lx&&/gecko\/(\d+)/i.test(navigator.userAgent),ox.gecko_version=ox.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var ux=!lx&&/Chrome\/(\d+)/.exec(navigator.userAgent);ox.chrome=!!ux,ox.chrome_version=ux&&+ux[1],ox.ios=!lx&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),ox.android=/Android \d/.test(navigator.userAgent),ox.webkit="webkitFontSmoothing"in document.documentElement.style,ox.safari=/Apple Computer/.test(navigator.vendor),ox.webkit_version=ox.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var hx=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},dx=function(t){var e=t.parentNode;return e&&11==e.nodeType?e.host:e},px=null,fx=function(t,e,n){var r=px||(px=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},mx=function(t,e,n,r){return n&&(vx(t,e,n,r,-1)||vx(t,e,n,r,1))},gx=/^(img|br|input|textarea|hr)$/i;function vx(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:yx(t))){var o=t.parentNode;if(1!=o.nodeType||bx(t)||gx.test(t.nodeName)||"false"==t.contentEditable)return!1;e=hx(t)+(i<0?0:1),t=o}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(i<0?-1:0)]).contentEditable)return!1;e=i<0?yx(t):0}}}function yx(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function bx(t){for(var e,n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var wx=function(t){var e=t.isCollapsed;return e&&ox.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function _x(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Cx(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function xx(t,e){return"number"==typeof t?t:t[e]}function Sx(t){var e=t.getBoundingClientRect();return{left:e.left,right:e.left+t.clientWidth,top:e.top,bottom:e.top+t.clientHeight}}function kx(t){for(var e=[],n=t.ownerDocument;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t!=n);t=dx(t));return e}function Ex(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=r.dom,o=r.top,s=r.left;i.scrollTop!=o+e&&(i.scrollTop=o+e),i.scrollLeft!=s&&(i.scrollLeft=s)}}var Ox=null;function Tx(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Ax(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}var Mx=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Nx(t,e,n){var r=t.docView.domFromPos(e),i=r.node,o=r.offset,s=t.state.doc.resolve(e),a=s.parent.inlineContent,c=ox.webkit||ox.gecko;if(3==i.nodeType&&c&&Mx.test(i.nodeValue)){var l=Ax(fx(i,o,o),n);if(ox.gecko&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){var u=Ax(fx(i,o-1,o-1),-1);if(u.top==l.top){var h=Ax(fx(i,o,o+1),-1);if(h.top!=l.top)return Dx(h,h.left<u.left)}}return l}if(a){for(var d=s.depth?t.docView.domAfterPos(s.before()):t.dom;n<0&&!o&&i!=d;)o=hx(i),i=i.parentNode;for(;n>=0&&o==yx(i)&&i!=d;)o=hx(i)+1,i=i.parentNode}if(3==i.nodeType)return n<0?Dx(Ax(fx(i,o-1,o),1),!1):Dx(Ax(fx(i,o,o+1),-1),!0);if(!a){if(o&&(n<0||o==yx(i))){var p=i.childNodes[o-1];if(1==p.nodeType)return Ix(p.getBoundingClientRect(),!1)}if(o<yx(i)){var f=i.childNodes[o];if(1==f.nodeType)return Ix(f.getBoundingClientRect(),!0)}return Ix(i.getBoundingClientRect(),n>=0)}if(o&&(n<0||o==yx(i))){var m=i.childNodes[o-1],g=3==m.nodeType?fx(m,yx(m)-(c?0:1)):1==m.nodeType&&"BR"!=m.nodeName?m:null;if(g)return Dx(Ax(g,1),!1)}if(o<yx(i)){var v=i.childNodes[o],y=3==v.nodeType?fx(v,0,c?0:1):1==v.nodeType?v:null;if(y)return Dx(Ax(y,-1),!0)}return Dx(Ax(3==i.nodeType?fx(i):i,-n),n>=0)}function Dx(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Ix(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Rx(t,e,n){var r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}var Px=/[\u0590-\u08ac]/,Vx=null,Fx=null,jx=!1,Lx=function(t,e,n,r){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},zx={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};Lx.prototype.matchesWidget=function(){return!1},Lx.prototype.matchesMark=function(){return!1},Lx.prototype.matchesNode=function(){return!1},Lx.prototype.matchesHack=function(){return!1},zx.beforePosition.get=function(){return!1},Lx.prototype.parseRule=function(){return null},Lx.prototype.stopEvent=function(){return!1},zx.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},zx.border.get=function(){return 0},Lx.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},Lx.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var r=this.children[e];if(r==t)return n;n+=r.size}},zx.posBefore.get=function(){return this.parent.posBeforeChild(this)},zx.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},zx.posAfter.get=function(){return this.posBefore+this.size},zx.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},Lx.prototype.localPosFromDOM=function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var r,i;if(t==this.contentDOM)r=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.previousSibling}for(;r&&(!(i=r.pmViewDesc)||i.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(i)+i.size:this.posAtStart}var o,s;if(t==this.contentDOM)o=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&(!(s=o.pmViewDesc)||s.parent!=this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}var a;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var c=t;;c=c.parentNode){if(c==this.dom){a=!1;break}if(c.parentNode.firstChild!=c)break}if(null==a&&e==t.childNodes.length)for(var l=t;;l=l.parentNode){if(l==this.dom){a=!0;break}if(l.parentNode.lastChild!=l)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart},Lx.prototype.nearestDesc=function(t,e){for(var n=!0,r=t;r;r=r.parentNode){var i=this.getDesc(r);if(i&&(!e||i.node)){if(!n||!i.nodeDOM||(1==i.nodeDOM.nodeType?i.nodeDOM.contains(1==t.nodeType?t:t.parentNode):i.nodeDOM==t))return i;n=!1}}},Lx.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e},Lx.prototype.posFromDOM=function(t,e,n){for(var r=t;r;r=r.parentNode){var i=this.getDesc(r);if(i)return i.localPosFromDOM(t,e,n)}return-1},Lx.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var r=this.children[e],i=n+r.size;if(n==t&&i!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(t<i)return r.descAt(t-n-r.border);n=i}},Lx.prototype.domFromPos=function(t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var e=0,n=0;;n++){if(e==t){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)n++;return{node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:hx(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+t);var r=this.children[n],i=e+r.size;if(t<i)return r.domFromPos(t-e-r.border);e=i}},Lx.prototype.parseRange=function(t,e,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,i=-1,o=n,s=0;;s++){var a=this.children[s],c=o+a.size;if(-1==r&&t<=c){var l=o+a.border;if(t>=l&&e<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,e,l);t=o;for(var u=s;u>0;u--){var h=this.children[u-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){r=hx(h.dom)+1;break}t-=h.size}-1==r&&(r=0)}if(r>-1&&(c>e||s==this.children.length-1)){e=c;for(var d=s+1;d<this.children.length;d++){var p=this.children[d];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){i=hx(p.dom);break}e+=p.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:i}},Lx.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},Lx.prototype.domAfterPos=function(t){var e=this.domFromPos(t),n=e.node,r=e.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]},Lx.prototype.setSelection=function(t,e,n,r){for(var i=Math.min(t,e),o=Math.max(t,e),s=0,a=0;s<this.children.length;s++){var c=this.children[s],l=a+c.size;if(i>a&&o<l)return c.setSelection(t-a-c.border,e-a-c.border,n,r);a=l}var u=this.domFromPos(t),h=this.domFromPos(e),d=n.getSelection(),p=!1;if((ox.gecko||ox.safari)&&t==e){var f=u.node.childNodes[u.offset-1];p=f&&("BR"==f.nodeName||"false"==f.contentEditable)}if(r||p&&ox.safari||!mx(u.node,u.offset,d.anchorNode,d.anchorOffset)||!mx(h.node,h.offset,d.focusNode,d.focusOffset)){var m=!1;if((d.extend||t==e)&&!p){d.collapse(u.node,u.offset);try{t!=e&&d.extend(h.node,h.offset),m=!0}catch(y){if(!(y instanceof DOMException))throw y}}if(!m){if(t>e){var g=u;u=h,h=g}var v=document.createRange();v.setEnd(h.node,h.offset),v.setStart(u.node,u.offset),d.removeAllRanges(),d.addRange(v)}}},Lx.prototype.ignoreMutation=function(t){return!this.contentDOM&&"selection"!=t.type},zx.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},Lx.prototype.markDirty=function(t,e){for(var n=0,r=0;r<this.children.length;r++){var i=this.children[r],o=n+i.size;if(n==o?t<=o&&e>=n:t<o&&e>n){var s=n+i.border,a=o-i.border;if(t>=s&&e<=a)return this.dirty=t==n||e==o?2:1,void(t!=s||e!=a||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(t-s,e-s):i.dirty=3);i.dirty=3}n=o}this.dirty=2},Lx.prototype.markParentsDirty=function(){for(var t=1,e=this.parent;e;e=e.parent,t++){var n=1==t?2:1;e.dirty<n&&(e.dirty=n)}},Object.defineProperties(Lx.prototype,zx);var Ux=[],Hx=function(t){function e(e,n,r,i){var o,s=n.type.toDOM;if("function"==typeof s&&(s=s(r,(function(){return o?o.parent?o.parent.posBeforeChild(o):void 0:i}))),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}t.call(this,e,Ux,s,null),this.widget=n,o=this}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={beforePosition:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},e.prototype.matchesWidget=function(t){return 0==this.dirty&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},e.prototype.ignoreMutation=function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection},Object.defineProperties(e.prototype,n),e}(Lx),Bx=function(t){function e(e,n,r,i){t.call(this,e,Ux,n,null),this.textDOM=r,this.text=i}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,n),e}(Lx),$x=function(t){function e(e,n,r,i){t.call(this,e,[],r,i),this.mark=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.create=function(t,n,r,i){var o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return s&&s.dom||(s=Y_.renderSpec(document,n.type.spec.toDOM(n,r))),new e(t,n,s.dom,s.contentDOM||s.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return 3!=this.dirty&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},e.prototype.slice=function(t,n,r){var i=e.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=sS(o,n,s,r)),t>0&&(o=sS(o,0,t,r));for(var a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i},e}(Lx),qx=function(t){function e(e,n,r,i,o,s,a,c,l){t.call(this,e,n.isLeaf?Ux:[],o,s),this.nodeDOM=a,this.node=n,this.outerDeco=r,this.innerDeco=i,s&&this.updateChildren(c,l)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={size:{configurable:!0},border:{configurable:!0}};return e.create=function(t,n,r,i,o,s){var a,c,l=o.nodeViews[n.type.name],u=l&&l(n,o,(function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:s}),r),h=u&&u.dom,d=u&&u.contentDOM;if(n.isText)if(h){if(3!=h.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else h=document.createTextNode(n.text);else h||(h=(a=Y_.renderSpec(document,n.type.spec.toDOM(n))).dom,d=a.contentDOM);d||n.isText||"BR"==h.nodeName||(h.hasAttribute("contenteditable")||(h.contentEditable=!1),n.type.spec.draggable&&(h.draggable=!0));var p=h;return h=eS(h,r,n),u?c=new Kx(t,n,r,i,h,d,p,u,o,s+1):n.isText?new Gx(t,n,r,i,h,p,o):new e(t,n,r,i,h,d,p,o,s+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?Ww.empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return 0==this.dirty&&t.eq(this.node)&&nS(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,r=this.node.inlineContent,i=e,o=r&&t.composing&&this.localCompositionNode(t,e),s=new iS(this,o&&o.node);!function(t,e,n,r){var i=e.locals(t),o=0;if(0!=i.length)for(var s=0,a=[],c=null,l=0;;){if(s<i.length&&i[s].to==o){for(var u=i[s++],h=void 0;s<i.length&&i[s].to==o;)(h||(h=[u])).push(i[s++]);if(h){h.sort(oS);for(var d=0;d<h.length;d++)n(h[d],l,!!c)}else n(u,l,!!c)}var p=void 0,f=void 0;if(c)f=-1,p=c,c=null;else{if(!(l<t.childCount))break;f=l,p=t.child(l++)}for(var m=0;m<a.length;m++)a[m].to<=o&&a.splice(m--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);var g=o+p.nodeSize;if(p.isText){var v=g;s<i.length&&i[s].from<v&&(v=i[s].from);for(var y=0;y<a.length;y++)a[y].to<v&&(v=a[y].to);v<g&&(c=p.cut(v-o),p=p.cut(0,v-o),g=v,f=-1)}r(p,a.length?p.isInline&&!p.isLeaf?a.filter((function(t){return!t.inline})):a.slice():Ux,e.forChild(o,p),f),o=g}else for(var b=0;b<t.childCount;b++){var w=t.child(b);r(w,i,e.forChild(o,w),b),o+=w.nodeSize}}(this.node,this.innerDeco,(function(e,o,a){e.spec.marks?s.syncToMarks(e.spec.marks,r,t):e.type.side>=0&&!a&&s.syncToMarks(o==n.node.childCount?Qw.none:n.node.child(o).marks,r,t),s.placeWidget(e,t,i)}),(function(e,n,o,a){s.syncToMarks(e.marks,r,t),s.findNodeMatch(e,n,o,a)||s.updateNextNode(e,n,o,t,a)||s.addNode(e,n,o,t,i),i+=e.nodeSize})),s.syncToMarks(Ux,r,t),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(o&&this.protectLocalComposition(t,o),function t(e,n,r){for(var i=e.firstChild,o=!1,s=0;s<n.length;s++){var a=n[s],c=a.dom;if(c.parentNode==e){for(;c!=i;)i=rS(i),o=!0;i=i.nextSibling}else o=!0,e.insertBefore(c,i);if(a instanceof $x){var l=i?i.previousSibling:e.lastChild;t(a.contentDOM,a.children,r),i=l?l.nextSibling:e.firstChild}}for(;i;)i=rS(i),o=!0;o&&r.trackWrites==e&&(r.trackWrites=null)}(this.contentDOM,this.children,t),ox.ios&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t),t.style.cssText=e}}(this.dom))},e.prototype.localCompositionNode=function(t,e){var n=t.state.selection,r=n.from,i=n.to;if(!(!(t.state.selection instanceof LC)||r<e||i>e+this.node.content.size)){var o=t.root.getSelection(),s=function(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];e=yx(t=t.childNodes[e-1])}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(o.focusNode,o.focusOffset);if(s&&this.dom.contains(s.parentNode)){var a=s.nodeValue,c=function(t,e,n,r){for(var i=0,o=0;i<t.childCount&&o<=r;){var s=t.child(i++),a=o;if(o+=s.nodeSize,s.isText){for(var c=s.text;i<t.childCount;){var l=t.child(i++);if(o+=l.nodeSize,!l.isText)break;c+=l.text}if(o>=n){var u=c.lastIndexOf(e,r-a);if(u>=0&&u+e.length+a>=n)return a+u}}}return-1}(this.node.content,a,r-e,i-e);return c<0?null:{node:s,pos:c,text:a}}}},e.prototype.protectLocalComposition=function(t,e){var n=e.node,r=e.pos,i=e.text;if(!this.getDesc(n)){for(var o=n;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=null)}var s=new Bx(this,o,n,i);t.compositionNodes.push(s),this.children=sS(this.children,r,r+i.length,t,s)}},e.prototype.update=function(t,e,n,r){return!(3==this.dirty||!t.sameMarkup(this.node)||(this.updateInner(t,e,n,r),0))},e.prototype.updateInner=function(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},e.prototype.updateOuterDeco=function(t){if(!nS(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Xx(this.dom,this.nodeDOM,Yx(this.outerDeco,this.node,e),Yx(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},Object.defineProperties(e.prototype,n),e}(Lx);function Wx(t,e,n,r,i){return eS(r,e,t),new qx(null,t,e,n,r,r,r,i,0)}var Gx=function(t){function e(e,n,r,i,o,s,a){t.call(this,e,n,r,i,o,null,s,a)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.parseRule=function(){for(var t=this.nodeDOM.parentNode;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}},e.prototype.update=function(t,e,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node)||(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=0,0))},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,r)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,n,r){var i=this.node.cut(t,n),o=document.createTextNode(i.text);return new e(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)},e}(qx),Jx=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(){return 0==this.dirty},e}(Lx),Kx=function(t){function e(e,n,r,i,o,s,a,c,l,u){t.call(this,e,n,r,i,o,s,a,l,u),this.spec=c}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.update=function(e,n,r,i){if(3==this.dirty)return!1;if(this.spec.update){var o=this.spec.update(e,n);return o&&this.updateInner(e,n,r,i),o}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,r,i)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):t.prototype.setSelection.call(this,e,n,r,i)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(qx);function Zx(t){t&&(this.nodeName=t)}Zx.prototype=Object.create(null);var Qx=[new Zx];function Yx(t,e,n){if(0==t.length)return Qx;for(var r=n?Qx[0]:new Zx,i=[r],o=0;o<t.length;o++){var s=t[o].type.attrs,a=r;if(s)for(var c in s.nodeName&&i.push(a=new Zx(s.nodeName)),s){var l=s[c];null!=l&&(n&&1==i.length&&i.push(a=r=new Zx(e.isInline?"span":"div")),"class"==c?a.class=(a.class?a.class+" ":"")+l:"style"==c?a.style=(a.style?a.style+";":"")+l:"nodeName"!=c&&(a[c]=l))}}return i}function Xx(t,e,n,r){if(n==Qx&&r==Qx)return e;for(var i=e,o=0;o<r.length;o++){var s=r[o],a=n[o];if(o){var c=void 0;a&&a.nodeName==s.nodeName&&i!=t&&(c=i.parentNode)&&c.tagName.toLowerCase()==s.nodeName||((c=document.createElement(s.nodeName)).pmIsDeco=!0,c.appendChild(i),a=Qx[0]),i=c}tS(i,a||Qx[0],s)}return i}function tS(t,e,n){for(var r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(var i in n)"class"!=i&&"style"!=i&&"nodeName"!=i&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){for(var o=e.class?e.class.split(" "):Ux,s=n.class?n.class.split(" "):Ux,a=0;a<o.length;a++)-1==s.indexOf(o[a])&&t.classList.remove(o[a]);for(var c=0;c<s.length;c++)-1==o.indexOf(s[c])&&t.classList.add(s[c])}if(e.style!=n.style){if(e.style)for(var l,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;l=u.exec(e.style);)t.style.removeProperty(l[1]);n.style&&(t.style.cssText+=n.style)}}function eS(t,e,n){return Xx(t,t,Qx,Yx(e,n,1!=t.nodeType))}function nS(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function rS(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var iS=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1;var n=function(t,e){for(var n=[],r=t.childCount,i=e.length-1;r>0&&i>=0;i--){var o=e[i],s=o.node;if(s){if(s!=t.child(r-1))break;n.push(o),--r}}return{nodes:n.reverse(),offset:r}}(t.node.content,t.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};function oS(t,e){return t.type.side-e.type.side}function sS(t,e,n,r,i){for(var o=[],s=0,a=0;s<t.length;s++){var c=t[s],l=a,u=a+=c.size;l>=n||u<=e?o.push(c):(l<e&&o.push(c.slice(0,e-l,r)),i&&(o.push(i),i=null),u>n&&o.push(c.slice(n-l,c.size,r)))}return o}function aS(t,e){var n=t.root.getSelection(),r=t.state.doc;if(!n.focusNode)return null;var i=t.docView.nearestDesc(n.focusNode),o=i&&0==i.size,s=t.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var a,c,l=r.resolve(s);if(wx(n)){for(a=l;i&&!i.node;)i=i.parent;if(i&&i.node.isAtom&&UC.isSelectable(i.node)&&i.parent&&(!i.node.isInline||!function(t,e,n){for(var r=0==e,i=e==yx(t);r||i;){if(t==n)return!0;var o=hx(t);if(!(t=t.parentNode))return!1;r=r&&0==o,i=i&&o==yx(t)}}(n.focusNode,n.focusOffset,i.dom))){var u=i.posBefore;c=new UC(s==u?l:r.resolve(u))}}else{var h=t.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(h<0)return null;a=r.resolve(h)}return c||(c=mS(t,a,l,"pointer"==e||t.state.selection.head<l.pos&&!o?1:-1)),c}function cS(t,e){var n=t.state.selection;if(pS(t,n),t.editable?t.hasFocus():gS(t)&&document.activeElement&&document.activeElement.contains(t.dom)){if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){var e=t.root.getSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,hx(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&ox.ie&&ox.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(t);else{var r,i,o=n.anchor,s=n.head;!lS||n instanceof LC||(n.$from.parent.inlineContent||(r=uS(t,n.from)),n.empty||n.$from.parent.inlineContent||(i=uS(t,n.to))),t.docView.setSelection(o,s,t.root,e),lS&&(r&&dS(r),i&&dS(i)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==i||(e.removeEventListener("selectionchange",t.hideSelectionGuard),t.dom.classList.remove("ProseMirror-hideselection"))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}iS.prototype.getPreMatch=function(t){return t>=this.preMatchOffset?this.preMatched[t-this.preMatchOffset]:null},iS.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}},iS.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},iS.prototype.syncToMarks=function(t,e,n){for(var r=0,i=this.stack.length>>1,o=Math.min(i,t.length);r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(t[i])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var c=$x.create(this.top,t[i],e,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}},iS.prototype.findNodeMatch=function(t,e,n,r){var i=-1,o=r<0?void 0:this.getPreMatch(r),s=this.top.children;if(o&&o.matchesNode(t,e,n))i=s.indexOf(o);else for(var a=this.index,c=Math.min(s.length,a+5);a<c;a++){var l=s[a];if(l.matchesNode(t,e,n)&&this.preMatched.indexOf(l)<0){i=a;break}}return!(i<0||(this.destroyBetween(this.index,i),this.index++,0))},iS.prototype.updateNextNode=function(t,e,n,r,i){for(var o=this.index;o<this.top.children.length;o++){var s=this.top.children[o];if(s instanceof qx){var a=this.preMatched.indexOf(s);if(a>-1&&a+this.preMatchOffset!=i)return!1;var c=s.dom;if((!this.lock||!(c==this.lock||1==c.nodeType&&c.contains(this.lock.parentNode))||t.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==t.text&&3!=s.dirty&&nS(e,s.outerDeco))&&s.update(t,e,n,r))return this.destroyBetween(this.index,o),s.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1},iS.prototype.addNode=function(t,e,n,r,i){this.top.children.splice(this.index++,0,qx.create(this.top,t,e,n,r,i)),this.changed=!0},iS.prototype.placeWidget=function(t,e,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){var i=new Hx(this.top,t,e,n);this.top.children.splice(this.index++,0,i),this.changed=!0}else this.index++},iS.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof $x;)t=t.children[t.children.length-1];if(!t||!(t instanceof Gx)||/\n$/.test(t.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var e=document.createElement("br");this.top.children.splice(this.index++,0,new Jx(this.top,Ux,e,null)),this.changed=!0}};var lS=ox.safari||ox.chrome&&ox.chrome_version<63;function uS(t,e){var n=t.docView.domFromPos(e),r=n.node,i=n.offset,o=i<r.childNodes.length?r.childNodes[i]:null,s=i?r.childNodes[i-1]:null;if(ox.safari&&o&&"false"==o.contentEditable)return hS(o);if(!(o&&"false"!=o.contentEditable||s&&"false"!=s.contentEditable)){if(o)return hS(o);if(s)return hS(s)}}function hS(t){return t.contentEditable="true",ox.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function dS(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function pS(t,e){if(e instanceof UC){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(fS(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else fS(t)}function fS(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function mS(t,e,n,r){return t.someProp("createSelectionBetween",(function(r){return r(t,e,n)}))||LC.between(e,n,r)}function gS(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(n){return!1}}function vS(t,e){var n=t.selection,r=n.$anchor,i=n.$head,o=e>0?r.max(i):r.min(i),s=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return s&&VC.findFrom(s,e)}function yS(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function bS(t,e,n){var r=t.state.selection;if(!(r instanceof LC)){if(r instanceof UC&&r.node.isInline)return yS(t,new LC(e>0?r.$to:r.$from));var i=vS(t.state,e);return!!i&&yS(t,i)}if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var o=vS(t.state,e);return!!(o&&o instanceof UC)&&yS(t,o)}if(!(ox.mac&&n.indexOf("m")>-1)){var s,a=r.$head,c=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!c||c.isText)return!1;var l=e<0?a.pos-c.nodeSize:a.pos;return!!(c.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM)&&(UC.isSelectable(c)?yS(t,new UC(e<0?t.state.doc.resolve(a.pos-c.nodeSize):a)):!!ox.webkit&&yS(t,new LC(t.state.doc.resolve(e<0?l:l+c.nodeSize))))}}function wS(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function _S(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function CS(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){var i,o,s=!1;for(ox.gecko&&1==n.nodeType&&r<wS(n)&&_S(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;var a=n.childNodes[r-1];if(_S(a))i=n,o=--r;else{if(3!=a.nodeType)break;r=(n=a).nodeValue.length}}else{if(SS(n))break;for(var c=n.previousSibling;c&&_S(c);)i=n.parentNode,o=hx(c),c=c.previousSibling;if(c)r=wS(n=c);else{if((n=n.parentNode)==t.dom)break;r=0}}s?kS(t,e,n,r):i&&kS(t,e,i,o)}}function xS(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){for(var i,o,s=wS(n);;)if(r<s){if(1!=n.nodeType)break;if(!_S(n.childNodes[r]))break;i=n,o=++r}else{if(SS(n))break;for(var a=n.nextSibling;a&&_S(a);)i=a.parentNode,o=hx(a)+1,a=a.nextSibling;if(a)r=0,s=wS(n=a);else{if((n=n.parentNode)==t.dom)break;r=s=0}}i&&kS(t,e,i,o)}}function SS(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function kS(t,e,n,r){if(wx(e)){var i=document.createRange();i.setEnd(n,r),i.setStart(n,r),e.removeAllRanges(),e.addRange(i)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();var o=t.state;setTimeout((function(){t.state==o&&cS(t)}),50)}function ES(t,e,n){var r=t.state.selection;if(r instanceof LC&&!r.empty||n.indexOf("s")>-1)return!1;if(ox.mac&&n.indexOf("m")>-1)return!1;var i=r.$from,o=r.$to;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var s=vS(t.state,e);if(s&&s instanceof UC)return yS(t,s)}if(!i.parent.inlineContent){var a=VC.findFrom(e<0?i:o,e);return!a||yS(t,a)}return!1}function OS(t,e){if(!(t.state.selection instanceof LC))return!0;var n=t.state.selection,r=n.$head,i=n.empty;if(!r.sameParent(n.$anchor))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var o=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(o&&!o.isText){var s=t.state.tr;return e<0?s.delete(r.pos-o.nodeSize,r.pos):s.delete(r.pos,r.pos+o.nodeSize),t.dispatch(s),!0}return!1}function TS(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function AS(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(ox.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(t.parentNode.lastChild==t||ox.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function MS(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:mS(t,e.resolve(n.anchor),e.resolve(n.head))}function NS(t,e,n){for(var r=t.depth,i=e?t.end():t.pos;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n)for(var o=t.node(r).maybeChild(t.indexAfter(r));o&&!o.isLeaf;)o=o.firstChild,i++;return i}function DS(t,e){for(var n=[],r=e.content,i=e.openStart,o=e.openEnd;i>1&&o>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,o--;var s=r.firstChild;n.push(s.type.name,s.type.hasRequiredAttrs()?s.attrs:null),r=s.content}var a=t.someProp("clipboardSerializer")||Y_.fromSchema(t.state.schema),c=jS(),l=c.createElement("div");l.appendChild(a.serializeFragment(r,{document:c}));for(var u,h=l.firstChild;h&&1==h.nodeType&&(u=VS[h.nodeName.toLowerCase()]);){for(var d=u.length-1;d>=0;d--){for(var p=c.createElement(u[d]);l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p)}h=l.firstChild}return h&&1==h.nodeType&&h.setAttribute("data-pm-slice",i+" "+o+" "+JSON.stringify(n)),{dom:l,text:t.someProp("clipboardTextSerializer",(function(t){return t(e)}))||e.content.textBetween(0,e.content.size,"\n\n")}}function IS(t,e,n,r,i){var o,s,a=i.parent.type.spec.code;if(!n&&!e)return null;var c=e&&(r||a||!n);if(c){if(t.someProp("transformPastedText",(function(t){e=t(e,a||r)})),a)return new Xw(Ww.from(t.state.schema.text(e)),0,0);var l=t.someProp("clipboardTextParser",(function(t){return t(e,i,r)}));l?s=l:(o=document.createElement("div"),e.trim().split(/(?:\r\n?|\n)+/).forEach((function(t){o.appendChild(document.createElement("p")).textContent=t})))}else t.someProp("transformPastedHTML",(function(t){n=t(n)})),o=function(t){var e=/(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,r=jS().createElement("div"),i=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(t),o=0;(n=i&&VS[i[1].toLowerCase()])&&(t=n.map((function(t){return"<"+t+">"})).join("")+t+n.map((function(t){return"</"+t+">"})).reverse().join(""),o=n.length),r.innerHTML=t;for(var s=0;s<o;s++)r=r.firstChild;return r}(n);var u=o&&o.querySelector("[data-pm-slice]"),h=u&&/^(\d+) (\d+) (.*)/.exec(u.getAttribute("data-pm-slice"));if(!s){var d=t.someProp("clipboardParser")||t.someProp("domParser")||z_.fromSchema(t.state.schema);s=d.parseSlice(o,{preserveWhitespace:!(!c&&!h),context:i})}return s=h?function(t,e){if(!t.size)return t;var n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(LE){return t}for(var i=t.content,o=t.openStart,s=t.openEnd,a=n.length-2;a>=0;a-=2){var c=r.nodes[n[a]];if(!c||c.hasRequiredAttrs())break;i=Ww.from(c.create(n[a+1],i)),o++,s++}return new Xw(i,o,s)}(function(t,e,n){return e<t.openStart&&(t=new Xw(PS(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Xw(PS(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}(s,+h[1],+h[2]),h[3]):Xw.maxOpen(function(t,e){if(t.childCount<2)return t;for(var n=function(n){var r=e.node(n).contentMatchAt(e.index(n)),i=void 0,o=[];if(t.forEach((function(t){if(o){var e,n=r.findWrapping(t.type);if(!n)return o=null;if(e=o.length&&i.length&&function t(e,n,r,i,o){if(o<e.length&&o<n.length&&e[o]==n[o]){var s=t(e,n,r,i.lastChild,o+1);if(s)return i.copy(i.content.replaceChild(i.childCount-1,s));if(i.contentMatchAt(i.childCount).matchType(o==e.length-1?r.type:e[o+1]))return i.copy(i.content.append(Ww.from(RS(r,e,o+1))))}}(n,i,t,o[o.length-1],0))o[o.length-1]=e;else{o.length&&(o[o.length-1]=function t(e,n){if(0==n)return e;var r=e.content.replaceChild(e.childCount-1,t(e.lastChild,n-1)),i=e.contentMatchAt(e.childCount).fillBefore(Ww.empty,!0);return e.copy(r.append(i))}(o[o.length-1],i.length));var s=RS(t,n);o.push(s),r=r.matchType(s.type,s.attrs),i=n}}})),o)return{v:Ww.from(o)}},r=e.depth;r>=0;r--){var i=n(r);if(i)return i.v}return t}(s.content,i),!1),t.someProp("transformPasted",(function(t){s=t(s)})),s}function RS(t,e,n){void 0===n&&(n=0);for(var r=e.length-1;r>=n;r--)t=e[r].create(null,Ww.from(t));return t}function PS(t,e,n,r,i,o){var s=e<0?t.firstChild:t.lastChild,a=s.content;return i<r-1&&(a=PS(a,e,n,r,i+1,o)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,t.childCount>1||o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(Ww.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}var VS={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},FS=null;function jS(){return FS||(FS=document.implementation.createHTMLDocument("title"))}var LS={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},zS=ox.ie&&ox.ie_version<=11,US=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};US.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},US.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var HS=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(t){for(var e=0;e<t.length;e++)n.queue.push(t[e]);ox.ie&&ox.ie_version<=11&&t.some((function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new US,zS&&(this.onCharData=function(t){n.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};HS.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){t.flushingSoon=-1,t.flush()}),20))},HS.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},HS.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,LS),zS&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},HS.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout((function(){return t.flush()}),20)}this.observer.disconnect()}zS&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},HS.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},HS.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},HS.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return t.suppressingSelectionUpdates=!1}),50)},HS.prototype.onSelectionChange=function(){if((!(t=this.view).editable||t.root.activeElement==t.dom)&&gS(t)){var t;if(this.suppressingSelectionUpdates)return cS(this.view);if(ox.ie&&ox.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&mx(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},HS.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},HS.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},HS.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&gS(this.view)&&!this.ignoreSelectionChange(e),r=-1,i=-1,o=!1,s=[];if(this.view.editable)for(var a=0;a<t.length;a++){var c=this.registerMutation(t[a],s);c&&(r=r<0?c.from:Math.min(c.from,r),i=i<0?c.to:Math.max(c.to,i),c.typeOver&&(o=!0))}if(ox.gecko&&s.length>1){var l=s.filter((function(t){return"BR"==t.nodeName}));if(2==l.length){var u=l[0],h=l[1];u.parentNode&&u.parentNode.parentNode==h.parentNode?h.remove():u.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,i),BS||(BS=!0,"normal"==getComputedStyle(this.view.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))),this.handleDOMChange(r,i,o,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||cS(this.view))}},HS.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){var r=t.previousSibling,i=t.nextSibling;if(ox.ie&&ox.ie_version<=11&&t.addedNodes.length)for(var o=0;o<t.addedNodes.length;o++){var s=t.addedNodes[o],a=s.previousSibling,c=s.nextSibling;(!a||Array.prototype.indexOf.call(t.addedNodes,a)<0)&&(r=a),(!c||Array.prototype.indexOf.call(t.addedNodes,c)<0)&&(i=c)}for(var l=r&&r.parentNode==t.target?hx(r)+1:0,u=n.localPosFromDOM(t.target,l,-1),h=i&&i.parentNode==t.target?hx(i):t.target.childNodes.length,d=0;d<t.addedNodes.length;d++)e.push(t.addedNodes[d]);return{from:u,to:n.localPosFromDOM(t.target,h,1)}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var BS=!1,$S={},qS={};function WS(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function GS(t){t.someProp("handleDOMEvents",(function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return JS(t,e)})}))}function JS(t,e){return t.someProp("handleDOMEvents",(function(n){var r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)}))}function KS(t){return{left:t.clientX,top:t.clientY}}function ZS(t,e,n,r,i){if(-1==r)return!1;for(var o=t.state.doc.resolve(r),s=function(r){if(t.someProp(e,(function(e){return r>o.depth?e(t,n,o.nodeAfter,o.before(r),i,!0):e(t,n,o.node(r),o.before(r),i,!1)})))return{v:!0}},a=o.depth+1;a>0;a--){var c=s(a);if(c)return c.v}return!1}function QS(t,e,n){t.focused||t.focus();var r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function YS(t,e,n,r){return ZS(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",(function(n){return n(t,e,r)}))}function XS(t,e,n,r){return ZS(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",(function(n){return n(t,e,r)}))||function(t,e){var n=t.state.doc;if(-1==e)return!!n.inlineContent&&(QS(t,LC.create(n,0,n.content.size),"pointer"),!0);for(var r=n.resolve(e),i=r.depth+1;i>0;i--){var o=i>r.depth?r.nodeAfter:r.node(i),s=r.before(i);if(o.inlineContent)QS(t,LC.create(n,s+1,s+1+o.content.size),"pointer");else{if(!UC.isSelectable(o))continue;QS(t,UC.create(n,s),"pointer")}return!0}}(t,n)}function tk(t){return ak(t)}qS.keydown=function(t,e){if(t.shiftKey=16==e.keyCode||e.shiftKey,!rk(t,e))if(t.domObserver.forceFlush(),t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!ox.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)t.someProp("handleKeyDown",(function(n){return n(t,e)}))||function(t,e){var n=e.keyCode,r=function(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);return 8==n||ox.mac&&72==n&&"c"==r?OS(t,-1)||CS(t):46==n||ox.mac&&68==n&&"c"==r?OS(t,1)||xS(t):13==n||27==n||(37==n?bS(t,-1,r)||CS(t):39==n?bS(t,1,r)||xS(t):38==n?ES(t,-1,r)||CS(t):40==n?function(t){if(ox.safari&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode;if(n&&1==n.nodeType&&0==e.focusOffset&&n.firstChild&&"false"==n.firstChild.contentEditable){var r=n.firstChild;TS(t,r,!0),setTimeout((function(){return TS(t,r,!1)}),20)}}}(t)||ES(t,1,r)||xS(t):r==(ox.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}(t,e)?e.preventDefault():WS(t,"key");else{var n=Date.now();t.lastIOSEnter=n,t.lastIOSEnterFallbackTimeout=setTimeout((function(){t.lastIOSEnter==n&&(t.someProp("handleKeyDown",(function(e){return e(t,_x(13,"Enter"))})),t.lastIOSEnter=0)}),200)}},qS.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},qS.keypress=function(t,e){if(!(rk(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||ox.mac&&e.metaKey))if(t.someProp("handleKeyPress",(function(n){return n(t,e)})))e.preventDefault();else{var n=t.state.selection;if(!(n instanceof LC&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(e.charCode);t.someProp("handleTextInput",(function(e){return e(t,n.$from.pos,n.$to.pos,r)}))||t.dispatch(t.state.tr.insertText(r).scrollIntoView()),e.preventDefault()}}};var ek=ox.mac?"metaKey":"ctrlKey";$S.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=tk(t),r=Date.now(),i="singleClick";r-t.lastClick.time<500&&function(t,e){var n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}(e,t.lastClick)&&!e[ek]&&("singleClick"==t.lastClick.type?i="doubleClick":"doubleClick"==t.lastClick.type&&(i="tripleClick")),t.lastClick={time:r,x:e.clientX,y:e.clientY,type:i};var o=t.posAtCoords(KS(e));o&&("singleClick"==i?t.mouseDown=new nk(t,o,e,n):("doubleClick"==i?YS:XS)(t,o.pos,o.inside,e)?e.preventDefault():WS(t,"pointer"))};var nk=function(t,e,n,r){var i,o,s=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=r,this.selectNode=n[ek],this.allowDefault=n.shiftKey,e.inside>-1)i=t.state.doc.nodeAt(e.inside),o=e.inside;else{var a=t.state.doc.resolve(e.pos);i=a.parent,o=a.depth?a.before():0}this.mightDrag=null;var c=r?null:n.target,l=c?t.docView.nearestDesc(c,!0):null;this.target=l?l.dom:null,(i.type.spec.draggable&&!1!==i.type.spec.selectable||t.state.selection instanceof UC&&o==t.state.selection.from)&&(this.mightDrag={node:i,pos:o,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&ox.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return s.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),WS(t,"pointer")};function rk(t,e){return!!t.composing||!!(ox.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}nk.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},nk.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(KS(t))),this.allowDefault||!e?WS(this.view,"pointer"):function(t,e,n,r,i){return ZS(t,"handleClickOn",e,n,r)||t.someProp("handleClick",(function(n){return n(t,e,r)}))||(i?function(t,e){if(-1==e)return!1;var n,r,i=t.state.selection;i instanceof UC&&(n=i.node);for(var o=t.state.doc.resolve(e),s=o.depth+1;s>0;s--){var a=s>o.depth?o.nodeAfter:o.node(s);if(UC.isSelectable(a)){r=n&&i.$from.depth>0&&s>=i.$from.depth&&o.before(i.$from.depth+1)==i.$from.pos?o.before(i.$from.depth):o.before(s);break}}return null!=r&&(QS(t,UC.create(t.state.doc,r),"pointer"),!0)}(t,n):function(t,e){if(-1==e)return!1;var n=t.state.doc.resolve(e),r=n.nodeAfter;return!!(r&&r.isAtom&&UC.isSelectable(r))&&(QS(t,new UC(n),"pointer"),!0)}(t,n))}(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():this.flushed||ox.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||ox.chrome&&!(this.view.state.selection instanceof LC)&&(e.pos==this.view.state.selection.from||e.pos==this.view.state.selection.to)?(QS(this.view,VC.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):WS(this.view,"pointer")}},nk.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),WS(this.view,"pointer")},$S.touchdown=function(t){tk(t),WS(t,"pointer")},$S.contextmenu=function(t){return tk(t)};var ik=ox.android?5e3:-1;function ok(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout((function(){return ak(t)}),e))}function sk(t){for(t.composing=!1;t.compositionNodes.length>0;)t.compositionNodes.pop().markParentsDirty()}function ak(t,e){if(t.domObserver.forceFlush(),sk(t),e||t.docView.dirty){var n=aS(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}qS.compositionstart=qS.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(t){return!1===t.type.spec.inclusive}))))t.markCursor=t.state.storedMarks||n.marks(),ak(t,!0),t.markCursor=null;else if(ak(t),ox.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=t.root.getSelection(),i=r.focusNode,o=r.focusOffset;i&&1==i.nodeType&&0!=o;){var s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(3==s.nodeType){r.collapse(s,s.nodeValue.length);break}i=s,o=-1}t.composing=!0}ok(t,ik)},qS.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,ok(t,20))};var ck=ox.ie&&ox.ie_version<15||ox.ios&&ox.webkit_version<604;function lk(t,e,n,r){var i=IS(t,e,n,t.shiftKey,t.state.selection.$from);if(!t.someProp("handlePaste",(function(e){return e(t,r,i||Xw.empty)}))&&i){var o=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(i),s=o?t.state.tr.replaceSelectionWith(o,t.shiftKey):t.state.tr.replaceSelection(i);t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}}$S.copy=qS.cut=function(t,e){var n=t.state.selection,r="cut"==e.type;if(!n.empty){var i=ck?null:e.clipboardData,o=DS(t,n.content()),s=o.dom,a=o.text;i?(e.preventDefault(),i.clearData(),i.setData("text/html",s.innerHTML),i.setData("text/plain",a)):function(t,e){if(t.dom.parentNode){var n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),t.focus()}),50)}}(t,s),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},qS.paste=function(t,e){var n=ck?null:e.clipboardData,r=n&&n.getData("text/html"),i=n&&n.getData("text/plain");n&&(r||i||n.files.length)?(lk(t,i,r,e),e.preventDefault()):function(t,e){if(t.dom.parentNode){var n=t.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?lk(t,r.value,null,e):lk(t,r.textContent,r.innerHTML,e)}),50)}}(t,e)};var uk=function(t,e){this.slice=t,this.move=e},hk=ox.mac?"altKey":"ctrlKey";for(var dk in $S.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var r=t.state.selection,i=r.empty?null:t.posAtCoords(KS(e));if(i&&i.pos>=r.from&&i.pos<=(r instanceof UC?r.to-1:r.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(UC.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var o=t.docView.nearestDesc(e.target,!0);if(!o||!o.node.type.spec.draggable||o==t.docView)return;t.dispatch(t.state.tr.setSelection(UC.create(t.state.doc,o.posBefore)))}var s=t.state.selection.content(),a=DS(t,s),c=a.dom,l=a.text;e.dataTransfer.clearData(),e.dataTransfer.setData(ck?"Text":"text/html",c.innerHTML),ck||e.dataTransfer.setData("text/plain",l),t.dragging=new uk(s,!e[hk])}},$S.dragend=function(t){var e=t.dragging;window.setTimeout((function(){t.dragging==e&&(t.dragging=null)}),50)},qS.dragover=qS.dragenter=function(t,e){return e.preventDefault()},qS.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var r=t.posAtCoords(KS(e));if(r){var i=t.state.doc.resolve(r.pos);if(i){var o=n&&n.slice||IS(t,e.dataTransfer.getData(ck?"Text":"text/plain"),ck?null:e.dataTransfer.getData("text/html"),!1,i),s=n&&!e[hk];if(t.someProp("handleDrop",(function(n){return n(t,e,o||Xw.empty,s)})))e.preventDefault();else if(o){e.preventDefault();var a=o?function(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var i=n.content,o=0;o<n.openStart;o++)i=i.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=r.depth;a>=0;a--){var c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,l=r.index(a)+(c>0?1:0);if(1==s?r.node(a).canReplace(l,l,i):r.node(a).contentMatchAt(l).findWrapping(i.firstChild.type))return 0==c?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}(t.state.doc,i.pos,o):i.pos;null==a&&(a=i.pos);var c=t.state.tr;s&&c.deleteSelection();var l=c.mapping.map(a),u=0==o.openStart&&0==o.openEnd&&1==o.content.childCount,h=c.doc;if(u?c.replaceRangeWith(l,l,o.content.firstChild):c.replaceRange(l,l,o),!c.doc.eq(h)){var d=c.doc.resolve(l);if(u&&UC.isSelectable(o.content.firstChild)&&d.nodeAfter&&d.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new UC(d));else{var p=c.mapping.map(a);c.mapping.maps[c.mapping.maps.length-1].forEach((function(t,e,n,r){return p=r})),c.setSelection(mS(t,d,c.doc.resolve(p)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))}}}}}},$S.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&cS(t)}),20))},$S.blur=function(t){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),t.domObserver.currentSelection.set({}),t.focused=!1)},$S.beforeinput=function(t,e){if(ox.chrome&&ox.android&&"deleteContentBackward"==e.inputType){var n=t.domChangeCount;setTimeout((function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",(function(e){return e(t,_x(8,"Backspace"))})))){var e=t.state.selection.$cursor;e&&e.pos>0&&t.dispatch(t.state.tr.delete(e.pos-1,e.pos).scrollIntoView())}}),50)}},qS)$S[dk]=qS[dk];function pk(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}var fk=function(t,e){this.spec=e||wk,this.side=this.spec.side||0,this.toDOM=t};fk.prototype.map=function(t,e,n,r){var i=t.mapResult(e.from+r,this.side<0?-1:1),o=i.pos;return i.deleted?null:new vk(o-n,o-n,this)},fk.prototype.valid=function(){return!0},fk.prototype.eq=function(t){return this==t||t instanceof fk&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&pk(this.spec,t.spec))};var mk=function(t,e){this.spec=e||wk,this.attrs=t};mk.prototype.map=function(t,e,n,r){var i=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,o=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new vk(i,o,this)},mk.prototype.valid=function(t,e){return e.from<e.to},mk.prototype.eq=function(t){return this==t||t instanceof mk&&pk(this.attrs,t.attrs)&&pk(this.spec,t.spec)},mk.is=function(t){return t.type instanceof mk};var gk=function(t,e){this.spec=e||wk,this.attrs=t};gk.prototype.map=function(t,e,n,r){var i=t.mapResult(e.from+r,1);if(i.deleted)return null;var o=t.mapResult(e.to+r,-1);return o.deleted||o.pos<=i.pos?null:new vk(i.pos-n,o.pos-n,this)},gk.prototype.valid=function(t,e){var n=t.content.findIndex(e.from),r=n.offset;return r==e.from&&r+t.child(n.index).nodeSize==e.to},gk.prototype.eq=function(t){return this==t||t instanceof gk&&pk(this.attrs,t.attrs)&&pk(this.spec,t.spec)};var vk=function(t,e,n){this.from=t,this.to=e,this.type=n},yk={spec:{configurable:!0},inline:{configurable:!0}};vk.prototype.copy=function(t,e){return new vk(t,e,this.type)},vk.prototype.eq=function(t,e){return void 0===e&&(e=0),this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to},vk.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},vk.widget=function(t,e,n){return new vk(t,t,new fk(e,n))},vk.inline=function(t,e,n,r){return new vk(t,e,new mk(n,r))},vk.node=function(t,e,n,r){return new vk(t,e,new gk(n,r))},yk.spec.get=function(){return this.type.spec},yk.inline.get=function(){return this.type instanceof mk},Object.defineProperties(vk.prototype,yk);var bk=[],wk={},_k=function(t,e){this.local=t&&t.length?t:bk,this.children=e&&e.length?e:bk};_k.create=function(t,e){return e.length?Ok(e,t,0,wk):Ck},_k.prototype.find=function(t,e,n){var r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r},_k.prototype.findInner=function(t,e,n,r,i){for(var o=0;o<this.local.length;o++){var s=this.local[o];s.from<=e&&s.to>=t&&(!i||i(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){var c=this.children[a]+1;this.children[a+2].findInner(t-c,e-c,n,r+c,i)}},_k.prototype.map=function(t,e,n){return this==Ck||0==t.maps.length?this:this.mapInner(t,e,0,0,n||wk)},_k.prototype.mapInner=function(t,e,n,r,i){for(var o,s=0;s<this.local.length;s++){var a=this.local[s].map(t,n,r);a&&a.type.valid(e,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?function(t,e,n,r,i,o,s){for(var a=t.slice(),c=function(t,e,n,r){for(var s=0;s<a.length;s+=3){var c=a[s+1],l=void 0;-1==c||t>c+o||(e>=a[s]+o?a[s+1]=-1:n>=i&&(l=r-n-(e-t))&&(a[s]+=l,a[s+1]+=l))}},l=0;l<n.maps.length;l++)n.maps[l].forEach(c);for(var u=!1,h=0;h<a.length;h+=3)if(-1==a[h+1]){var d=n.map(t[h]+o),p=d-i;if(p<0||p>=r.content.size){u=!0;continue}var f=n.map(t[h+1]+o,-1)-i,m=r.content.findIndex(p),g=m.offset,v=r.maybeChild(m.index);if(v&&g==p&&g+v.nodeSize==f){var y=a[h+2].mapInner(n,v,d+1,t[h]+o+1,s);y!=Ck?(a[h]=p,a[h+1]=f,a[h+2]=y):(a[h+1]=-2,u=!0)}else u=!0}if(u){var b=Ok(function(t,e,n,r,i,o,s){function a(t,e){for(var o=0;o<t.local.length;o++){var c=t.local[o].map(r,i,e);c?n.push(c):s.onRemove&&s.onRemove(t.local[o].spec)}for(var l=0;l<t.children.length;l+=3)a(t.children[l+2],t.children[l]+e+1)}for(var c=0;c<t.length;c+=3)-1==t[c+1]&&a(t[c+2],e[c]+o+1);return n}(a,t,e||[],n,i,o,s),r,0,s);e=b.local;for(var w=0;w<a.length;w+=3)a[w+1]<0&&(a.splice(w,3),w-=3);for(var _=0,C=0;_<b.children.length;_+=3){for(var x=b.children[_];C<a.length&&a[C]<x;)C+=3;a.splice(C,0,b.children[_],b.children[_+1],b.children[_+2])}}return new _k(e&&e.sort(Tk),a)}(this.children,o,t,e,n,r,i):o?new _k(o.sort(Tk)):Ck},_k.prototype.add=function(t,e){return e.length?this==Ck?_k.create(t,e):this.addInner(t,e,0):this},_k.prototype.addInner=function(t,e,n){var r,i=this,o=0;t.forEach((function(t,s){var a,c=s+n;if(a=kk(e,t,c)){for(r||(r=i.children.slice());o<r.length&&r[o]<s;)o+=3;r[o]==s?r[o+2]=r[o+2].addInner(t,a,c+1):r.splice(o,0,s,s+t.nodeSize,Ok(a,t,c+1,wk)),o+=3}}));var s=Sk(o?Ek(e):e,-n);return new _k(s.length?this.local.concat(s).sort(Tk):this.local,r||this.children)},_k.prototype.remove=function(t){return 0==t.length||this==Ck?this:this.removeInner(t,0)},_k.prototype.removeInner=function(t,e){for(var n=this.children,r=this.local,i=0;i<n.length;i+=3){for(var o=void 0,s=n[i]+e,a=n[i+1]+e,c=0,l=void 0;c<t.length;c++)(l=t[c])&&l.from>s&&l.to<a&&(t[c]=null,(o||(o=[])).push(l));if(o){n==this.children&&(n=this.children.slice());var u=n[i+2].removeInner(o,s+1);u!=Ck?n[i+2]=u:(n.splice(i,3),i-=3)}}if(r.length)for(var h=0,d=void 0;h<t.length;h++)if(d=t[h])for(var p=0;p<r.length;p++)r[p].eq(d,e)&&(r==this.local&&(r=this.local.slice()),r.splice(p--,1));return n==this.children&&r==this.local?this:r.length||n.length?new _k(r,n):Ck},_k.prototype.forChild=function(t,e){if(this==Ck)return this;if(e.isLeaf)return _k.empty;for(var n,r,i=0;i<this.children.length;i+=3)if(this.children[i]>=t){this.children[i]==t&&(n=this.children[i+2]);break}for(var o=t+1,s=o+e.content.size,a=0;a<this.local.length;a++){var c=this.local[a];if(c.from<s&&c.to>o&&c.type instanceof mk){var l=Math.max(o,c.from)-o,u=Math.min(s,c.to)-o;l<u&&(r||(r=[])).push(c.copy(l,u))}}if(r){var h=new _k(r.sort(Tk));return n?new xk([h,n]):h}return n||Ck},_k.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof _k)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0},_k.prototype.locals=function(t){return Ak(this.localsInner(t))},_k.prototype.localsInner=function(t){if(this==Ck)return bk;if(t.inlineContent||!this.local.some(mk.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof mk||e.push(this.local[n]);return e};var Ck=new _k;_k.empty=Ck,_k.removeOverlap=Ak;var xk=function(t){this.members=t};function Sk(t,e){if(!e||!t.length)return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(new vk(i.from+e,i.to+e,i.type))}return n}function kk(t,e,n){if(e.isLeaf)return null;for(var r=n+e.nodeSize,i=null,o=0,s=void 0;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function Ek(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function Ok(t,e,n,r){var i=[],o=!1;e.forEach((function(e,s){var a=kk(t,e,s+n);if(a){o=!0;var c=Ok(a,e,n+s+1,r);c!=Ck&&i.push(s,s+e.nodeSize,c)}}));for(var s=Sk(o?Ek(t):t,-n).sort(Tk),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new _k(s,i):Ck}function Tk(t,e){return t.from-e.from||t.to-e.to}function Ak(t){for(var e=t,n=0;n<e.length-1;n++){var r=e[n];if(r.from!=r.to)for(var i=n+1;i<e.length;i++){var o=e[i];if(o.from!=r.from){o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),Mk(e,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),Mk(e,i+1,o.copy(r.to,o.to)))}}return e}function Mk(t,e,n){for(;e<t.length&&Tk(n,t[e])>0;)e++;t.splice(e,0,n)}function Nk(t){var e=[];return t.someProp("decorations",(function(n){var r=n(t.state);r&&r!=Ck&&e.push(r)})),t.cursorWrapper&&e.push(_k.create(t.state.doc,[t.cursorWrapper.deco])),xk.from(e)}xk.prototype.forChild=function(t,e){if(e.isLeaf)return _k.empty;for(var n=[],r=0;r<this.members.length;r++){var i=this.members[r].forChild(t,e);i!=Ck&&(i instanceof xk?n=n.concat(i.members):n.push(i))}return xk.from(n)},xk.prototype.eq=function(t){if(!(t instanceof xk)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},xk.prototype.locals=function(t){for(var e,n=!0,r=0;r<this.members.length;r++){var i=this.members[r].localsInner(t);if(i.length)if(e){n&&(e=e.slice(),n=!1);for(var o=0;o<i.length;o++)e.push(i[o])}else e=i}return e?Ak(n?e:e.sort(Tk)):bk},xk.from=function(t){switch(t.length){case 0:return Ck;case 1:return t[0];default:return new xk(t)}};var Dk=function(t,e){this._props=e,this.state=e.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Vk(this),this.markCursor=null,this.cursorWrapper=null,Pk(this),this.nodeViews=Fk(this),this.docView=Wx(this.state.doc,Rk(this),Nk(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.lastIOSEnterFallbackTimeout=null,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new HS(t,(function(e,n,r,i){return function(t,e,n,r,i){if(e<0){var o=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,s=aS(t,o);if(s&&!t.state.selection.eq(s)){var a=t.state.tr.setSelection(s);"pointer"==o?a.setMeta("pointer",!0):"key"==o&&a.scrollIntoView(),t.dispatch(a)}}else{var c=t.state.doc.resolve(e),l=c.sharedDepth(n);e=c.before(l+1),n=t.state.doc.resolve(n).after(l+1);var u,h,d=t.state.selection,p=function(t,e,n){var r=t.docView.parseRange(e,n),i=r.node,o=r.fromOffset,s=r.toOffset,a=r.from,c=r.to,l=t.root.getSelection(),u=null,h=l.anchorNode;if(h&&t.dom.contains(1==h.nodeType?h:h.parentNode)&&(u=[{node:h,offset:l.anchorOffset}],wx(l)||u.push({node:l.focusNode,offset:l.focusOffset})),ox.chrome&&8===t.lastKeyCode)for(var d=s;d>o;d--){var p=i.childNodes[d-1],f=p.pmViewDesc;if("BR"==p.nodeType&&!f){s=d;break}if(!f||f.size)break}var m=t.state.doc,g=t.someProp("domParser")||z_.fromSchema(t.state.schema),v=m.resolve(a),y=null,b=g.parse(i,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:o,to:s,preserveWhitespace:!v.parent.type.spec.code||"full",editableContent:!0,findPositions:u,ruleFromNode:AS,context:v});if(u&&null!=u[0].pos){var w=u[0].pos,_=u[1]&&u[1].pos;null==_&&(_=w),y={anchor:w+a,head:_+a}}return{doc:b,sel:y,from:a,to:c}}(t,e,n),f=t.state.doc,m=f.slice(p.from,p.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(u=t.state.selection.to,h="end"):(u=t.state.selection.from,h="start"),t.lastKeyCode=null;var g=function(t,e,n,r,i){var o=t.findDiffStart(e,n);if(null==o)return null;var s=t.findDiffEnd(e,n+t.size,n+e.size),a=s.a,c=s.b;return"end"==i&&(r-=a+Math.max(0,o-Math.min(a,c))-o),a<o&&t.size<e.size?(c=(o-=r<=o&&r>=a?o-r:0)+(c-a),a=o):c<o&&(a=(o-=r<=o&&r>=c?o-r:0)+(a-c),c=o),{start:o,endA:a,endB:c}}(m.content,p.doc.content,p.from,u,h);if(!g){if(!(r&&d instanceof LC&&!d.empty&&d.$head.sameParent(d.$anchor))||t.composing||p.sel&&p.sel.anchor!=p.sel.head){if(p.sel){var v=MS(t,t.state.doc,p.sel);v&&!v.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(v))}return}g={start:d.from,endA:d.to,endB:d.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof LC&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),ox.ie&&ox.ie_version<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>p.from&&" \xa0"==p.doc.textBetween(g.start-p.from-1,g.start-p.from+1)&&(g.start--,g.endA--,g.endB--);var y,b=p.doc.resolveNoCache(g.start-p.from),w=p.doc.resolveNoCache(g.endB-p.from),_=b.sameParent(w)&&b.parent.inlineContent;if((ox.ios&&t.lastIOSEnter>Date.now()-225&&(!_||i.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName})))||!_&&b.pos<p.doc.content.size&&(y=VC.findFrom(p.doc.resolve(b.pos+1),1,!0))&&y.head==w.pos)&&t.someProp("handleKeyDown",(function(e){return e(t,_x(13,"Enter"))})))t.lastIOSEnter=0;else if(t.state.selection.anchor>g.start&&function(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||NS(r,!0,!1)<i.pos)return!1;var o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var s=t.resolve(NS(o,!0,!0));return!(!s.parent.isTextblock||s.pos>n||NS(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(f,g.start,g.endA,b,w)&&t.someProp("handleKeyDown",(function(e){return e(t,_x(8,"Backspace"))})))ox.android&&ox.chrome&&t.domObserver.suppressSelectionUpdates();else{ox.android&&!_&&b.start()!=w.start()&&0==w.parentOffset&&b.depth==w.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==g.endA&&(g.endB-=2,w=p.doc.resolveNoCache(g.endB-p.from),setTimeout((function(){t.someProp("handleKeyDown",(function(e){return e(t,_x(13,"Enter"))}))}),20));var C,x,S,k,E=g.start,O=g.endA;if(_)if(b.pos==w.pos)ox.ie&&ox.ie_version<=11&&0==b.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((function(){return cS(t)}),20)),C=t.state.tr.delete(E,O),x=f.resolve(g.start).marksAcross(f.resolve(g.endA));else if(g.endA==g.endB&&(k=f.resolve(g.start))&&(S=function(t,e){for(var n,r,i,o=t.firstChild.marks,s=e.firstChild.marks,a=o,c=s,l=0;l<s.length;l++)a=s[l].removeFromSet(a);for(var u=0;u<o.length;u++)c=o[u].removeFromSet(c);if(1==a.length&&0==c.length)r=a[0],n="add",i=function(t){return t.mark(r.addToSet(t.marks))};else{if(0!=a.length||1!=c.length)return null;r=c[0],n="remove",i=function(t){return t.mark(r.removeFromSet(t.marks))}}for(var h=[],d=0;d<e.childCount;d++)h.push(i(e.child(d)));if(Ww.from(h).eq(t))return{mark:r,type:n}}(b.parent.content.cut(b.parentOffset,w.parentOffset),k.parent.content.cut(k.parentOffset,g.endA-k.start()))))C=t.state.tr,"add"==S.type?C.addMark(E,O,S.mark):C.removeMark(E,O,S.mark);else if(b.parent.child(b.index()).isText&&b.index()==w.index()-(w.textOffset?0:1)){var T=b.parent.textBetween(b.parentOffset,w.parentOffset);if(t.someProp("handleTextInput",(function(e){return e(t,E,O,T)})))return;C=t.state.tr.insertText(T,E,O)}if(C||(C=t.state.tr.replace(E,O,p.doc.slice(g.start-p.from,g.endB-p.from))),p.sel){var A=MS(t,C.doc,p.sel);A&&!(ox.chrome&&ox.android&&t.composing&&A.empty&&(A.head==E||A.head==C.mapping.map(O)-1)||ox.ie&&A.empty&&A.head==E)&&C.setSelection(A)}x&&C.ensureMarks(x),t.dispatch(C.scrollIntoView())}}}(t,e,n,r,i)})),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=$S[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}(t,e)||JS(t,e)||!t.editable&&e.type in qS||n(t,e)})};for(var n in $S)e(n);ox.safari&&t.dom.addEventListener("input",(function(){return null})),GS(t)}(this),this.pluginViews=[],this.updatePluginViews()},Ik={props:{configurable:!0},root:{configurable:!0}};function Rk(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var r in n)"class"==r?e.class+=" "+n[r]:e[r]||"contenteditable"==r||"nodeName"==r||(e[r]=String(n[r]))})),[vk.node(0,t.state.doc.content.size,e)]}function Pk(t){if(t.markCursor){var e=document.createElement("img");e.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:e,deco:vk.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Vk(t){return!t.someProp("editable",(function(e){return!1===e(t.state)}))}function Fk(t){var e={};return t.someProp("nodeViews",(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])})),e}function jk(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function Lk(t,e){for(;t;t="start"==e?t.firstChild:t.lastChild)if(t.isTextblock)return!0;return!1}function zk(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Uk(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function Hk(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Bk(t,e,n){var r,i,o=e.nodeBefore,s=e.nodeAfter;if(o.type.spec.isolating||s.type.spec.isolating)return!1;if(function(t,e,n){var r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(o,o+1)||!i.isTextblock&&!_C(t.doc,e.pos)||(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),0)))}(t,e,n))return!0;if(e.parent.canReplace(e.index(),e.index()+1)&&(r=(i=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&i.matchType(r[0]||s.type).validEnd){if(n){for(var a=e.pos+s.nodeSize,c=Ww.empty,l=r.length-1;l>=0;l--)c=Ww.from(r[l].create(null,c));c=Ww.from(o.copy(c));var u=t.tr.step(new fC(e.pos-1,a,e.pos,a,new Xw(c,1,0),r.length,!0)),h=a+2*r.length;_C(u.doc,h)&&u.join(h),n(u.scrollIntoView())}return!0}var d=VC.findFrom(e,1),p=d&&d.$from.blockRange(d.$to),f=p&&vC(p);return null!=f&&f>=e.depth&&(n&&n(t.tr.lift(p,f).scrollIntoView()),!0)}function $k(t,e){return function(n,r){var i=n.selection,o=i.from,s=i.to,a=!1;return n.doc.nodesBetween(o,s,(function(r,i){if(a)return!1;if(r.isTextblock&&!r.hasMarkup(t,e))if(r.type==t)a=!0;else{var o=n.doc.resolve(i),s=o.index();a=o.parent.canReplaceWith(s,s+1,t)}})),!!a&&(r&&r(n.tr.setBlockType(o,s,t,e).scrollIntoView()),!0)}}function qk(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(e,n,r){for(var i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}Ik.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props},Dk.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&GS(this),this._props=t,this.updateStateInner(t.state,!0)},Dk.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];for(var r in e.state=this.state,t)e[r]=t[r];this.update(e)},Dk.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},Dk.prototype.updateStateInner=function(t,e){var n=this,r=this.state,i=!1,o=!1;if(t.storedMarks&&this.composing&&(sk(this),o=!0),this.state=t,e){var s=Fk(this);(function(t,e){var n=0,r=0;for(var i in t){if(t[i]!=e[i])return!0;n++}for(var o in e)r++;return n!=r})(s,this.nodeViews)&&(this.nodeViews=s,i=!0),GS(this)}this.editable=Vk(this),Pk(this);var a=Nk(this),c=Rk(this),l=e?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",u=i||!this.docView.matchesNode(t.doc,c,a);!u&&t.selection.eq(r.selection)||(o=!0);var h,d,p,f,m,g,v,y,b,w,_="preserve"==l&&o&&null==this.dom.style.overflowAnchor&&function(t){for(var e,n,r=t.dom.getBoundingClientRect(),i=Math.max(0,r.top),o=(r.left+r.right)/2,s=i+1;s<Math.min(innerHeight,r.bottom);s+=5){var a=t.root.elementFromPoint(o,s);if(a!=t.dom&&t.dom.contains(a)){var c=a.getBoundingClientRect();if(c.top>=i-20){e=a,n=c.top;break}}}return{refDOM:e,refTop:n,stack:kx(t.dom)}}(this);if(o){this.domObserver.stop();var C=u&&(ox.ie||ox.chrome)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&(f=r.selection,m=t.selection,g=Math.min(f.$anchor.sharedDepth(f.head),m.$anchor.sharedDepth(m.head)),f.$anchor.start(g)!=m.$anchor.start(g));if(u){var x=ox.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!i&&this.docView.update(t.doc,c,a,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Wx(t.doc,c,a,this.dom,this)),x&&!this.trackWrites&&(C=!0)}C||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(h=this,d=h.docView.domFromPos(h.state.selection.anchor),p=h.root.getSelection(),mx(d.node,d.offset,p.anchorNode,p.anchorOffset)))?cS(this,C):(pS(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==l)this.dom.scrollTop=0;else if("to selection"==l){var S=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(t){return t(n)}))||function(t,e,n){for(var r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument,s=n||t.dom;s;s=dx(s))if(1==s.nodeType){var a=s==o.body||1!=s.nodeType,c=a?Cx(o):Sx(s),l=0,u=0;if(e.top<c.top+xx(r,"top")?u=-(c.top-e.top+xx(i,"top")):e.bottom>c.bottom-xx(r,"bottom")&&(u=e.bottom-c.bottom+xx(i,"bottom")),e.left<c.left+xx(r,"left")?l=-(c.left-e.left+xx(i,"left")):e.right>c.right-xx(r,"right")&&(l=e.right-c.right+xx(i,"right")),l||u)if(a)o.defaultView.scrollBy(l,u);else{var h=s.scrollLeft,d=s.scrollTop;u&&(s.scrollTop+=u),l&&(s.scrollLeft+=l);var p=s.scrollLeft-h,f=s.scrollTop-d;e={left:e.left-p,top:e.top-f,right:e.right-p,bottom:e.bottom-f}}if(a)break}}(this,t.selection instanceof UC?this.docView.domAfterPos(t.selection.from).getBoundingClientRect():this.coordsAtPos(t.selection.head,1),S)}else _&&(b=(v=_).refTop,Ex(v.stack,0==(w=(y=v.refDOM)?y.getBoundingClientRect().top:0)?0:w-b))},Dk.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()},Dk.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins)for(var e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.destroyPluginViews();for(var r=0;r<this.state.plugins.length;r++){var i=this.state.plugins[r];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}},Dk.prototype.someProp=function(t,e){var n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;var i=this.state.plugins;if(i)for(var o=0;o<i.length;o++){var s=i[o].props[t];if(null!=s&&(n=e?e(s):s))return n}},Dk.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Dk.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(Ox)return t.focus(Ox);var e=kx(t);t.focus(null==Ox?{get preventScroll(){return Ox={preventScroll:!0},!0}}:void 0),Ox||(Ox=!1,Ex(e,0))}(this.dom),cS(this),this.domObserver.start()},Ik.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return t||document},Dk.prototype.posAtCoords=function(t){return function(t,e){var n,r,i,o,s=t.root;if(s.caretPositionFromPoint)try{var a=s.caretPositionFromPoint(e.left,e.top);a&&(i=(n=a).offsetNode,o=n.offset)}catch(m){}if(!i&&s.caretRangeFromPoint){var c=s.caretRangeFromPoint(e.left,e.top);c&&(i=(r=c).startContainer,o=r.startOffset)}var l,u=s.elementFromPoint(e.left,e.top+1);if(!u||!t.dom.contains(1!=u.nodeType?u.parentNode:u)){var h=t.dom.getBoundingClientRect();if(!Tx(e,h))return null;if(!(u=function t(e,n,r){var i=e.childNodes.length;if(i&&r.top<r.bottom)for(var o=Math.max(0,Math.min(i-1,Math.floor(i*(n.top-r.top)/(r.bottom-r.top))-2)),s=o;;){var a=e.childNodes[s];if(1==a.nodeType)for(var c=a.getClientRects(),l=0;l<c.length;l++){var u=c[l];if(Tx(n,u))return t(a,n,u)}if((s=(s+1)%i)==o)break}return e}(t.dom,e,h)))return null}if(ox.safari&&u.draggable&&(i=o=null),u=function(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(u,e),i){if(ox.gecko&&1==i.nodeType&&(o=Math.min(o,i.childNodes.length))<i.childNodes.length){var d,p=i.childNodes[o];"IMG"==p.nodeName&&(d=p.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&o++}i==t.dom&&o==i.childNodes.length-1&&1==i.lastChild.nodeType&&e.top>i.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:0!=o&&1==i.nodeType&&"BR"==i.childNodes[o-1].nodeName||(l=function(t,e,n,r){for(var i=-1,o=e;o!=t.dom;){var s=t.docView.nearestDesc(o,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)i=s.posBefore;else{if(!(a.right<r.left||a.bottom<r.top))break;i=s.posAfter}}o=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n)}(t,i,o,e))}null==l&&(l=function(t,e,n){var r=function t(e,n){for(var r,i,o=2e8,s=0,a=n.top,c=n.top,l=e.firstChild,u=0;l;l=l.nextSibling,u++){var h=void 0;if(1==l.nodeType)h=l.getClientRects();else{if(3!=l.nodeType)continue;h=fx(l).getClientRects()}for(var d=0;d<h.length;d++){var p=h[d];if(p.top<=a&&p.bottom>=c){a=Math.max(p.bottom,a),c=Math.min(p.top,c);var f=p.left>n.left?p.left-n.left:p.right<n.left?n.left-p.right:0;if(f<o){r=l,o=f,i=f&&3==r.nodeType?{left:p.right<n.left?p.right:p.left,top:n.top}:n,1==l.nodeType&&f&&(s=u+(n.left>=(p.left+p.right)/2?1:0));continue}}!r&&(n.left>=p.right&&n.top>=p.top||n.left>=p.left&&n.top>=p.bottom)&&(s=u+1)}}return r&&3==r.nodeType?function(t,e){for(var n=t.nodeValue.length,r=document.createRange(),i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);var o=Ax(r,1);if(o.top!=o.bottom&&Tx(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}(r,i):!r||o&&1==r.nodeType?{node:e,offset:s}:t(r,i)}(e,n),i=r.node,o=r.offset,s=-1;if(1==i.nodeType&&!i.firstChild){var a=i.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(i,o,s)}(t,u,e));var f=t.docView.nearestDesc(u,!0);return{pos:l,inside:f?f.posAtStart-f.border:-1}}(this,t)},Dk.prototype.coordsAtPos=function(t,e){return void 0===e&&(e=1),Nx(this,t,e)},Dk.prototype.domAtPos=function(t){return this.docView.domFromPos(t)},Dk.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},Dk.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},Dk.prototype.endOfTextblock=function(t,e){return function(t,e,n){return Vx==e&&Fx==n?jx:(Vx=e,Fx=n,jx="up"==n||"down"==n?function(t,e,n){var r=e.selection,i="up"==n?r.$anchor.min(r.$head):r.$anchor.max(r.$head);return Rx(t,e,(function(){for(var e=t.docView.domFromPos(i.pos).node;;){var r=t.docView.nearestDesc(e,!0);if(!r)break;if(r.node.isBlock){e=r.dom;break}e=r.dom.parentNode}for(var o=Nx(t,i.pos,1),s=e.firstChild;s;s=s.nextSibling){var a=void 0;if(1==s.nodeType)a=s.getClientRects();else{if(3!=s.nodeType)continue;a=fx(s,0,s.nodeValue.length).getClientRects()}for(var c=0;c<a.length;c++){var l=a[c];if(l.bottom>l.top&&("up"==n?l.bottom<o.top+1:l.top>o.bottom-1))return!1}}return!0}))}(t,e,n):function(t,e,n){var r=e.selection.$head;if(!r.parent.isTextblock)return!1;var i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=getSelection();return Px.test(r.parent.textContent)&&a.modify?Rx(t,e,(function(){var e=a.getRangeAt(0),i=a.focusNode,o=a.focusOffset,s=a.caretBidiLevel;a.modify("move",n,"character");var c=!(r.depth?t.docView.domAfterPos(r.before()):t.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||i==a.focusNode&&o==a.focusOffset;return a.removeAllRanges(),a.addRange(e),null!=s&&(a.caretBidiLevel=s),c})):"left"==n||"backward"==n?o:s}(t,e,n))}(this,e||this.state,t)},Dk.prototype.destroy=function(){this.docView&&(function(t){for(var e in t.domObserver.stop(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout),clearTimeout(t.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Nk(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Dk.prototype.dispatchEvent=function(t){return function(t,e){JS(t,e)||!$S[e.type]||!t.editable&&e.type in qS||$S[e.type](t,e)}(this,t)},Dk.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(Dk.prototype,Ik);var Wk=qk(jk,(function(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0))return!1;var i=zk(r);if(!i){var o=r.blockRange(),s=o&&vC(o);return null!=s&&(e&&e(t.tr.lift(o,s).scrollIntoView()),!0)}var a=i.nodeBefore;if(!a.type.spec.isolating&&Bk(t,i,e))return!0;if(0==r.parent.content.size&&(Lk(a,"end")||UC.isSelectable(a))){if(e){var c=t.tr.deleteRange(r.before(),r.after());c.setSelection(Lk(a,"end")?VC.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):UC.create(c.doc,i.pos-a.nodeSize)),e(c.scrollIntoView())}return!0}return!(!a.isAtom||i.depth!=r.depth-1||(e&&e(t.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),0))}),(function(t,e,n){var r=t.selection,i=r.$head,o=i;if(!r.empty)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;o=zk(i)}var s=o&&o.nodeBefore;return!(!s||!UC.isSelectable(s)||(e&&e(t.tr.setSelection(UC.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),0))})),Gk=qk(jk,(function(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;var i=Uk(r);if(!i)return!1;var o=i.nodeAfter;if(Bk(t,i,e))return!0;if(0==r.parent.content.size&&(Lk(o,"start")||UC.isSelectable(o))){if(e){var s=t.tr.deleteRange(r.before(),r.after());s.setSelection(Lk(o,"start")?VC.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):UC.create(s.doc,s.mapping.map(i.pos))),e(s.scrollIntoView())}return!0}return!(!o.isAtom||i.depth!=r.depth-1||(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),0))}),(function(t,e,n){var r=t.selection,i=r.$head,o=i;if(!r.empty)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;o=Uk(i)}var s=o&&o.nodeAfter;return!(!s||!UC.isSelectable(s)||(e&&e(t.tr.setSelection(UC.create(t.doc,o.pos)).scrollIntoView()),0))})),Jk={Enter:qk((function(t,e){var n=t.selection,r=n.$head;return!(!r.parent.type.spec.code||!r.sameParent(n.$anchor)||(e&&e(t.tr.insertText("\n").scrollIntoView()),0))}),(function(t,e){var n=t.selection,r=n.$from,i=n.$to;if(r.parent.inlineContent||i.parent.inlineContent)return!1;var o=Hk(r.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){var s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(LC.create(a.doc,s+1)),e(a.scrollIntoView())}return!0}),(function(t,e){var n=t.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(wC(t.doc,r))return e&&e(t.tr.split(r).scrollIntoView()),!0}var i=n.blockRange(),o=i&&vC(i);return null!=o&&(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)}),(function(t,e){var n=t.selection,r=n.$from,i=n.$to;if(t.selection instanceof UC&&t.selection.node.isBlock)return!(!r.parentOffset||!wC(t.doc,r.pos)||(e&&e(t.tr.split(r.pos).scrollIntoView()),0));if(!r.parent.isBlock)return!1;if(e){var o=i.parentOffset==i.parent.content.size,s=t.tr;t.selection instanceof LC&&s.deleteSelection();var a=0==r.depth?null:Hk(r.node(-1).contentMatchAt(r.indexAfter(-1))),c=o&&a?[{type:a}]:null,l=wC(s.doc,s.mapping.map(r.pos),1,c);c||l||!wC(s.doc,s.mapping.map(r.pos),1,a&&[{type:a}])||(c=[{type:a}],l=!0),l&&(s.split(s.mapping.map(r.pos),1,c),o||r.parentOffset||r.parent.type==a||!r.node(-1).canReplace(r.index(-1),r.indexAfter(-1),Ww.from(a.create(),r.parent))||s.setNodeMarkup(s.mapping.map(r.before()),a)),e(s.scrollIntoView())}return!0})),"Mod-Enter":function(t,e){var n=t.selection,r=n.$head;if(!r.parent.type.spec.code||!r.sameParent(n.$anchor))return!1;var i=r.node(-1),o=r.indexAfter(-1),s=Hk(i.contentMatchAt(o));if(!i.canReplaceWith(o,o,s))return!1;if(e){var a=r.after(),c=t.tr.replaceWith(a,a,s.createAndFill());c.setSelection(VC.near(c.doc.resolve(a),1)),e(c.scrollIntoView())}return!0},Backspace:Wk,"Mod-Backspace":Wk,Delete:Gk,"Mod-Delete":Gk,"Mod-a":function(t,e){return e&&e(t.tr.setSelection(new BC(t.doc))),!0}},Kk={"Ctrl-h":Jk.Backspace,"Alt-Backspace":Jk["Mod-Backspace"],"Ctrl-d":Jk.Delete,"Ctrl-Alt-Backspace":Jk["Mod-Delete"],"Alt-Delete":Jk["Mod-Delete"],"Alt-d":Jk["Mod-Delete"]};for(var Zk in Jk)Kk[Zk]=Jk[Zk];"undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&os.platform();var Qk=["ol",0],Yk=["ul",0],Xk=["li",0],tE={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1}}}],toDOM:function(t){return 1==t.attrs.order?Qk:["ol",{start:t.attrs.order},0]}},eE={parseDOM:[{tag:"ul"}],toDOM:function(){return Yk}},nE={parseDOM:[{tag:"li"}],toDOM:function(){return Xk},defining:!0},rE=["p",0],iE=["blockquote",0],oE=["hr"],sE=["pre",["code",0]],aE=["br"],cE={doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(){return rE}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return iE}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return oE}},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(t){return["h"+t.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return sE}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(t){return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")}}}],toDOM:function(t){var e=t.attrs;return["img",{src:e.src,alt:e.alt,title:e.title}]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return aE}}},lE=["em",0],uE=["strong",0],hE=["code",0],dE={link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(t){return{href:t.getAttribute("href"),title:t.getAttribute("title")}}}],toDOM:function(t){var e=t.attrs;return["a",{href:e.href,title:e.title},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return lE}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(t){return"normal"!=t.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(t){return/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}}],toDOM:function(){return uE}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return hE}}};new j_({nodes:cE,marks:dE});const pE=(t,e,n={})=>{const{$from:r,to:i}=t.selection,o=((t,e)=>{for(let n=e.depth;n>0;n--)if(e.node(n).type===t)return e.node(n).type;return null})(e,r);return Object.entries(n).length&&o?i<=r.end()&&r.parent.hasMarkup(e,n):!!o},fE={bold:'\n  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />\n  <path d="M0 0h24v24H0z" fill="none" />\n',italic:'\n  <path d="M0 0h24v24H0z" fill="none" />\n  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />\n',code:'\n<path d="M0 0h24v24H0V0z" fill="none"/>\n<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>\n',ordered_list:'\n<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>\n<path d="M0 0h24v24H0z" fill="none"/>\n',bullet_list:'\n<path d="M0 0h24v24H0V0z" fill="none"/>\n<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>\n',quote:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>\n'};function mE(t,e=20,n=20){return`\n  <svg\n    xmlns="http://www.w3.org/2000/svg"\n    viewBox="0 0 24 24"\n    fill="black"\n    height=${n}\n    width=${e}\n  >\n    ${fE[t]||"<path></path>"}\n  </svg>\n  `}const gE=(t,e=1)=>e>0?t.reduce((t,n)=>t.concat(Array.isArray(n)?gE(n,e-1):n),[]):t.slice(),vE={bold:{key:"strong",i18nKey:"bold",icon:"bold",type:"mark"},italic:{key:"em",i18nKey:"italics",icon:"italic",type:"mark"},code:{key:"code",i18nKey:"code",icon:"code",type:"mark"},ordered_list:{key:"ordered_list",i18nKey:"ordered_list",icon:"ordered_list",type:"node"},bullet_list:{key:"bullet_list",i18nKey:"bullet_list",icon:"bullet_list",type:"node"},h1:{key:"heading",i18nKey:"heading",attrs:{level:1},type:"node"},h2:{key:"heading",i18nKey:"heading",attrs:{level:2},type:"node"},h3:{key:"heading",i18nKey:"heading",attrs:{level:3},type:"node"},h4:{key:"heading",i18nKey:"heading",attrs:{level:4},type:"node"},h5:{key:"heading",i18nKey:"heading",attrs:{level:5},type:"node"},h6:{key:"heading",i18nKey:"heading",attrs:{level:6},type:"node"},blockquote:{key:"blockquote",i18nKey:"blockquote",icon:"quote",type:"node"}},yE="NgxEditor--Disabled",bE="NgxEditor__Dropdown--Open",wE="NgxEditor__Dropdown--Active",_E="NgxEditor__Dropdown--Selected",CE=new Map;class xE{constructor(t,e,n,r){this.updates=[],this.dropdownGroup=t,this.dropdownFields=e,this.editorView=n,this.options=r}getWrapperDom(){let t=!1;const e=document.createElement("div"),n=this.options.labels;e.classList.add("NgxEditor__Dropdown");const r=document.createElement("div");r.classList.add("NgxEditor__Dropdown__Text"),r.textContent=n[this.dropdownGroup],e.appendChild(r);const i=document.createElement("div");i.classList.add("NgxEditor__Dropdown__DropdownMenu");const o=t=>{t.preventDefault(),e.contains(t.target)||s()},s=()=>{e.classList.remove(bE),t=!1,window.removeEventListener("mousedown",o)};return e.addEventListener("click",n=>{n.preventDefault(),t?s():(n=>{i.contains(n.target)||(e.classList.add(bE),t=!0,window.addEventListener("mousedown",o))})(n)}),this.dropdownFields.forEach(t=>{const o=vE[t];let a=n[o.key];"heading"===o.key&&(a+=" "+o.attrs.level);const c=new SE(o,this.editorView,{classNames:["NgxEditor__Dropdown__Item"],textContent:a,attrs:{title:a},activeClass:wE,disabledClass:yE}),{update:l,dom:u}=c.render();u.addEventListener("click",t=>{t.preventDefault(),s()}),i.appendChild(u),this.updates.push(t=>{l(t);const o=i.getElementsByClassName(wE);o.length?(r.textContent=o[0].textContent,e.classList.add(_E)):(r.textContent=n[this.dropdownGroup],e.classList.remove(_E))})}),e.appendChild(i),e}render(){return this.dom=this.getWrapperDom(),{dom:this.dom,updates:this.updates}}}class SE{constructor(t,e,n){this.menuItem=t,this.editorView=e,this.spec=n}render(){const t=this.dom=this.getDom(),{schema:e}=this.editorView.state,{command:n}=this.setupCommandListeners(),{activeClass:r,disabledClass:i}=this.spec;return{dom:t,update:o=>{const s=this.menuItem;let a=!1;const c=n(this.editorView.state,null);"mark"===s.type&&(a=((t,e)=>{const{from:n,$from:r,to:i,empty:o}=t.selection;return o?!!e.isInSet(t.storedMarks||r.marks()):t.doc.rangeHasMark(n,i,e)})(o,e.marks[s.key])),"node"===s.type&&(a=pE(o,e.nodes[s.key],s.attrs)),t.classList.toggle(r,a),t.classList.toggle(i,!c)}}}getDom(){const t=document.createElement("div");return this.spec.classNames&&this.spec.classNames.forEach(e=>{t.classList.add(e)}),this.spec.attrs&&Object.entries(this.spec.attrs).forEach(e=>{t.setAttribute(e[0],e[1])}),this.spec.innerHTML&&(t.innerHTML=this.spec.innerHTML),this.spec.textContent&&(t.innerHTML=this.spec.textContent),t}setupCommandListeners(){const{schema:t}=this.editorView.state;let e;var n,r;if("mark"===this.menuItem.type&&(n=t.marks[this.menuItem.key],e=function(t,e){var i=t.selection,o=i.$cursor,s=i.ranges;if(i.empty&&!o||!function(t,e,n){for(var r=function(r){var i=e[r],o=i.$from,s=i.$to,a=0==o.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(o.pos,s.pos,(function(t){if(a)return!1;a=t.inlineContent&&t.type.allowsMarkType(n)})),a)return{v:!0}},i=0;i<e.length;i++){var o=r(i);if(o)return o.v}return!1}(t.doc,s,n))return!1;if(e)if(o)n.isInSet(t.storedMarks||o.marks())?e(t.tr.removeStoredMark(n)):e(t.tr.addStoredMark(n.create(r)));else{for(var a=!1,c=t.tr,l=0;!a&&l<s.length;l++){var u=s[l];a=t.doc.rangeHasMark(u.$from.pos,u.$to.pos,n)}for(var h=0;h<s.length;h++){var d=s[h],p=d.$from,f=d.$to;a?c.removeMark(p.pos,f.pos,n):c.addMark(p.pos,f.pos,n.create(r))}e(c.scrollIntoView())}return!0}),"node"===this.menuItem.type){const n=t.nodes[this.menuItem.key];((t,e)=>t===e.nodes.list_item||t===e.nodes.ordered_list||t===e.nodes.bullet_list)(n,t)&&(e=((t,e)=>(n,r)=>{return pE(n,t)?function(t){return function(e,n){var r=e.selection,i=r.$from,o=i.blockRange(r.$to,(function(e){return e.childCount&&e.firstChild.type==t}));return!!o&&(!n||(i.node(o.depth-1).type==t?function(t,e,n,r){var i=t.tr,o=r.end,s=r.$to.end(r.depth);return o<s&&(i.step(new fC(o-1,s,o,s,new Xw(Ww.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new d_(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth)),e(i.lift(r,vC(r)).scrollIntoView()),!0}(e,n,t,o):function(t,e,n){for(var r=t.tr,i=n.parent,o=n.end,s=n.endIndex-1,a=n.startIndex;s>a;s--)o-=i.child(s).nodeSize,r.delete(o-1,o+1);var c=r.doc.resolve(n.start),l=c.nodeAfter,u=0==n.startIndex,h=n.endIndex==i.childCount,d=c.node(-1),p=c.index(-1);if(!d.canReplace(p+(u?0:1),p+1,l.content.append(h?Ww.empty:Ww.from(i))))return!1;var f=c.pos,m=f+l.nodeSize;return r.step(new fC(f-(u?1:0),m+(h?1:0),f+1,m-1,new Xw((u?Ww.empty:Ww.from(i.copy(Ww.empty))).append(h?Ww.empty:Ww.from(i.copy(Ww.empty))),u?0:1,h?0:1),u?0:1)),e(r.scrollIntoView()),!0}(e,n,o)))}}(e)(n,r):(i=t,function(t,e){var n=t.selection,r=n.$from,o=n.$to,s=r.blockRange(o),a=!1,c=s;if(!s)return!1;if(s.depth>=2&&r.node(s.depth-1).type.compatibleContent(i)&&0==s.startIndex){if(0==r.index(s.depth-1))return!1;var l=t.doc.resolve(s.start-2);c=new d_(l,l,s.depth),s.endIndex<s.parent.childCount&&(s=new d_(r,t.doc.resolve(o.end(s.depth)),s.depth)),a=!0}var u=yC(c,i,void 0,s);return!!u&&(e&&e(function(t,e,n,r,i){for(var o=Ww.empty,s=n.length-1;s>=0;s--)o=Ww.from(n[s].type.create(n[s].attrs,o));t.step(new fC(e.start-(r?2:0),e.end,e.start,e.end,new Xw(o,0,0),n.length,!0));for(var a=0,c=0;c<n.length;c++)n[c].type==i&&(a=c+1);for(var l=n.length-a,u=e.start+n.length-(r?2:0),h=e.parent,d=e.startIndex,p=e.endIndex,f=!0;d<p;d++,f=!1)!f&&wC(t.doc,u,l)&&(t.split(u,l),u+=2*l),u+=h.child(d).nodeSize;return t}(t.tr,s,u,a,i).scrollIntoView()),!0)})(n,r);var i})(n,t.nodes.list_item)),n===t.nodes.heading&&(e=((t,e,n={})=>(r,i)=>pE(r,t,n)?$k(e)(r,i):$k(t,n)(r,i))(n,t.nodes.paragraph,{level:this.menuItem.attrs.level})),n===t.nodes.blockquote&&(e=(t=>(e,n)=>{return pE(e,t)?function(t,e){var n=t.selection,r=n.$from.blockRange(n.$to),i=r&&vC(r);return null!=i&&(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)}(e,n):(r=t,function(t,e){var n=t.selection,i=n.$from.blockRange(n.$to),o=i&&yC(i,r,void 0);return!!o&&(e&&e(t.tr.wrap(i,o).scrollIntoView()),!0)})(e,n);var r})(n))}return this.dom.addEventListener("mousedown",t=>{t.preventDefault(),1===t.buttons&&e(this.editorView.state,this.editorView.dispatch)}),{command:e}}}class kE{constructor(t,e){this.view=t,this.options=e,this.render(),this.update()}render(){const t=document.createElement("div");t.className="NgxEditor__MenuBar";const{update:e}=((t,e,n)=>{const r=[],i=t.toolbar;i.forEach((o,s)=>{const a=i.length-1===s;o.forEach((i,s)=>{const c=o.length-1===s;if("object"==typeof i&&Object.keys(i).forEach(o=>{if(CE.has(o)){const s=new xE(o,i[o],e,t).render();r.push(s.updates),n.appendChild(s.dom)}else console.warn("Unkown dropdown group:",o)}),"string"==typeof i){const o=vE[i],s=t.labels;if(o){const t={classNames:["NgxEditor__MenuItem","NgxEditor__MenuItem--Icon"],innerHTML:mE(o.icon),attrs:{title:s[o.i18nKey]},activeClass:"NgxEditor__MenuItem--Active",disabledClass:yE},i=new SE(o,e,t),{update:a,dom:c}=i.render();n.appendChild(c),r.push(a)}}if("function"==typeof i){const{dom:t,update:o}=i(e);n.appendChild(t),r.push(o)}if(c&&!a){const t=(()=>{const t=document.createElement("div");return t.className="NgxEditor__Seperator",t})();n.appendChild(t)}})});const o=gE(r,1/0);return{update(t){o.forEach(e=>{e(t)})}}})(this.options,this.view,t);this.updateMenuItems=e,this.view.dom.parentNode.insertBefore(t,this.view.dom)}update(){this.updateMenuItems(this.view.state)}}const EE={toolbar:[["bold","italic"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}]],labels:{bold:"Bold",italics:"Italics",code:"Code",ordered_list:"Ordered List",bullet_list:"Bullet List",heading:"Heading",blockquote:"Quote"}},OE=(t=EE)=>function(t){return new ex({key:new ix("menu"),view:e=>new kE(e,t)})}(t);function TE(t="Type Here..."){return new ex({key:new ix("placeholder"),props:{decorations(e){const n=e.doc;if(1===n.childCount&&n.firstChild.isTextblock&&0===n.firstChild.content.size){const e=document.createElement("span");return e.classList.add("NgxEditor__Placeholder"),e.textContent=t,_k.create(n,[vk.widget(1,e)])}return _k.empty}}})}const AE="block",ME=new j_({marks:dE,nodes:Object.assign({},cE,{list_item:Object.assign({},nE,{content:"paragraph block*"}),ordered_list:Object.assign({},tE,{content:"list_item+",group:AE}),bullet_list:Object.assign({},eE,{content:"list_item+",group:AE})})});let NE=(()=>{let t=class{constructor(){this.plugins=[OE(),TE()],this.nodeViews={},this.schema=ME}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:function(){return new t},token:t,providedIn:"root"}),t})();const DE={plugins:[],nodeViews:{},schema:ME};function IE(t){return Object.assign({},DE,t)}var RE;const PE=new Vt("NgxEditorConfig");let VE=(()=>{let t=RE=class{static forRoot(t){return{ngModule:RE,providers:[{provide:PE,useValue:t},{provide:NE,useFactory:IE,deps:[PE]}]}}};return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})(),FE=(()=>{class t{constructor(t){this.authService=t}intercept(t,e){return t=t.clone({setHeaders:{Authorization:"Bearer "+this.authService.token}}),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Oy))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),jE=(()=>{class t{}return t.\u0275mod=me({type:t,bootstrap:[Ny]}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[Ey,Oy,lw,{provide:ay,useClass:FE,multi:!0}],imports:[[hh,Dv.forRoot(Bw,{onSameUrlNavigation:"reload"}),Du,Hv,wy,Vd,Fd,VE,Sy,ow,ff,Df.forRoot()],Dv]}),t})();(function(){if(Er)throw new Error("Cannot enable prod mode after platform setup.");kr=!1})(),lh().bootstrapModule(jE).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);